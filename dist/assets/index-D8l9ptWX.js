(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const a of l)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(l){const a={};return l.integrity&&(a.integrity=l.integrity),l.referrerPolicy&&(a.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?a.credentials="include":l.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(l){if(l.ep)return;l.ep=!0;const a=t(l);fetch(l.href,a)}})();function tm(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Ah={exports:{}},Ha={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qv;function tT(){if(qv)return Ha;qv=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,l,a){var u=null;if(a!==void 0&&(u=""+a),l.key!==void 0&&(u=""+l.key),"key"in l){a={};for(var f in l)f!=="key"&&(a[f]=l[f])}else a=l;return l=a.ref,{$$typeof:n,type:r,key:u,ref:l!==void 0?l:null,props:a}}return Ha.Fragment=e,Ha.jsx=t,Ha.jsxs=t,Ha}var Pv;function nT(){return Pv||(Pv=1,Ah.exports=tT()),Ah.exports}var w=nT(),Dh={exports:{}},ve={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iv;function rT(){if(Iv)return ve;Iv=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.iterator;function v(N){return N===null||typeof N!="object"?null:(N=y&&N[y]||N["@@iterator"],typeof N=="function"?N:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,E={};function T(N,K,W){this.props=N,this.context=K,this.refs=E,this.updater=W||b}T.prototype.isReactComponent={},T.prototype.setState=function(N,K){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,K,"setState")},T.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function C(){}C.prototype=T.prototype;function j(N,K,W){this.props=N,this.context=K,this.refs=E,this.updater=W||b}var L=j.prototype=new C;L.constructor=j,x(L,T.prototype),L.isPureReactComponent=!0;var M=Array.isArray,_={H:null,A:null,T:null,S:null,V:null},q=Object.prototype.hasOwnProperty;function Q(N,K,W,Z,le,ye){return W=ye.ref,{$$typeof:n,type:N,key:K,ref:W!==void 0?W:null,props:ye}}function se(N,K){return Q(N.type,K,void 0,void 0,void 0,N.props)}function J(N){return typeof N=="object"&&N!==null&&N.$$typeof===n}function ce(N){var K={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(W){return K[W]})}var xe=/\/+/g;function me(N,K){return typeof N=="object"&&N!==null&&N.key!=null?ce(""+N.key):K.toString(36)}function De(){}function Ye(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(De,De):(N.status="pending",N.then(function(K){N.status==="pending"&&(N.status="fulfilled",N.value=K)},function(K){N.status==="pending"&&(N.status="rejected",N.reason=K)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function Oe(N,K,W,Z,le){var ye=typeof N;(ye==="undefined"||ye==="boolean")&&(N=null);var oe=!1;if(N===null)oe=!0;else switch(ye){case"bigint":case"string":case"number":oe=!0;break;case"object":switch(N.$$typeof){case n:case e:oe=!0;break;case m:return oe=N._init,Oe(oe(N._payload),K,W,Z,le)}}if(oe)return le=le(N),oe=Z===""?"."+me(N,0):Z,M(le)?(W="",oe!=null&&(W=oe.replace(xe,"$&/")+"/"),Oe(le,K,W,"",function(Ht){return Ht})):le!=null&&(J(le)&&(le=se(le,W+(le.key==null||N&&N.key===le.key?"":(""+le.key).replace(xe,"$&/")+"/")+oe)),K.push(le)),1;oe=0;var nt=Z===""?".":Z+":";if(M(N))for(var Re=0;Re<N.length;Re++)Z=N[Re],ye=nt+me(Z,Re),oe+=Oe(Z,K,W,ye,le);else if(Re=v(N),typeof Re=="function")for(N=Re.call(N),Re=0;!(Z=N.next()).done;)Z=Z.value,ye=nt+me(Z,Re++),oe+=Oe(Z,K,W,ye,le);else if(ye==="object"){if(typeof N.then=="function")return Oe(Ye(N),K,W,Z,le);throw K=String(N),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return oe}function V(N,K,W){if(N==null)return N;var Z=[],le=0;return Oe(N,Z,"","",function(ye){return K.call(W,ye,le++)}),Z}function F(N){if(N._status===-1){var K=N._result;K=K(),K.then(function(W){(N._status===0||N._status===-1)&&(N._status=1,N._result=W)},function(W){(N._status===0||N._status===-1)&&(N._status=2,N._result=W)}),N._status===-1&&(N._status=0,N._result=K)}if(N._status===1)return N._result.default;throw N._result}var ne=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)};function ke(){}return ve.Children={map:V,forEach:function(N,K,W){V(N,function(){K.apply(this,arguments)},W)},count:function(N){var K=0;return V(N,function(){K++}),K},toArray:function(N){return V(N,function(K){return K})||[]},only:function(N){if(!J(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},ve.Component=T,ve.Fragment=t,ve.Profiler=l,ve.PureComponent=j,ve.StrictMode=r,ve.Suspense=d,ve.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=_,ve.__COMPILER_RUNTIME={__proto__:null,c:function(N){return _.H.useMemoCache(N)}},ve.cache=function(N){return function(){return N.apply(null,arguments)}},ve.cloneElement=function(N,K,W){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var Z=x({},N.props),le=N.key,ye=void 0;if(K!=null)for(oe in K.ref!==void 0&&(ye=void 0),K.key!==void 0&&(le=""+K.key),K)!q.call(K,oe)||oe==="key"||oe==="__self"||oe==="__source"||oe==="ref"&&K.ref===void 0||(Z[oe]=K[oe]);var oe=arguments.length-2;if(oe===1)Z.children=W;else if(1<oe){for(var nt=Array(oe),Re=0;Re<oe;Re++)nt[Re]=arguments[Re+2];Z.children=nt}return Q(N.type,le,void 0,void 0,ye,Z)},ve.createContext=function(N){return N={$$typeof:u,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:a,_context:N},N},ve.createElement=function(N,K,W){var Z,le={},ye=null;if(K!=null)for(Z in K.key!==void 0&&(ye=""+K.key),K)q.call(K,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(le[Z]=K[Z]);var oe=arguments.length-2;if(oe===1)le.children=W;else if(1<oe){for(var nt=Array(oe),Re=0;Re<oe;Re++)nt[Re]=arguments[Re+2];le.children=nt}if(N&&N.defaultProps)for(Z in oe=N.defaultProps,oe)le[Z]===void 0&&(le[Z]=oe[Z]);return Q(N,ye,void 0,void 0,null,le)},ve.createRef=function(){return{current:null}},ve.forwardRef=function(N){return{$$typeof:f,render:N}},ve.isValidElement=J,ve.lazy=function(N){return{$$typeof:m,_payload:{_status:-1,_result:N},_init:F}},ve.memo=function(N,K){return{$$typeof:h,type:N,compare:K===void 0?null:K}},ve.startTransition=function(N){var K=_.T,W={};_.T=W;try{var Z=N(),le=_.S;le!==null&&le(W,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(ke,ne)}catch(ye){ne(ye)}finally{_.T=K}},ve.unstable_useCacheRefresh=function(){return _.H.useCacheRefresh()},ve.use=function(N){return _.H.use(N)},ve.useActionState=function(N,K,W){return _.H.useActionState(N,K,W)},ve.useCallback=function(N,K){return _.H.useCallback(N,K)},ve.useContext=function(N){return _.H.useContext(N)},ve.useDebugValue=function(){},ve.useDeferredValue=function(N,K){return _.H.useDeferredValue(N,K)},ve.useEffect=function(N,K,W){var Z=_.H;if(typeof W=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Z.useEffect(N,K)},ve.useId=function(){return _.H.useId()},ve.useImperativeHandle=function(N,K,W){return _.H.useImperativeHandle(N,K,W)},ve.useInsertionEffect=function(N,K){return _.H.useInsertionEffect(N,K)},ve.useLayoutEffect=function(N,K){return _.H.useLayoutEffect(N,K)},ve.useMemo=function(N,K){return _.H.useMemo(N,K)},ve.useOptimistic=function(N,K){return _.H.useOptimistic(N,K)},ve.useReducer=function(N,K,W){return _.H.useReducer(N,K,W)},ve.useRef=function(N){return _.H.useRef(N)},ve.useState=function(N){return _.H.useState(N)},ve.useSyncExternalStore=function(N,K,W){return _.H.useSyncExternalStore(N,K,W)},ve.useTransition=function(){return _.H.useTransition()},ve.version="19.1.0",ve}var $v;function nm(){return $v||($v=1,Dh.exports=rT()),Dh.exports}var D=nm();const Ct=tm(D);var Rh={exports:{}},_a={},jh={exports:{}},Lh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yv;function iT(){return Yv||(Yv=1,function(n){function e(V,F){var ne=V.length;V.push(F);e:for(;0<ne;){var ke=ne-1>>>1,N=V[ke];if(0<l(N,F))V[ke]=F,V[ne]=N,ne=ke;else break e}}function t(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var F=V[0],ne=V.pop();if(ne!==F){V[0]=ne;e:for(var ke=0,N=V.length,K=N>>>1;ke<K;){var W=2*(ke+1)-1,Z=V[W],le=W+1,ye=V[le];if(0>l(Z,ne))le<N&&0>l(ye,Z)?(V[ke]=ye,V[le]=ne,ke=le):(V[ke]=Z,V[W]=ne,ke=W);else if(le<N&&0>l(ye,ne))V[ke]=ye,V[le]=ne,ke=le;else break e}}return F}function l(V,F){var ne=V.sortIndex-F.sortIndex;return ne!==0?ne:V.id-F.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var u=Date,f=u.now();n.unstable_now=function(){return u.now()-f}}var d=[],h=[],m=1,y=null,v=3,b=!1,x=!1,E=!1,T=!1,C=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;function M(V){for(var F=t(h);F!==null;){if(F.callback===null)r(h);else if(F.startTime<=V)r(h),F.sortIndex=F.expirationTime,e(d,F);else break;F=t(h)}}function _(V){if(E=!1,M(V),!x)if(t(d)!==null)x=!0,q||(q=!0,me());else{var F=t(h);F!==null&&Oe(_,F.startTime-V)}}var q=!1,Q=-1,se=5,J=-1;function ce(){return T?!0:!(n.unstable_now()-J<se)}function xe(){if(T=!1,q){var V=n.unstable_now();J=V;var F=!0;try{e:{x=!1,E&&(E=!1,j(Q),Q=-1),b=!0;var ne=v;try{t:{for(M(V),y=t(d);y!==null&&!(y.expirationTime>V&&ce());){var ke=y.callback;if(typeof ke=="function"){y.callback=null,v=y.priorityLevel;var N=ke(y.expirationTime<=V);if(V=n.unstable_now(),typeof N=="function"){y.callback=N,M(V),F=!0;break t}y===t(d)&&r(d),M(V)}else r(d);y=t(d)}if(y!==null)F=!0;else{var K=t(h);K!==null&&Oe(_,K.startTime-V),F=!1}}break e}finally{y=null,v=ne,b=!1}F=void 0}}finally{F?me():q=!1}}}var me;if(typeof L=="function")me=function(){L(xe)};else if(typeof MessageChannel<"u"){var De=new MessageChannel,Ye=De.port2;De.port1.onmessage=xe,me=function(){Ye.postMessage(null)}}else me=function(){C(xe,0)};function Oe(V,F){Q=C(function(){V(n.unstable_now())},F)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(V){V.callback=null},n.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):se=0<V?Math.floor(1e3/V):5},n.unstable_getCurrentPriorityLevel=function(){return v},n.unstable_next=function(V){switch(v){case 1:case 2:case 3:var F=3;break;default:F=v}var ne=v;v=F;try{return V()}finally{v=ne}},n.unstable_requestPaint=function(){T=!0},n.unstable_runWithPriority=function(V,F){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var ne=v;v=V;try{return F()}finally{v=ne}},n.unstable_scheduleCallback=function(V,F,ne){var ke=n.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?ke+ne:ke):ne=ke,V){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=ne+N,V={id:m++,callback:F,priorityLevel:V,startTime:ne,expirationTime:N,sortIndex:-1},ne>ke?(V.sortIndex=ne,e(h,V),t(d)===null&&V===t(h)&&(E?(j(Q),Q=-1):E=!0,Oe(_,ne-ke))):(V.sortIndex=N,e(d,V),x||b||(x=!0,q||(q=!0,me()))),V},n.unstable_shouldYield=ce,n.unstable_wrapCallback=function(V){var F=v;return function(){var ne=v;v=F;try{return V.apply(this,arguments)}finally{v=ne}}}}(Lh)),Lh}var Kv;function sT(){return Kv||(Kv=1,jh.exports=iT()),jh.exports}var zh={exports:{}},Rt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gv;function lT(){if(Gv)return Rt;Gv=1;var n=nm();function e(d){var h="https://react.dev/errors/"+d;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)h+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+d+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},l=Symbol.for("react.portal");function a(d,h,m){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:y==null?null:""+y,children:d,containerInfo:h,implementation:m}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(d,h){if(d==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Rt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Rt.createPortal=function(d,h){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return a(d,h,null,m)},Rt.flushSync=function(d){var h=u.T,m=r.p;try{if(u.T=null,r.p=2,d)return d()}finally{u.T=h,r.p=m,r.d.f()}},Rt.preconnect=function(d,h){typeof d=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(d,h))},Rt.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},Rt.preinit=function(d,h){if(typeof d=="string"&&h&&typeof h.as=="string"){var m=h.as,y=f(m,h.crossOrigin),v=typeof h.integrity=="string"?h.integrity:void 0,b=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;m==="style"?r.d.S(d,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:y,integrity:v,fetchPriority:b}):m==="script"&&r.d.X(d,{crossOrigin:y,integrity:v,fetchPriority:b,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Rt.preinitModule=function(d,h){if(typeof d=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var m=f(h.as,h.crossOrigin);r.d.M(d,{crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(d)},Rt.preload=function(d,h){if(typeof d=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var m=h.as,y=f(m,h.crossOrigin);r.d.L(d,m,{crossOrigin:y,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Rt.preloadModule=function(d,h){if(typeof d=="string")if(h){var m=f(h.as,h.crossOrigin);r.d.m(d,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(d)},Rt.requestFormReset=function(d){r.d.r(d)},Rt.unstable_batchedUpdates=function(d,h){return d(h)},Rt.useFormState=function(d,h,m){return u.H.useFormState(d,h,m)},Rt.useFormStatus=function(){return u.H.useHostTransitionStatus()},Rt.version="19.1.0",Rt}var Fv;function Y1(){if(Fv)return zh.exports;Fv=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),zh.exports=lT(),zh.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xv;function aT(){if(Xv)return _a;Xv=1;var n=sT(),e=nm(),t=Y1();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function a(i){var s=i,o=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(o=s.return),i=s.return;while(i)}return s.tag===3?o:null}function u(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function f(i){if(a(i)!==i)throw Error(r(188))}function d(i){var s=i.alternate;if(!s){if(s=a(i),s===null)throw Error(r(188));return s!==i?null:i}for(var o=i,c=s;;){var p=o.return;if(p===null)break;var g=p.alternate;if(g===null){if(c=p.return,c!==null){o=c;continue}break}if(p.child===g.child){for(g=p.child;g;){if(g===o)return f(p),i;if(g===c)return f(p),s;g=g.sibling}throw Error(r(188))}if(o.return!==c.return)o=p,c=g;else{for(var S=!1,k=p.child;k;){if(k===o){S=!0,o=p,c=g;break}if(k===c){S=!0,c=p,o=g;break}k=k.sibling}if(!S){for(k=g.child;k;){if(k===o){S=!0,o=g,c=p;break}if(k===c){S=!0,c=g,o=p;break}k=k.sibling}if(!S)throw Error(r(189))}}if(o.alternate!==c)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?i:s}function h(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=h(i),s!==null)return s;i=i.sibling}return null}var m=Object.assign,y=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),j=Symbol.for("react.consumer"),L=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),Q=Symbol.for("react.memo"),se=Symbol.for("react.lazy"),J=Symbol.for("react.activity"),ce=Symbol.for("react.memo_cache_sentinel"),xe=Symbol.iterator;function me(i){return i===null||typeof i!="object"?null:(i=xe&&i[xe]||i["@@iterator"],typeof i=="function"?i:null)}var De=Symbol.for("react.client.reference");function Ye(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===De?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case x:return"Fragment";case T:return"Profiler";case E:return"StrictMode";case _:return"Suspense";case q:return"SuspenseList";case J:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case b:return"Portal";case L:return(i.displayName||"Context")+".Provider";case j:return(i._context.displayName||"Context")+".Consumer";case M:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case Q:return s=i.displayName||null,s!==null?s:Ye(i.type)||"Memo";case se:s=i._payload,i=i._init;try{return Ye(i(s))}catch{}}return null}var Oe=Array.isArray,V=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne={pending:!1,data:null,method:null,action:null},ke=[],N=-1;function K(i){return{current:i}}function W(i){0>N||(i.current=ke[N],ke[N]=null,N--)}function Z(i,s){N++,ke[N]=i.current,i.current=s}var le=K(null),ye=K(null),oe=K(null),nt=K(null);function Re(i,s){switch(Z(oe,s),Z(ye,i),Z(le,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?mv(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=mv(s),i=gv(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}W(le),Z(le,i)}function Ht(){W(le),W(ye),W(oe)}function gn(i){i.memoizedState!==null&&Z(nt,i);var s=le.current,o=gv(s,i.type);s!==o&&(Z(ye,i),Z(le,o))}function _n(i){ye.current===i&&(W(le),W(ye)),nt.current===i&&(W(nt),Ra._currentValue=ne)}var Pr=Object.prototype.hasOwnProperty,hr=n.unstable_scheduleCallback,Ir=n.unstable_cancelCallback,ks=n.unstable_shouldYield,zi=n.unstable_requestPaint,Nt=n.unstable_now,Ts=n.unstable_getCurrentPriorityLevel,Bi=n.unstable_ImmediatePriority,yn=n.unstable_UserBlockingPriority,nn=n.unstable_NormalPriority,Hi=n.unstable_LowPriority,Gn=n.unstable_IdlePriority,_i=n.log,Cs=n.unstable_setDisableYieldValue,Fn=null,ct=null;function rn(i){if(typeof _i=="function"&&Cs(i),ct&&typeof ct.setStrictMode=="function")try{ct.setStrictMode(Fn,i)}catch{}}var _t=Math.clz32?Math.clz32:Sf,bf=Math.log,xf=Math.LN2;function Sf(i){return i>>>=0,i===0?32:31-(bf(i)/xf|0)|0}var Ms=256,P=4194304;function te(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function fe(i,s,o){var c=i.pendingLanes;if(c===0)return 0;var p=0,g=i.suspendedLanes,S=i.pingedLanes;i=i.warmLanes;var k=c&134217727;return k!==0?(c=k&~g,c!==0?p=te(c):(S&=k,S!==0?p=te(S):o||(o=k&~i,o!==0&&(p=te(o))))):(k=c&~g,k!==0?p=te(k):S!==0?p=te(S):o||(o=c&~i,o!==0&&(p=te(o)))),p===0?0:s!==0&&s!==p&&(s&g)===0&&(g=p&-p,o=s&-s,g>=o||g===32&&(o&4194048)!==0)?s:p}function Ne(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function Ae(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ft(){var i=Ms;return Ms<<=1,(Ms&4194048)===0&&(Ms=256),i}function Ut(){var i=P;return P<<=1,(P&62914560)===0&&(P=4194304),i}function Xn(i){for(var s=[],o=0;31>o;o++)s.push(i);return s}function $r(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function pr(i,s,o,c,p,g){var S=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var k=i.entanglements,O=i.expirationTimes,B=i.hiddenUpdates;for(o=S&~o;0<o;){var I=31-_t(o),Y=1<<I;k[I]=0,O[I]=-1;var H=B[I];if(H!==null)for(B[I]=null,I=0;I<H.length;I++){var U=H[I];U!==null&&(U.lane&=-536870913)}o&=~Y}c!==0&&Os(i,c,0),g!==0&&p===0&&i.tag!==0&&(i.suspendedLanes|=g&~(S&~s))}function Os(i,s,o){i.pendingLanes|=s,i.suspendedLanes&=~s;var c=31-_t(s);i.entangledLanes|=s,i.entanglements[c]=i.entanglements[c]|1073741824|o&4194090}function Ui(i,s){var o=i.entangledLanes|=s;for(i=i.entanglements;o;){var c=31-_t(o),p=1<<c;p&s|i[c]&s&&(i[c]|=s),o&=~p}}function Jn(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Pl(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Ns(){var i=F.p;return i!==0?i:(i=window.event,i===void 0?32:zv(i.type))}function As(i,s){var o=F.p;try{return F.p=i,s()}finally{F.p=o}}var Yr=Math.random().toString(36).slice(2),At="__reactFiber$"+Yr,Yt="__reactProps$"+Yr,Ds="__reactContainer$"+Yr,wf="__reactEvents$"+Yr,Yw="__reactListeners$"+Yr,Kw="__reactHandles$"+Yr,rg="__reactResources$"+Yr,Il="__reactMarker$"+Yr;function Ef(i){delete i[At],delete i[Yt],delete i[wf],delete i[Yw],delete i[Kw]}function Rs(i){var s=i[At];if(s)return s;for(var o=i.parentNode;o;){if(s=o[Ds]||o[At]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(i=xv(i);i!==null;){if(o=i[At])return o;i=xv(i)}return s}i=o,o=i.parentNode}return null}function js(i){if(i=i[At]||i[Ds]){var s=i.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return i}return null}function $l(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function Ls(i){var s=i[rg];return s||(s=i[rg]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function dt(i){i[Il]=!0}var ig=new Set,sg={};function Vi(i,s){zs(i,s),zs(i+"Capture",s)}function zs(i,s){for(sg[i]=s,i=0;i<s.length;i++)ig.add(s[i])}var Gw=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),lg={},ag={};function Fw(i){return Pr.call(ag,i)?!0:Pr.call(lg,i)?!1:Gw.test(i)?ag[i]=!0:(lg[i]=!0,!1)}function Do(i,s,o){if(Fw(s))if(o===null)i.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var c=s.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+o)}}function Ro(i,s,o){if(o===null)i.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+o)}}function mr(i,s,o,c){if(c===null)i.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(s,o,""+c)}}var kf,og;function Bs(i){if(kf===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);kf=s&&s[1]||"",og=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+kf+i+og}var Tf=!1;function Cf(i,s){if(!i||Tf)return"";Tf=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(s){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(U){var H=U}Reflect.construct(i,[],Y)}else{try{Y.call()}catch(U){H=U}i.call(Y.prototype)}}else{try{throw Error()}catch(U){H=U}(Y=i())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(U){if(U&&H&&typeof U.stack=="string")return[U.stack,H.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),S=g[0],k=g[1];if(S&&k){var O=S.split(`
`),B=k.split(`
`);for(p=c=0;c<O.length&&!O[c].includes("DetermineComponentFrameRoot");)c++;for(;p<B.length&&!B[p].includes("DetermineComponentFrameRoot");)p++;if(c===O.length||p===B.length)for(c=O.length-1,p=B.length-1;1<=c&&0<=p&&O[c]!==B[p];)p--;for(;1<=c&&0<=p;c--,p--)if(O[c]!==B[p]){if(c!==1||p!==1)do if(c--,p--,0>p||O[c]!==B[p]){var I=`
`+O[c].replace(" at new "," at ");return i.displayName&&I.includes("<anonymous>")&&(I=I.replace("<anonymous>",i.displayName)),I}while(1<=c&&0<=p);break}}}finally{Tf=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?Bs(o):""}function Xw(i){switch(i.tag){case 26:case 27:case 5:return Bs(i.type);case 16:return Bs("Lazy");case 13:return Bs("Suspense");case 19:return Bs("SuspenseList");case 0:case 15:return Cf(i.type,!1);case 11:return Cf(i.type.render,!1);case 1:return Cf(i.type,!0);case 31:return Bs("Activity");default:return""}}function ug(i){try{var s="";do s+=Xw(i),i=i.return;while(i);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function vn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function cg(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Jw(i){var s=cg(i)?"checked":"value",o=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),c=""+i[s];if(!i.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var p=o.get,g=o.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return p.call(this)},set:function(S){c=""+S,g.call(this,S)}}),Object.defineProperty(i,s,{enumerable:o.enumerable}),{getValue:function(){return c},setValue:function(S){c=""+S},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function jo(i){i._valueTracker||(i._valueTracker=Jw(i))}function fg(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var o=s.getValue(),c="";return i&&(c=cg(i)?i.checked?"true":"false":i.value),i=c,i!==o?(s.setValue(i),!0):!1}function Lo(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Qw=/[\n"\\]/g;function bn(i){return i.replace(Qw,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Mf(i,s,o,c,p,g,S,k){i.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?i.type=S:i.removeAttribute("type"),s!=null?S==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+vn(s)):i.value!==""+vn(s)&&(i.value=""+vn(s)):S!=="submit"&&S!=="reset"||i.removeAttribute("value"),s!=null?Of(i,S,vn(s)):o!=null?Of(i,S,vn(o)):c!=null&&i.removeAttribute("value"),p==null&&g!=null&&(i.defaultChecked=!!g),p!=null&&(i.checked=p&&typeof p!="function"&&typeof p!="symbol"),k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?i.name=""+vn(k):i.removeAttribute("name")}function dg(i,s,o,c,p,g,S,k){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),s!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||s!=null))return;o=o!=null?""+vn(o):"",s=s!=null?""+vn(s):o,k||s===i.value||(i.value=s),i.defaultValue=s}c=c??p,c=typeof c!="function"&&typeof c!="symbol"&&!!c,i.checked=k?i.checked:!!c,i.defaultChecked=!!c,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(i.name=S)}function Of(i,s,o){s==="number"&&Lo(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function Hs(i,s,o,c){if(i=i.options,s){s={};for(var p=0;p<o.length;p++)s["$"+o[p]]=!0;for(o=0;o<i.length;o++)p=s.hasOwnProperty("$"+i[o].value),i[o].selected!==p&&(i[o].selected=p),p&&c&&(i[o].defaultSelected=!0)}else{for(o=""+vn(o),s=null,p=0;p<i.length;p++){if(i[p].value===o){i[p].selected=!0,c&&(i[p].defaultSelected=!0);return}s!==null||i[p].disabled||(s=i[p])}s!==null&&(s.selected=!0)}}function hg(i,s,o){if(s!=null&&(s=""+vn(s),s!==i.value&&(i.value=s),o==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=o!=null?""+vn(o):""}function pg(i,s,o,c){if(s==null){if(c!=null){if(o!=null)throw Error(r(92));if(Oe(c)){if(1<c.length)throw Error(r(93));c=c[0]}o=c}o==null&&(o=""),s=o}o=vn(s),i.defaultValue=o,c=i.textContent,c===o&&c!==""&&c!==null&&(i.value=c)}function _s(i,s){if(s){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=s;return}}i.textContent=s}var Zw=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function mg(i,s,o){var c=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":c?i.setProperty(s,o):typeof o!="number"||o===0||Zw.has(s)?s==="float"?i.cssFloat=o:i[s]=(""+o).trim():i[s]=o+"px"}function gg(i,s,o){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||s!=null&&s.hasOwnProperty(c)||(c.indexOf("--")===0?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="");for(var p in s)c=s[p],s.hasOwnProperty(p)&&o[p]!==c&&mg(i,p,c)}else for(var g in s)s.hasOwnProperty(g)&&mg(i,g,s[g])}function Nf(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ww=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),eE=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function zo(i){return eE.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Af=null;function Df(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Us=null,Vs=null;function yg(i){var s=js(i);if(s&&(i=s.stateNode)){var o=i[Yt]||null;e:switch(i=s.stateNode,s.type){case"input":if(Mf(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+bn(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var c=o[s];if(c!==i&&c.form===i.form){var p=c[Yt]||null;if(!p)throw Error(r(90));Mf(c,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(s=0;s<o.length;s++)c=o[s],c.form===i.form&&fg(c)}break e;case"textarea":hg(i,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&Hs(i,!!o.multiple,s,!1)}}}var Rf=!1;function vg(i,s,o){if(Rf)return i(s,o);Rf=!0;try{var c=i(s);return c}finally{if(Rf=!1,(Us!==null||Vs!==null)&&(xu(),Us&&(s=Us,i=Vs,Vs=Us=null,yg(s),i)))for(s=0;s<i.length;s++)yg(i[s])}}function Yl(i,s){var o=i.stateNode;if(o===null)return null;var c=o[Yt]||null;if(c===null)return null;o=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(r(231,s,typeof o));return o}var gr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jf=!1;if(gr)try{var Kl={};Object.defineProperty(Kl,"passive",{get:function(){jf=!0}}),window.addEventListener("test",Kl,Kl),window.removeEventListener("test",Kl,Kl)}catch{jf=!1}var Kr=null,Lf=null,Bo=null;function bg(){if(Bo)return Bo;var i,s=Lf,o=s.length,c,p="value"in Kr?Kr.value:Kr.textContent,g=p.length;for(i=0;i<o&&s[i]===p[i];i++);var S=o-i;for(c=1;c<=S&&s[o-c]===p[g-c];c++);return Bo=p.slice(i,1<c?1-c:void 0)}function Ho(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function _o(){return!0}function xg(){return!1}function Kt(i){function s(o,c,p,g,S){this._reactName=o,this._targetInst=p,this.type=c,this.nativeEvent=g,this.target=S,this.currentTarget=null;for(var k in i)i.hasOwnProperty(k)&&(o=i[k],this[k]=o?o(g):g[k]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?_o:xg,this.isPropagationStopped=xg,this}return m(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=_o)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=_o)},persist:function(){},isPersistent:_o}),s}var qi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Uo=Kt(qi),Gl=m({},qi,{view:0,detail:0}),tE=Kt(Gl),zf,Bf,Fl,Vo=m({},Gl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_f,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Fl&&(Fl&&i.type==="mousemove"?(zf=i.screenX-Fl.screenX,Bf=i.screenY-Fl.screenY):Bf=zf=0,Fl=i),zf)},movementY:function(i){return"movementY"in i?i.movementY:Bf}}),Sg=Kt(Vo),nE=m({},Vo,{dataTransfer:0}),rE=Kt(nE),iE=m({},Gl,{relatedTarget:0}),Hf=Kt(iE),sE=m({},qi,{animationName:0,elapsedTime:0,pseudoElement:0}),lE=Kt(sE),aE=m({},qi,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),oE=Kt(aE),uE=m({},qi,{data:0}),wg=Kt(uE),cE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hE(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=dE[i])?!!s[i]:!1}function _f(){return hE}var pE=m({},Gl,{key:function(i){if(i.key){var s=cE[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=Ho(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?fE[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_f,charCode:function(i){return i.type==="keypress"?Ho(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Ho(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),mE=Kt(pE),gE=m({},Vo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Eg=Kt(gE),yE=m({},Gl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_f}),vE=Kt(yE),bE=m({},qi,{propertyName:0,elapsedTime:0,pseudoElement:0}),xE=Kt(bE),SE=m({},Vo,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),wE=Kt(SE),EE=m({},qi,{newState:0,oldState:0}),kE=Kt(EE),TE=[9,13,27,32],Uf=gr&&"CompositionEvent"in window,Xl=null;gr&&"documentMode"in document&&(Xl=document.documentMode);var CE=gr&&"TextEvent"in window&&!Xl,kg=gr&&(!Uf||Xl&&8<Xl&&11>=Xl),Tg=" ",Cg=!1;function Mg(i,s){switch(i){case"keyup":return TE.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Og(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var qs=!1;function ME(i,s){switch(i){case"compositionend":return Og(s);case"keypress":return s.which!==32?null:(Cg=!0,Tg);case"textInput":return i=s.data,i===Tg&&Cg?null:i;default:return null}}function OE(i,s){if(qs)return i==="compositionend"||!Uf&&Mg(i,s)?(i=bg(),Bo=Lf=Kr=null,qs=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return kg&&s.locale!=="ko"?null:s.data;default:return null}}var NE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ng(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!NE[i.type]:s==="textarea"}function Ag(i,s,o,c){Us?Vs?Vs.push(c):Vs=[c]:Us=c,s=Cu(s,"onChange"),0<s.length&&(o=new Uo("onChange","change",null,o,c),i.push({event:o,listeners:s}))}var Jl=null,Ql=null;function AE(i){cv(i,0)}function qo(i){var s=$l(i);if(fg(s))return i}function Dg(i,s){if(i==="change")return s}var Rg=!1;if(gr){var Vf;if(gr){var qf="oninput"in document;if(!qf){var jg=document.createElement("div");jg.setAttribute("oninput","return;"),qf=typeof jg.oninput=="function"}Vf=qf}else Vf=!1;Rg=Vf&&(!document.documentMode||9<document.documentMode)}function Lg(){Jl&&(Jl.detachEvent("onpropertychange",zg),Ql=Jl=null)}function zg(i){if(i.propertyName==="value"&&qo(Ql)){var s=[];Ag(s,Ql,i,Df(i)),vg(AE,s)}}function DE(i,s,o){i==="focusin"?(Lg(),Jl=s,Ql=o,Jl.attachEvent("onpropertychange",zg)):i==="focusout"&&Lg()}function RE(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return qo(Ql)}function jE(i,s){if(i==="click")return qo(s)}function LE(i,s){if(i==="input"||i==="change")return qo(s)}function zE(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var sn=typeof Object.is=="function"?Object.is:zE;function Zl(i,s){if(sn(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var o=Object.keys(i),c=Object.keys(s);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var p=o[c];if(!Pr.call(s,p)||!sn(i[p],s[p]))return!1}return!0}function Bg(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Hg(i,s){var o=Bg(i);i=0;for(var c;o;){if(o.nodeType===3){if(c=i+o.textContent.length,i<=s&&c>=s)return{node:o,offset:s-i};i=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Bg(o)}}function _g(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?_g(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function Ug(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=Lo(i.document);s instanceof i.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)i=s.contentWindow;else break;s=Lo(i.document)}return s}function Pf(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var BE=gr&&"documentMode"in document&&11>=document.documentMode,Ps=null,If=null,Wl=null,$f=!1;function Vg(i,s,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;$f||Ps==null||Ps!==Lo(c)||(c=Ps,"selectionStart"in c&&Pf(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Wl&&Zl(Wl,c)||(Wl=c,c=Cu(If,"onSelect"),0<c.length&&(s=new Uo("onSelect","select",null,s,o),i.push({event:s,listeners:c}),s.target=Ps)))}function Pi(i,s){var o={};return o[i.toLowerCase()]=s.toLowerCase(),o["Webkit"+i]="webkit"+s,o["Moz"+i]="moz"+s,o}var Is={animationend:Pi("Animation","AnimationEnd"),animationiteration:Pi("Animation","AnimationIteration"),animationstart:Pi("Animation","AnimationStart"),transitionrun:Pi("Transition","TransitionRun"),transitionstart:Pi("Transition","TransitionStart"),transitioncancel:Pi("Transition","TransitionCancel"),transitionend:Pi("Transition","TransitionEnd")},Yf={},qg={};gr&&(qg=document.createElement("div").style,"AnimationEvent"in window||(delete Is.animationend.animation,delete Is.animationiteration.animation,delete Is.animationstart.animation),"TransitionEvent"in window||delete Is.transitionend.transition);function Ii(i){if(Yf[i])return Yf[i];if(!Is[i])return i;var s=Is[i],o;for(o in s)if(s.hasOwnProperty(o)&&o in qg)return Yf[i]=s[o];return i}var Pg=Ii("animationend"),Ig=Ii("animationiteration"),$g=Ii("animationstart"),HE=Ii("transitionrun"),_E=Ii("transitionstart"),UE=Ii("transitioncancel"),Yg=Ii("transitionend"),Kg=new Map,Kf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Kf.push("scrollEnd");function Un(i,s){Kg.set(i,s),Vi(s,[i])}var Gg=new WeakMap;function xn(i,s){if(typeof i=="object"&&i!==null){var o=Gg.get(i);return o!==void 0?o:(s={value:i,source:s,stack:ug(s)},Gg.set(i,s),s)}return{value:i,source:s,stack:ug(s)}}var Sn=[],$s=0,Gf=0;function Po(){for(var i=$s,s=Gf=$s=0;s<i;){var o=Sn[s];Sn[s++]=null;var c=Sn[s];Sn[s++]=null;var p=Sn[s];Sn[s++]=null;var g=Sn[s];if(Sn[s++]=null,c!==null&&p!==null){var S=c.pending;S===null?p.next=p:(p.next=S.next,S.next=p),c.pending=p}g!==0&&Fg(o,p,g)}}function Io(i,s,o,c){Sn[$s++]=i,Sn[$s++]=s,Sn[$s++]=o,Sn[$s++]=c,Gf|=c,i.lanes|=c,i=i.alternate,i!==null&&(i.lanes|=c)}function Ff(i,s,o,c){return Io(i,s,o,c),$o(i)}function Ys(i,s){return Io(i,null,null,s),$o(i)}function Fg(i,s,o){i.lanes|=o;var c=i.alternate;c!==null&&(c.lanes|=o);for(var p=!1,g=i.return;g!==null;)g.childLanes|=o,c=g.alternate,c!==null&&(c.childLanes|=o),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(p=!0)),i=g,g=g.return;return i.tag===3?(g=i.stateNode,p&&s!==null&&(p=31-_t(o),i=g.hiddenUpdates,c=i[p],c===null?i[p]=[s]:c.push(s),s.lane=o|536870912),g):null}function $o(i){if(50<ka)throw ka=0,eh=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var Ks={};function VE(i,s,o,c){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ln(i,s,o,c){return new VE(i,s,o,c)}function Xf(i){return i=i.prototype,!(!i||!i.isReactComponent)}function yr(i,s){var o=i.alternate;return o===null?(o=ln(i.tag,s,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=s,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,s=i.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function Xg(i,s){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,s=o.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function Yo(i,s,o,c,p,g){var S=0;if(c=i,typeof i=="function")Xf(i)&&(S=1);else if(typeof i=="string")S=Pk(i,o,le.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case J:return i=ln(31,o,s,p),i.elementType=J,i.lanes=g,i;case x:return $i(o.children,p,g,s);case E:S=8,p|=24;break;case T:return i=ln(12,o,s,p|2),i.elementType=T,i.lanes=g,i;case _:return i=ln(13,o,s,p),i.elementType=_,i.lanes=g,i;case q:return i=ln(19,o,s,p),i.elementType=q,i.lanes=g,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case C:case L:S=10;break e;case j:S=9;break e;case M:S=11;break e;case Q:S=14;break e;case se:S=16,c=null;break e}S=29,o=Error(r(130,i===null?"null":typeof i,"")),c=null}return s=ln(S,o,s,p),s.elementType=i,s.type=c,s.lanes=g,s}function $i(i,s,o,c){return i=ln(7,i,c,s),i.lanes=o,i}function Jf(i,s,o){return i=ln(6,i,null,s),i.lanes=o,i}function Qf(i,s,o){return s=ln(4,i.children!==null?i.children:[],i.key,s),s.lanes=o,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var Gs=[],Fs=0,Ko=null,Go=0,wn=[],En=0,Yi=null,vr=1,br="";function Ki(i,s){Gs[Fs++]=Go,Gs[Fs++]=Ko,Ko=i,Go=s}function Jg(i,s,o){wn[En++]=vr,wn[En++]=br,wn[En++]=Yi,Yi=i;var c=vr;i=br;var p=32-_t(c)-1;c&=~(1<<p),o+=1;var g=32-_t(s)+p;if(30<g){var S=p-p%5;g=(c&(1<<S)-1).toString(32),c>>=S,p-=S,vr=1<<32-_t(s)+p|o<<p|c,br=g+i}else vr=1<<g|o<<p|c,br=i}function Zf(i){i.return!==null&&(Ki(i,1),Jg(i,1,0))}function Wf(i){for(;i===Ko;)Ko=Gs[--Fs],Gs[Fs]=null,Go=Gs[--Fs],Gs[Fs]=null;for(;i===Yi;)Yi=wn[--En],wn[En]=null,br=wn[--En],wn[En]=null,vr=wn[--En],wn[En]=null}var Vt=null,Je=null,ze=!1,Gi=null,Qn=!1,ed=Error(r(519));function Fi(i){var s=Error(r(418,""));throw na(xn(s,i)),ed}function Qg(i){var s=i.stateNode,o=i.type,c=i.memoizedProps;switch(s[At]=i,s[Yt]=c,o){case"dialog":Me("cancel",s),Me("close",s);break;case"iframe":case"object":case"embed":Me("load",s);break;case"video":case"audio":for(o=0;o<Ca.length;o++)Me(Ca[o],s);break;case"source":Me("error",s);break;case"img":case"image":case"link":Me("error",s),Me("load",s);break;case"details":Me("toggle",s);break;case"input":Me("invalid",s),dg(s,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),jo(s);break;case"select":Me("invalid",s);break;case"textarea":Me("invalid",s),pg(s,c.value,c.defaultValue,c.children),jo(s)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||c.suppressHydrationWarning===!0||pv(s.textContent,o)?(c.popover!=null&&(Me("beforetoggle",s),Me("toggle",s)),c.onScroll!=null&&Me("scroll",s),c.onScrollEnd!=null&&Me("scrollend",s),c.onClick!=null&&(s.onclick=Mu),s=!0):s=!1,s||Fi(i)}function Zg(i){for(Vt=i.return;Vt;)switch(Vt.tag){case 5:case 13:Qn=!1;return;case 27:case 3:Qn=!0;return;default:Vt=Vt.return}}function ea(i){if(i!==Vt)return!1;if(!ze)return Zg(i),ze=!0,!1;var s=i.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||gh(i.type,i.memoizedProps)),o=!o),o&&Je&&Fi(i),Zg(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8)if(o=i.data,o==="/$"){if(s===0){Je=qn(i.nextSibling);break e}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++;i=i.nextSibling}Je=null}}else s===27?(s=Je,oi(i.type)?(i=xh,xh=null,Je=i):Je=s):Je=Vt?qn(i.stateNode.nextSibling):null;return!0}function ta(){Je=Vt=null,ze=!1}function Wg(){var i=Gi;return i!==null&&(Xt===null?Xt=i:Xt.push.apply(Xt,i),Gi=null),i}function na(i){Gi===null?Gi=[i]:Gi.push(i)}var td=K(null),Xi=null,xr=null;function Gr(i,s,o){Z(td,s._currentValue),s._currentValue=o}function Sr(i){i._currentValue=td.current,W(td)}function nd(i,s,o){for(;i!==null;){var c=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),i===o)break;i=i.return}}function rd(i,s,o,c){var p=i.child;for(p!==null&&(p.return=i);p!==null;){var g=p.dependencies;if(g!==null){var S=p.child;g=g.firstContext;e:for(;g!==null;){var k=g;g=p;for(var O=0;O<s.length;O++)if(k.context===s[O]){g.lanes|=o,k=g.alternate,k!==null&&(k.lanes|=o),nd(g.return,o,i),c||(S=null);break e}g=k.next}}else if(p.tag===18){if(S=p.return,S===null)throw Error(r(341));S.lanes|=o,g=S.alternate,g!==null&&(g.lanes|=o),nd(S,o,i),S=null}else S=p.child;if(S!==null)S.return=p;else for(S=p;S!==null;){if(S===i){S=null;break}if(p=S.sibling,p!==null){p.return=S.return,S=p;break}S=S.return}p=S}}function ra(i,s,o,c){i=null;for(var p=s,g=!1;p!==null;){if(!g){if((p.flags&524288)!==0)g=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var S=p.alternate;if(S===null)throw Error(r(387));if(S=S.memoizedProps,S!==null){var k=p.type;sn(p.pendingProps.value,S.value)||(i!==null?i.push(k):i=[k])}}else if(p===nt.current){if(S=p.alternate,S===null)throw Error(r(387));S.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(i!==null?i.push(Ra):i=[Ra])}p=p.return}i!==null&&rd(s,i,o,c),s.flags|=262144}function Fo(i){for(i=i.firstContext;i!==null;){if(!sn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Ji(i){Xi=i,xr=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Dt(i){return e0(Xi,i)}function Xo(i,s){return Xi===null&&Ji(i),e0(i,s)}function e0(i,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},xr===null){if(i===null)throw Error(r(308));xr=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else xr=xr.next=s;return o}var qE=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(o,c){i.push(c)}};this.abort=function(){s.aborted=!0,i.forEach(function(o){return o()})}},PE=n.unstable_scheduleCallback,IE=n.unstable_NormalPriority,lt={$$typeof:L,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function id(){return{controller:new qE,data:new Map,refCount:0}}function ia(i){i.refCount--,i.refCount===0&&PE(IE,function(){i.controller.abort()})}var sa=null,sd=0,Xs=0,Js=null;function $E(i,s){if(sa===null){var o=sa=[];sd=0,Xs=ah(),Js={status:"pending",value:void 0,then:function(c){o.push(c)}}}return sd++,s.then(t0,t0),s}function t0(){if(--sd===0&&sa!==null){Js!==null&&(Js.status="fulfilled");var i=sa;sa=null,Xs=0,Js=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function YE(i,s){var o=[],c={status:"pending",value:null,reason:null,then:function(p){o.push(p)}};return i.then(function(){c.status="fulfilled",c.value=s;for(var p=0;p<o.length;p++)(0,o[p])(s)},function(p){for(c.status="rejected",c.reason=p,p=0;p<o.length;p++)(0,o[p])(void 0)}),c}var n0=V.S;V.S=function(i,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&$E(i,s),n0!==null&&n0(i,s)};var Qi=K(null);function ld(){var i=Qi.current;return i!==null?i:$e.pooledCache}function Jo(i,s){s===null?Z(Qi,Qi.current):Z(Qi,s.pool)}function r0(){var i=ld();return i===null?null:{parent:lt._currentValue,pool:i}}var la=Error(r(460)),i0=Error(r(474)),Qo=Error(r(542)),ad={then:function(){}};function s0(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Zo(){}function l0(i,s,o){switch(o=i[o],o===void 0?i.push(s):o!==s&&(s.then(Zo,Zo),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,o0(i),i;default:if(typeof s.status=="string")s.then(Zo,Zo);else{if(i=$e,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(c){if(s.status==="pending"){var p=s;p.status="fulfilled",p.value=c}},function(c){if(s.status==="pending"){var p=s;p.status="rejected",p.reason=c}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,o0(i),i}throw aa=s,la}}var aa=null;function a0(){if(aa===null)throw Error(r(459));var i=aa;return aa=null,i}function o0(i){if(i===la||i===Qo)throw Error(r(483))}var Fr=!1;function od(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ud(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Xr(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Jr(i,s,o){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,(Be&2)!==0){var p=c.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),c.pending=s,s=$o(i),Fg(i,null,o),s}return Io(i,c,s,o),$o(i)}function oa(i,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var c=s.lanes;c&=i.pendingLanes,o|=c,s.lanes=o,Ui(i,o)}}function cd(i,s){var o=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var p=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var S={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?p=g=S:g=g.next=S,o=o.next}while(o!==null);g===null?p=g=s:g=g.next=s}else p=g=s;o={baseState:c.baseState,firstBaseUpdate:p,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=s:i.next=s,o.lastBaseUpdate=s}var fd=!1;function ua(){if(fd){var i=Js;if(i!==null)throw i}}function ca(i,s,o,c){fd=!1;var p=i.updateQueue;Fr=!1;var g=p.firstBaseUpdate,S=p.lastBaseUpdate,k=p.shared.pending;if(k!==null){p.shared.pending=null;var O=k,B=O.next;O.next=null,S===null?g=B:S.next=B,S=O;var I=i.alternate;I!==null&&(I=I.updateQueue,k=I.lastBaseUpdate,k!==S&&(k===null?I.firstBaseUpdate=B:k.next=B,I.lastBaseUpdate=O))}if(g!==null){var Y=p.baseState;S=0,I=B=O=null,k=g;do{var H=k.lane&-536870913,U=H!==k.lane;if(U?(je&H)===H:(c&H)===H){H!==0&&H===Xs&&(fd=!0),I!==null&&(I=I.next={lane:0,tag:k.tag,payload:k.payload,callback:null,next:null});e:{var pe=i,de=k;H=s;var qe=o;switch(de.tag){case 1:if(pe=de.payload,typeof pe=="function"){Y=pe.call(qe,Y,H);break e}Y=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=de.payload,H=typeof pe=="function"?pe.call(qe,Y,H):pe,H==null)break e;Y=m({},Y,H);break e;case 2:Fr=!0}}H=k.callback,H!==null&&(i.flags|=64,U&&(i.flags|=8192),U=p.callbacks,U===null?p.callbacks=[H]:U.push(H))}else U={lane:H,tag:k.tag,payload:k.payload,callback:k.callback,next:null},I===null?(B=I=U,O=Y):I=I.next=U,S|=H;if(k=k.next,k===null){if(k=p.shared.pending,k===null)break;U=k,k=U.next,U.next=null,p.lastBaseUpdate=U,p.shared.pending=null}}while(!0);I===null&&(O=Y),p.baseState=O,p.firstBaseUpdate=B,p.lastBaseUpdate=I,g===null&&(p.shared.lanes=0),ii|=S,i.lanes=S,i.memoizedState=Y}}function u0(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function c0(i,s){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)u0(o[i],s)}var Qs=K(null),Wo=K(0);function f0(i,s){i=Or,Z(Wo,i),Z(Qs,s),Or=i|s.baseLanes}function dd(){Z(Wo,Or),Z(Qs,Qs.current)}function hd(){Or=Wo.current,W(Qs),W(Wo)}var Qr=0,we=null,Ue=null,rt=null,eu=!1,Zs=!1,Zi=!1,tu=0,fa=0,Ws=null,KE=0;function et(){throw Error(r(321))}function pd(i,s){if(s===null)return!1;for(var o=0;o<s.length&&o<i.length;o++)if(!sn(i[o],s[o]))return!1;return!0}function md(i,s,o,c,p,g){return Qr=g,we=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,V.H=i===null||i.memoizedState===null?F0:X0,Zi=!1,g=o(c,p),Zi=!1,Zs&&(g=h0(s,o,c,p)),d0(i),g}function d0(i){V.H=au;var s=Ue!==null&&Ue.next!==null;if(Qr=0,rt=Ue=we=null,eu=!1,fa=0,Ws=null,s)throw Error(r(300));i===null||ht||(i=i.dependencies,i!==null&&Fo(i)&&(ht=!0))}function h0(i,s,o,c){we=i;var p=0;do{if(Zs&&(Ws=null),fa=0,Zs=!1,25<=p)throw Error(r(301));if(p+=1,rt=Ue=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}V.H=WE,g=s(o,c)}while(Zs);return g}function GE(){var i=V.H,s=i.useState()[0];return s=typeof s.then=="function"?da(s):s,i=i.useState()[0],(Ue!==null?Ue.memoizedState:null)!==i&&(we.flags|=1024),s}function gd(){var i=tu!==0;return tu=0,i}function yd(i,s,o){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~o}function vd(i){if(eu){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}eu=!1}Qr=0,rt=Ue=we=null,Zs=!1,fa=tu=0,Ws=null}function Gt(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rt===null?we.memoizedState=rt=i:rt=rt.next=i,rt}function it(){if(Ue===null){var i=we.alternate;i=i!==null?i.memoizedState:null}else i=Ue.next;var s=rt===null?we.memoizedState:rt.next;if(s!==null)rt=s,Ue=i;else{if(i===null)throw we.alternate===null?Error(r(467)):Error(r(310));Ue=i,i={memoizedState:Ue.memoizedState,baseState:Ue.baseState,baseQueue:Ue.baseQueue,queue:Ue.queue,next:null},rt===null?we.memoizedState=rt=i:rt=rt.next=i}return rt}function bd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function da(i){var s=fa;return fa+=1,Ws===null&&(Ws=[]),i=l0(Ws,i,s),s=we,(rt===null?s.memoizedState:rt.next)===null&&(s=s.alternate,V.H=s===null||s.memoizedState===null?F0:X0),i}function nu(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return da(i);if(i.$$typeof===L)return Dt(i)}throw Error(r(438,String(i)))}function xd(i){var s=null,o=we.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var c=we.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(s={data:c.data.map(function(p){return p.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=bd(),we.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(i),c=0;c<i;c++)o[c]=ce;return s.index++,o}function wr(i,s){return typeof s=="function"?s(i):s}function ru(i){var s=it();return Sd(s,Ue,i)}function Sd(i,s,o){var c=i.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=o;var p=i.baseQueue,g=c.pending;if(g!==null){if(p!==null){var S=p.next;p.next=g.next,g.next=S}s.baseQueue=p=g,c.pending=null}if(g=i.baseState,p===null)i.memoizedState=g;else{s=p.next;var k=S=null,O=null,B=s,I=!1;do{var Y=B.lane&-536870913;if(Y!==B.lane?(je&Y)===Y:(Qr&Y)===Y){var H=B.revertLane;if(H===0)O!==null&&(O=O.next={lane:0,revertLane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),Y===Xs&&(I=!0);else if((Qr&H)===H){B=B.next,H===Xs&&(I=!0);continue}else Y={lane:0,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},O===null?(k=O=Y,S=g):O=O.next=Y,we.lanes|=H,ii|=H;Y=B.action,Zi&&o(g,Y),g=B.hasEagerState?B.eagerState:o(g,Y)}else H={lane:Y,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},O===null?(k=O=H,S=g):O=O.next=H,we.lanes|=Y,ii|=Y;B=B.next}while(B!==null&&B!==s);if(O===null?S=g:O.next=k,!sn(g,i.memoizedState)&&(ht=!0,I&&(o=Js,o!==null)))throw o;i.memoizedState=g,i.baseState=S,i.baseQueue=O,c.lastRenderedState=g}return p===null&&(c.lanes=0),[i.memoizedState,c.dispatch]}function wd(i){var s=it(),o=s.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=i;var c=o.dispatch,p=o.pending,g=s.memoizedState;if(p!==null){o.pending=null;var S=p=p.next;do g=i(g,S.action),S=S.next;while(S!==p);sn(g,s.memoizedState)||(ht=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),o.lastRenderedState=g}return[g,c]}function p0(i,s,o){var c=we,p=it(),g=ze;if(g){if(o===void 0)throw Error(r(407));o=o()}else o=s();var S=!sn((Ue||p).memoizedState,o);S&&(p.memoizedState=o,ht=!0),p=p.queue;var k=y0.bind(null,c,p,i);if(ha(2048,8,k,[i]),p.getSnapshot!==s||S||rt!==null&&rt.memoizedState.tag&1){if(c.flags|=2048,el(9,iu(),g0.bind(null,c,p,o,s),null),$e===null)throw Error(r(349));g||(Qr&124)!==0||m0(c,s,o)}return o}function m0(i,s,o){i.flags|=16384,i={getSnapshot:s,value:o},s=we.updateQueue,s===null?(s=bd(),we.updateQueue=s,s.stores=[i]):(o=s.stores,o===null?s.stores=[i]:o.push(i))}function g0(i,s,o,c){s.value=o,s.getSnapshot=c,v0(s)&&b0(i)}function y0(i,s,o){return o(function(){v0(s)&&b0(i)})}function v0(i){var s=i.getSnapshot;i=i.value;try{var o=s();return!sn(i,o)}catch{return!0}}function b0(i){var s=Ys(i,2);s!==null&&fn(s,i,2)}function Ed(i){var s=Gt();if(typeof i=="function"){var o=i;if(i=o(),Zi){rn(!0);try{o()}finally{rn(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wr,lastRenderedState:i},s}function x0(i,s,o,c){return i.baseState=o,Sd(i,Ue,typeof c=="function"?c:wr)}function FE(i,s,o,c,p){if(lu(i))throw Error(r(485));if(i=s.action,i!==null){var g={payload:p,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){g.listeners.push(S)}};V.T!==null?o(!0):g.isTransition=!1,c(g),o=s.pending,o===null?(g.next=s.pending=g,S0(s,g)):(g.next=o.next,s.pending=o.next=g)}}function S0(i,s){var o=s.action,c=s.payload,p=i.state;if(s.isTransition){var g=V.T,S={};V.T=S;try{var k=o(p,c),O=V.S;O!==null&&O(S,k),w0(i,s,k)}catch(B){kd(i,s,B)}finally{V.T=g}}else try{g=o(p,c),w0(i,s,g)}catch(B){kd(i,s,B)}}function w0(i,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){E0(i,s,c)},function(c){return kd(i,s,c)}):E0(i,s,o)}function E0(i,s,o){s.status="fulfilled",s.value=o,k0(s),i.state=o,s=i.pending,s!==null&&(o=s.next,o===s?i.pending=null:(o=o.next,s.next=o,S0(i,o)))}function kd(i,s,o){var c=i.pending;if(i.pending=null,c!==null){c=c.next;do s.status="rejected",s.reason=o,k0(s),s=s.next;while(s!==c)}i.action=null}function k0(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function T0(i,s){return s}function C0(i,s){if(ze){var o=$e.formState;if(o!==null){e:{var c=we;if(ze){if(Je){t:{for(var p=Je,g=Qn;p.nodeType!==8;){if(!g){p=null;break t}if(p=qn(p.nextSibling),p===null){p=null;break t}}g=p.data,p=g==="F!"||g==="F"?p:null}if(p){Je=qn(p.nextSibling),c=p.data==="F!";break e}}Fi(c)}c=!1}c&&(s=o[0])}}return o=Gt(),o.memoizedState=o.baseState=s,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:T0,lastRenderedState:s},o.queue=c,o=Y0.bind(null,we,c),c.dispatch=o,c=Ed(!1),g=Nd.bind(null,we,!1,c.queue),c=Gt(),p={state:s,dispatch:null,action:i,pending:null},c.queue=p,o=FE.bind(null,we,p,g,o),p.dispatch=o,c.memoizedState=i,[s,o,!1]}function M0(i){var s=it();return O0(s,Ue,i)}function O0(i,s,o){if(s=Sd(i,s,T0)[0],i=ru(wr)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var c=da(s)}catch(S){throw S===la?Qo:S}else c=s;s=it();var p=s.queue,g=p.dispatch;return o!==s.memoizedState&&(we.flags|=2048,el(9,iu(),XE.bind(null,p,o),null)),[c,g,i]}function XE(i,s){i.action=s}function N0(i){var s=it(),o=Ue;if(o!==null)return O0(s,o,i);it(),s=s.memoizedState,o=it();var c=o.queue.dispatch;return o.memoizedState=i,[s,c,!1]}function el(i,s,o,c){return i={tag:i,create:o,deps:c,inst:s,next:null},s=we.updateQueue,s===null&&(s=bd(),we.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=i.next=i:(c=o.next,o.next=i,i.next=c,s.lastEffect=i),i}function iu(){return{destroy:void 0,resource:void 0}}function A0(){return it().memoizedState}function su(i,s,o,c){var p=Gt();c=c===void 0?null:c,we.flags|=i,p.memoizedState=el(1|s,iu(),o,c)}function ha(i,s,o,c){var p=it();c=c===void 0?null:c;var g=p.memoizedState.inst;Ue!==null&&c!==null&&pd(c,Ue.memoizedState.deps)?p.memoizedState=el(s,g,o,c):(we.flags|=i,p.memoizedState=el(1|s,g,o,c))}function D0(i,s){su(8390656,8,i,s)}function R0(i,s){ha(2048,8,i,s)}function j0(i,s){return ha(4,2,i,s)}function L0(i,s){return ha(4,4,i,s)}function z0(i,s){if(typeof s=="function"){i=i();var o=s(i);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function B0(i,s,o){o=o!=null?o.concat([i]):null,ha(4,4,z0.bind(null,s,i),o)}function Td(){}function H0(i,s){var o=it();s=s===void 0?null:s;var c=o.memoizedState;return s!==null&&pd(s,c[1])?c[0]:(o.memoizedState=[i,s],i)}function _0(i,s){var o=it();s=s===void 0?null:s;var c=o.memoizedState;if(s!==null&&pd(s,c[1]))return c[0];if(c=i(),Zi){rn(!0);try{i()}finally{rn(!1)}}return o.memoizedState=[c,s],c}function Cd(i,s,o){return o===void 0||(Qr&1073741824)!==0?i.memoizedState=s:(i.memoizedState=o,i=qy(),we.lanes|=i,ii|=i,o)}function U0(i,s,o,c){return sn(o,s)?o:Qs.current!==null?(i=Cd(i,o,c),sn(i,s)||(ht=!0),i):(Qr&42)===0?(ht=!0,i.memoizedState=o):(i=qy(),we.lanes|=i,ii|=i,s)}function V0(i,s,o,c,p){var g=F.p;F.p=g!==0&&8>g?g:8;var S=V.T,k={};V.T=k,Nd(i,!1,s,o);try{var O=p(),B=V.S;if(B!==null&&B(k,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var I=YE(O,c);pa(i,s,I,cn(i))}else pa(i,s,c,cn(i))}catch(Y){pa(i,s,{then:function(){},status:"rejected",reason:Y},cn())}finally{F.p=g,V.T=S}}function JE(){}function Md(i,s,o,c){if(i.tag!==5)throw Error(r(476));var p=q0(i).queue;V0(i,p,s,ne,o===null?JE:function(){return P0(i),o(c)})}function q0(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:ne,baseState:ne,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wr,lastRenderedState:ne},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wr,lastRenderedState:o},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function P0(i){var s=q0(i).next.queue;pa(i,s,{},cn())}function Od(){return Dt(Ra)}function I0(){return it().memoizedState}function $0(){return it().memoizedState}function QE(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var o=cn();i=Xr(o);var c=Jr(s,i,o);c!==null&&(fn(c,s,o),oa(c,s,o)),s={cache:id()},i.payload=s;return}s=s.return}}function ZE(i,s,o){var c=cn();o={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},lu(i)?K0(s,o):(o=Ff(i,s,o,c),o!==null&&(fn(o,i,c),G0(o,s,c)))}function Y0(i,s,o){var c=cn();pa(i,s,o,c)}function pa(i,s,o,c){var p={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(lu(i))K0(s,p);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var S=s.lastRenderedState,k=g(S,o);if(p.hasEagerState=!0,p.eagerState=k,sn(k,S))return Io(i,s,p,0),$e===null&&Po(),!1}catch{}finally{}if(o=Ff(i,s,p,c),o!==null)return fn(o,i,c),G0(o,s,c),!0}return!1}function Nd(i,s,o,c){if(c={lane:2,revertLane:ah(),action:c,hasEagerState:!1,eagerState:null,next:null},lu(i)){if(s)throw Error(r(479))}else s=Ff(i,o,c,2),s!==null&&fn(s,i,2)}function lu(i){var s=i.alternate;return i===we||s!==null&&s===we}function K0(i,s){Zs=eu=!0;var o=i.pending;o===null?s.next=s:(s.next=o.next,o.next=s),i.pending=s}function G0(i,s,o){if((o&4194048)!==0){var c=s.lanes;c&=i.pendingLanes,o|=c,s.lanes=o,Ui(i,o)}}var au={readContext:Dt,use:nu,useCallback:et,useContext:et,useEffect:et,useImperativeHandle:et,useLayoutEffect:et,useInsertionEffect:et,useMemo:et,useReducer:et,useRef:et,useState:et,useDebugValue:et,useDeferredValue:et,useTransition:et,useSyncExternalStore:et,useId:et,useHostTransitionStatus:et,useFormState:et,useActionState:et,useOptimistic:et,useMemoCache:et,useCacheRefresh:et},F0={readContext:Dt,use:nu,useCallback:function(i,s){return Gt().memoizedState=[i,s===void 0?null:s],i},useContext:Dt,useEffect:D0,useImperativeHandle:function(i,s,o){o=o!=null?o.concat([i]):null,su(4194308,4,z0.bind(null,s,i),o)},useLayoutEffect:function(i,s){return su(4194308,4,i,s)},useInsertionEffect:function(i,s){su(4,2,i,s)},useMemo:function(i,s){var o=Gt();s=s===void 0?null:s;var c=i();if(Zi){rn(!0);try{i()}finally{rn(!1)}}return o.memoizedState=[c,s],c},useReducer:function(i,s,o){var c=Gt();if(o!==void 0){var p=o(s);if(Zi){rn(!0);try{o(s)}finally{rn(!1)}}}else p=s;return c.memoizedState=c.baseState=p,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:p},c.queue=i,i=i.dispatch=ZE.bind(null,we,i),[c.memoizedState,i]},useRef:function(i){var s=Gt();return i={current:i},s.memoizedState=i},useState:function(i){i=Ed(i);var s=i.queue,o=Y0.bind(null,we,s);return s.dispatch=o,[i.memoizedState,o]},useDebugValue:Td,useDeferredValue:function(i,s){var o=Gt();return Cd(o,i,s)},useTransition:function(){var i=Ed(!1);return i=V0.bind(null,we,i.queue,!0,!1),Gt().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,o){var c=we,p=Gt();if(ze){if(o===void 0)throw Error(r(407));o=o()}else{if(o=s(),$e===null)throw Error(r(349));(je&124)!==0||m0(c,s,o)}p.memoizedState=o;var g={value:o,getSnapshot:s};return p.queue=g,D0(y0.bind(null,c,g,i),[i]),c.flags|=2048,el(9,iu(),g0.bind(null,c,g,o,s),null),o},useId:function(){var i=Gt(),s=$e.identifierPrefix;if(ze){var o=br,c=vr;o=(c&~(1<<32-_t(c)-1)).toString(32)+o,s=""+s+"R"+o,o=tu++,0<o&&(s+="H"+o.toString(32)),s+=""}else o=KE++,s=""+s+"r"+o.toString(32)+"";return i.memoizedState=s},useHostTransitionStatus:Od,useFormState:C0,useActionState:C0,useOptimistic:function(i){var s=Gt();s.memoizedState=s.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=Nd.bind(null,we,!0,o),o.dispatch=s,[i,s]},useMemoCache:xd,useCacheRefresh:function(){return Gt().memoizedState=QE.bind(null,we)}},X0={readContext:Dt,use:nu,useCallback:H0,useContext:Dt,useEffect:R0,useImperativeHandle:B0,useInsertionEffect:j0,useLayoutEffect:L0,useMemo:_0,useReducer:ru,useRef:A0,useState:function(){return ru(wr)},useDebugValue:Td,useDeferredValue:function(i,s){var o=it();return U0(o,Ue.memoizedState,i,s)},useTransition:function(){var i=ru(wr)[0],s=it().memoizedState;return[typeof i=="boolean"?i:da(i),s]},useSyncExternalStore:p0,useId:I0,useHostTransitionStatus:Od,useFormState:M0,useActionState:M0,useOptimistic:function(i,s){var o=it();return x0(o,Ue,i,s)},useMemoCache:xd,useCacheRefresh:$0},WE={readContext:Dt,use:nu,useCallback:H0,useContext:Dt,useEffect:R0,useImperativeHandle:B0,useInsertionEffect:j0,useLayoutEffect:L0,useMemo:_0,useReducer:wd,useRef:A0,useState:function(){return wd(wr)},useDebugValue:Td,useDeferredValue:function(i,s){var o=it();return Ue===null?Cd(o,i,s):U0(o,Ue.memoizedState,i,s)},useTransition:function(){var i=wd(wr)[0],s=it().memoizedState;return[typeof i=="boolean"?i:da(i),s]},useSyncExternalStore:p0,useId:I0,useHostTransitionStatus:Od,useFormState:N0,useActionState:N0,useOptimistic:function(i,s){var o=it();return Ue!==null?x0(o,Ue,i,s):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:xd,useCacheRefresh:$0},tl=null,ma=0;function ou(i){var s=ma;return ma+=1,tl===null&&(tl=[]),l0(tl,i,s)}function ga(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function uu(i,s){throw s.$$typeof===y?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function J0(i){var s=i._init;return s(i._payload)}function Q0(i){function s(R,A){if(i){var z=R.deletions;z===null?(R.deletions=[A],R.flags|=16):z.push(A)}}function o(R,A){if(!i)return null;for(;A!==null;)s(R,A),A=A.sibling;return null}function c(R){for(var A=new Map;R!==null;)R.key!==null?A.set(R.key,R):A.set(R.index,R),R=R.sibling;return A}function p(R,A){return R=yr(R,A),R.index=0,R.sibling=null,R}function g(R,A,z){return R.index=z,i?(z=R.alternate,z!==null?(z=z.index,z<A?(R.flags|=67108866,A):z):(R.flags|=67108866,A)):(R.flags|=1048576,A)}function S(R){return i&&R.alternate===null&&(R.flags|=67108866),R}function k(R,A,z,$){return A===null||A.tag!==6?(A=Jf(z,R.mode,$),A.return=R,A):(A=p(A,z),A.return=R,A)}function O(R,A,z,$){var re=z.type;return re===x?I(R,A,z.props.children,$,z.key):A!==null&&(A.elementType===re||typeof re=="object"&&re!==null&&re.$$typeof===se&&J0(re)===A.type)?(A=p(A,z.props),ga(A,z),A.return=R,A):(A=Yo(z.type,z.key,z.props,null,R.mode,$),ga(A,z),A.return=R,A)}function B(R,A,z,$){return A===null||A.tag!==4||A.stateNode.containerInfo!==z.containerInfo||A.stateNode.implementation!==z.implementation?(A=Qf(z,R.mode,$),A.return=R,A):(A=p(A,z.children||[]),A.return=R,A)}function I(R,A,z,$,re){return A===null||A.tag!==7?(A=$i(z,R.mode,$,re),A.return=R,A):(A=p(A,z),A.return=R,A)}function Y(R,A,z){if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return A=Jf(""+A,R.mode,z),A.return=R,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case v:return z=Yo(A.type,A.key,A.props,null,R.mode,z),ga(z,A),z.return=R,z;case b:return A=Qf(A,R.mode,z),A.return=R,A;case se:var $=A._init;return A=$(A._payload),Y(R,A,z)}if(Oe(A)||me(A))return A=$i(A,R.mode,z,null),A.return=R,A;if(typeof A.then=="function")return Y(R,ou(A),z);if(A.$$typeof===L)return Y(R,Xo(R,A),z);uu(R,A)}return null}function H(R,A,z,$){var re=A!==null?A.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return re!==null?null:k(R,A,""+z,$);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case v:return z.key===re?O(R,A,z,$):null;case b:return z.key===re?B(R,A,z,$):null;case se:return re=z._init,z=re(z._payload),H(R,A,z,$)}if(Oe(z)||me(z))return re!==null?null:I(R,A,z,$,null);if(typeof z.then=="function")return H(R,A,ou(z),$);if(z.$$typeof===L)return H(R,A,Xo(R,z),$);uu(R,z)}return null}function U(R,A,z,$,re){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return R=R.get(z)||null,k(A,R,""+$,re);if(typeof $=="object"&&$!==null){switch($.$$typeof){case v:return R=R.get($.key===null?z:$.key)||null,O(A,R,$,re);case b:return R=R.get($.key===null?z:$.key)||null,B(A,R,$,re);case se:var Te=$._init;return $=Te($._payload),U(R,A,z,$,re)}if(Oe($)||me($))return R=R.get(z)||null,I(A,R,$,re,null);if(typeof $.then=="function")return U(R,A,z,ou($),re);if($.$$typeof===L)return U(R,A,z,Xo(A,$),re);uu(A,$)}return null}function pe(R,A,z,$){for(var re=null,Te=null,ae=A,he=A=0,mt=null;ae!==null&&he<z.length;he++){ae.index>he?(mt=ae,ae=null):mt=ae.sibling;var Le=H(R,ae,z[he],$);if(Le===null){ae===null&&(ae=mt);break}i&&ae&&Le.alternate===null&&s(R,ae),A=g(Le,A,he),Te===null?re=Le:Te.sibling=Le,Te=Le,ae=mt}if(he===z.length)return o(R,ae),ze&&Ki(R,he),re;if(ae===null){for(;he<z.length;he++)ae=Y(R,z[he],$),ae!==null&&(A=g(ae,A,he),Te===null?re=ae:Te.sibling=ae,Te=ae);return ze&&Ki(R,he),re}for(ae=c(ae);he<z.length;he++)mt=U(ae,R,he,z[he],$),mt!==null&&(i&&mt.alternate!==null&&ae.delete(mt.key===null?he:mt.key),A=g(mt,A,he),Te===null?re=mt:Te.sibling=mt,Te=mt);return i&&ae.forEach(function(hi){return s(R,hi)}),ze&&Ki(R,he),re}function de(R,A,z,$){if(z==null)throw Error(r(151));for(var re=null,Te=null,ae=A,he=A=0,mt=null,Le=z.next();ae!==null&&!Le.done;he++,Le=z.next()){ae.index>he?(mt=ae,ae=null):mt=ae.sibling;var hi=H(R,ae,Le.value,$);if(hi===null){ae===null&&(ae=mt);break}i&&ae&&hi.alternate===null&&s(R,ae),A=g(hi,A,he),Te===null?re=hi:Te.sibling=hi,Te=hi,ae=mt}if(Le.done)return o(R,ae),ze&&Ki(R,he),re;if(ae===null){for(;!Le.done;he++,Le=z.next())Le=Y(R,Le.value,$),Le!==null&&(A=g(Le,A,he),Te===null?re=Le:Te.sibling=Le,Te=Le);return ze&&Ki(R,he),re}for(ae=c(ae);!Le.done;he++,Le=z.next())Le=U(ae,R,he,Le.value,$),Le!==null&&(i&&Le.alternate!==null&&ae.delete(Le.key===null?he:Le.key),A=g(Le,A,he),Te===null?re=Le:Te.sibling=Le,Te=Le);return i&&ae.forEach(function(eT){return s(R,eT)}),ze&&Ki(R,he),re}function qe(R,A,z,$){if(typeof z=="object"&&z!==null&&z.type===x&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case v:e:{for(var re=z.key;A!==null;){if(A.key===re){if(re=z.type,re===x){if(A.tag===7){o(R,A.sibling),$=p(A,z.props.children),$.return=R,R=$;break e}}else if(A.elementType===re||typeof re=="object"&&re!==null&&re.$$typeof===se&&J0(re)===A.type){o(R,A.sibling),$=p(A,z.props),ga($,z),$.return=R,R=$;break e}o(R,A);break}else s(R,A);A=A.sibling}z.type===x?($=$i(z.props.children,R.mode,$,z.key),$.return=R,R=$):($=Yo(z.type,z.key,z.props,null,R.mode,$),ga($,z),$.return=R,R=$)}return S(R);case b:e:{for(re=z.key;A!==null;){if(A.key===re)if(A.tag===4&&A.stateNode.containerInfo===z.containerInfo&&A.stateNode.implementation===z.implementation){o(R,A.sibling),$=p(A,z.children||[]),$.return=R,R=$;break e}else{o(R,A);break}else s(R,A);A=A.sibling}$=Qf(z,R.mode,$),$.return=R,R=$}return S(R);case se:return re=z._init,z=re(z._payload),qe(R,A,z,$)}if(Oe(z))return pe(R,A,z,$);if(me(z)){if(re=me(z),typeof re!="function")throw Error(r(150));return z=re.call(z),de(R,A,z,$)}if(typeof z.then=="function")return qe(R,A,ou(z),$);if(z.$$typeof===L)return qe(R,A,Xo(R,z),$);uu(R,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,A!==null&&A.tag===6?(o(R,A.sibling),$=p(A,z),$.return=R,R=$):(o(R,A),$=Jf(z,R.mode,$),$.return=R,R=$),S(R)):o(R,A)}return function(R,A,z,$){try{ma=0;var re=qe(R,A,z,$);return tl=null,re}catch(ae){if(ae===la||ae===Qo)throw ae;var Te=ln(29,ae,null,R.mode);return Te.lanes=$,Te.return=R,Te}finally{}}}var nl=Q0(!0),Z0=Q0(!1),kn=K(null),Zn=null;function Zr(i){var s=i.alternate;Z(at,at.current&1),Z(kn,i),Zn===null&&(s===null||Qs.current!==null||s.memoizedState!==null)&&(Zn=i)}function W0(i){if(i.tag===22){if(Z(at,at.current),Z(kn,i),Zn===null){var s=i.alternate;s!==null&&s.memoizedState!==null&&(Zn=i)}}else Wr()}function Wr(){Z(at,at.current),Z(kn,kn.current)}function Er(i){W(kn),Zn===i&&(Zn=null),W(at)}var at=K(0);function cu(i){for(var s=i;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||bh(o)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function Ad(i,s,o,c){s=i.memoizedState,o=o(c,s),o=o==null?s:m({},s,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var Dd={enqueueSetState:function(i,s,o){i=i._reactInternals;var c=cn(),p=Xr(c);p.payload=s,o!=null&&(p.callback=o),s=Jr(i,p,c),s!==null&&(fn(s,i,c),oa(s,i,c))},enqueueReplaceState:function(i,s,o){i=i._reactInternals;var c=cn(),p=Xr(c);p.tag=1,p.payload=s,o!=null&&(p.callback=o),s=Jr(i,p,c),s!==null&&(fn(s,i,c),oa(s,i,c))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var o=cn(),c=Xr(o);c.tag=2,s!=null&&(c.callback=s),s=Jr(i,c,o),s!==null&&(fn(s,i,o),oa(s,i,o))}};function ey(i,s,o,c,p,g,S){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,g,S):s.prototype&&s.prototype.isPureReactComponent?!Zl(o,c)||!Zl(p,g):!0}function ty(i,s,o,c){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,c),s.state!==i&&Dd.enqueueReplaceState(s,s.state,null)}function Wi(i,s){var o=s;if("ref"in s){o={};for(var c in s)c!=="ref"&&(o[c]=s[c])}if(i=i.defaultProps){o===s&&(o=m({},o));for(var p in i)o[p]===void 0&&(o[p]=i[p])}return o}var fu=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function ny(i){fu(i)}function ry(i){console.error(i)}function iy(i){fu(i)}function du(i,s){try{var o=i.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(c){setTimeout(function(){throw c})}}function sy(i,s,o){try{var c=i.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Rd(i,s,o){return o=Xr(o),o.tag=3,o.payload={element:null},o.callback=function(){du(i,s)},o}function ly(i){return i=Xr(i),i.tag=3,i}function ay(i,s,o,c){var p=o.type.getDerivedStateFromError;if(typeof p=="function"){var g=c.value;i.payload=function(){return p(g)},i.callback=function(){sy(s,o,c)}}var S=o.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(i.callback=function(){sy(s,o,c),typeof p!="function"&&(si===null?si=new Set([this]):si.add(this));var k=c.stack;this.componentDidCatch(c.value,{componentStack:k!==null?k:""})})}function ek(i,s,o,c,p){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(s=o.alternate,s!==null&&ra(s,o,p,!0),o=kn.current,o!==null){switch(o.tag){case 13:return Zn===null?nh():o.alternate===null&&Qe===0&&(Qe=3),o.flags&=-257,o.flags|=65536,o.lanes=p,c===ad?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([c]):s.add(c),ih(i,c,p)),!1;case 22:return o.flags|=65536,c===ad?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([c]):o.add(c)),ih(i,c,p)),!1}throw Error(r(435,o.tag))}return ih(i,c,p),nh(),!1}if(ze)return s=kn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=p,c!==ed&&(i=Error(r(422),{cause:c}),na(xn(i,o)))):(c!==ed&&(s=Error(r(423),{cause:c}),na(xn(s,o))),i=i.current.alternate,i.flags|=65536,p&=-p,i.lanes|=p,c=xn(c,o),p=Rd(i.stateNode,c,p),cd(i,p),Qe!==4&&(Qe=2)),!1;var g=Error(r(520),{cause:c});if(g=xn(g,o),Ea===null?Ea=[g]:Ea.push(g),Qe!==4&&(Qe=2),s===null)return!0;c=xn(c,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,i=p&-p,o.lanes|=i,i=Rd(o.stateNode,c,i),cd(o,i),!1;case 1:if(s=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(si===null||!si.has(g))))return o.flags|=65536,p&=-p,o.lanes|=p,p=ly(p),ay(p,i,o,c),cd(o,p),!1}o=o.return}while(o!==null);return!1}var oy=Error(r(461)),ht=!1;function wt(i,s,o,c){s.child=i===null?Z0(s,null,o,c):nl(s,i.child,o,c)}function uy(i,s,o,c,p){o=o.render;var g=s.ref;if("ref"in c){var S={};for(var k in c)k!=="ref"&&(S[k]=c[k])}else S=c;return Ji(s),c=md(i,s,o,S,g,p),k=gd(),i!==null&&!ht?(yd(i,s,p),kr(i,s,p)):(ze&&k&&Zf(s),s.flags|=1,wt(i,s,c,p),s.child)}function cy(i,s,o,c,p){if(i===null){var g=o.type;return typeof g=="function"&&!Xf(g)&&g.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=g,fy(i,s,g,c,p)):(i=Yo(o.type,null,c,s,s.mode,p),i.ref=s.ref,i.return=s,s.child=i)}if(g=i.child,!Vd(i,p)){var S=g.memoizedProps;if(o=o.compare,o=o!==null?o:Zl,o(S,c)&&i.ref===s.ref)return kr(i,s,p)}return s.flags|=1,i=yr(g,c),i.ref=s.ref,i.return=s,s.child=i}function fy(i,s,o,c,p){if(i!==null){var g=i.memoizedProps;if(Zl(g,c)&&i.ref===s.ref)if(ht=!1,s.pendingProps=c=g,Vd(i,p))(i.flags&131072)!==0&&(ht=!0);else return s.lanes=i.lanes,kr(i,s,p)}return jd(i,s,o,c,p)}function dy(i,s,o){var c=s.pendingProps,p=c.children,g=i!==null?i.memoizedState:null;if(c.mode==="hidden"){if((s.flags&128)!==0){if(c=g!==null?g.baseLanes|o:o,i!==null){for(p=s.child=i.child,g=0;p!==null;)g=g|p.lanes|p.childLanes,p=p.sibling;s.childLanes=g&~c}else s.childLanes=0,s.child=null;return hy(i,s,c,o)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&Jo(s,g!==null?g.cachePool:null),g!==null?f0(s,g):dd(),W0(s);else return s.lanes=s.childLanes=536870912,hy(i,s,g!==null?g.baseLanes|o:o,o)}else g!==null?(Jo(s,g.cachePool),f0(s,g),Wr(),s.memoizedState=null):(i!==null&&Jo(s,null),dd(),Wr());return wt(i,s,p,o),s.child}function hy(i,s,o,c){var p=ld();return p=p===null?null:{parent:lt._currentValue,pool:p},s.memoizedState={baseLanes:o,cachePool:p},i!==null&&Jo(s,null),dd(),W0(s),i!==null&&ra(i,s,c,!0),null}function hu(i,s){var o=s.ref;if(o===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(r(284));(i===null||i.ref!==o)&&(s.flags|=4194816)}}function jd(i,s,o,c,p){return Ji(s),o=md(i,s,o,c,void 0,p),c=gd(),i!==null&&!ht?(yd(i,s,p),kr(i,s,p)):(ze&&c&&Zf(s),s.flags|=1,wt(i,s,o,p),s.child)}function py(i,s,o,c,p,g){return Ji(s),s.updateQueue=null,o=h0(s,c,o,p),d0(i),c=gd(),i!==null&&!ht?(yd(i,s,g),kr(i,s,g)):(ze&&c&&Zf(s),s.flags|=1,wt(i,s,o,g),s.child)}function my(i,s,o,c,p){if(Ji(s),s.stateNode===null){var g=Ks,S=o.contextType;typeof S=="object"&&S!==null&&(g=Dt(S)),g=new o(c,g),s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Dd,s.stateNode=g,g._reactInternals=s,g=s.stateNode,g.props=c,g.state=s.memoizedState,g.refs={},od(s),S=o.contextType,g.context=typeof S=="object"&&S!==null?Dt(S):Ks,g.state=s.memoizedState,S=o.getDerivedStateFromProps,typeof S=="function"&&(Ad(s,o,S,c),g.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(S=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),S!==g.state&&Dd.enqueueReplaceState(g,g.state,null),ca(s,c,g,p),ua(),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308),c=!0}else if(i===null){g=s.stateNode;var k=s.memoizedProps,O=Wi(o,k);g.props=O;var B=g.context,I=o.contextType;S=Ks,typeof I=="object"&&I!==null&&(S=Dt(I));var Y=o.getDerivedStateFromProps;I=typeof Y=="function"||typeof g.getSnapshotBeforeUpdate=="function",k=s.pendingProps!==k,I||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(k||B!==S)&&ty(s,g,c,S),Fr=!1;var H=s.memoizedState;g.state=H,ca(s,c,g,p),ua(),B=s.memoizedState,k||H!==B||Fr?(typeof Y=="function"&&(Ad(s,o,Y,c),B=s.memoizedState),(O=Fr||ey(s,o,O,c,H,B,S))?(I||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=B),g.props=c,g.state=B,g.context=S,c=O):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{g=s.stateNode,ud(i,s),S=s.memoizedProps,I=Wi(o,S),g.props=I,Y=s.pendingProps,H=g.context,B=o.contextType,O=Ks,typeof B=="object"&&B!==null&&(O=Dt(B)),k=o.getDerivedStateFromProps,(B=typeof k=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(S!==Y||H!==O)&&ty(s,g,c,O),Fr=!1,H=s.memoizedState,g.state=H,ca(s,c,g,p),ua();var U=s.memoizedState;S!==Y||H!==U||Fr||i!==null&&i.dependencies!==null&&Fo(i.dependencies)?(typeof k=="function"&&(Ad(s,o,k,c),U=s.memoizedState),(I=Fr||ey(s,o,I,c,H,U,O)||i!==null&&i.dependencies!==null&&Fo(i.dependencies))?(B||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,U,O),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,U,O)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||S===i.memoizedProps&&H===i.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||S===i.memoizedProps&&H===i.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=U),g.props=c,g.state=U,g.context=O,c=I):(typeof g.componentDidUpdate!="function"||S===i.memoizedProps&&H===i.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||S===i.memoizedProps&&H===i.memoizedState||(s.flags|=1024),c=!1)}return g=c,hu(i,s),c=(s.flags&128)!==0,g||c?(g=s.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:g.render(),s.flags|=1,i!==null&&c?(s.child=nl(s,i.child,null,p),s.child=nl(s,null,o,p)):wt(i,s,o,p),s.memoizedState=g.state,i=s.child):i=kr(i,s,p),i}function gy(i,s,o,c){return ta(),s.flags|=256,wt(i,s,o,c),s.child}var Ld={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function zd(i){return{baseLanes:i,cachePool:r0()}}function Bd(i,s,o){return i=i!==null?i.childLanes&~o:0,s&&(i|=Tn),i}function yy(i,s,o){var c=s.pendingProps,p=!1,g=(s.flags&128)!==0,S;if((S=g)||(S=i!==null&&i.memoizedState===null?!1:(at.current&2)!==0),S&&(p=!0,s.flags&=-129),S=(s.flags&32)!==0,s.flags&=-33,i===null){if(ze){if(p?Zr(s):Wr(),ze){var k=Je,O;if(O=k){e:{for(O=k,k=Qn;O.nodeType!==8;){if(!k){k=null;break e}if(O=qn(O.nextSibling),O===null){k=null;break e}}k=O}k!==null?(s.memoizedState={dehydrated:k,treeContext:Yi!==null?{id:vr,overflow:br}:null,retryLane:536870912,hydrationErrors:null},O=ln(18,null,null,0),O.stateNode=k,O.return=s,s.child=O,Vt=s,Je=null,O=!0):O=!1}O||Fi(s)}if(k=s.memoizedState,k!==null&&(k=k.dehydrated,k!==null))return bh(k)?s.lanes=32:s.lanes=536870912,null;Er(s)}return k=c.children,c=c.fallback,p?(Wr(),p=s.mode,k=pu({mode:"hidden",children:k},p),c=$i(c,p,o,null),k.return=s,c.return=s,k.sibling=c,s.child=k,p=s.child,p.memoizedState=zd(o),p.childLanes=Bd(i,S,o),s.memoizedState=Ld,c):(Zr(s),Hd(s,k))}if(O=i.memoizedState,O!==null&&(k=O.dehydrated,k!==null)){if(g)s.flags&256?(Zr(s),s.flags&=-257,s=_d(i,s,o)):s.memoizedState!==null?(Wr(),s.child=i.child,s.flags|=128,s=null):(Wr(),p=c.fallback,k=s.mode,c=pu({mode:"visible",children:c.children},k),p=$i(p,k,o,null),p.flags|=2,c.return=s,p.return=s,c.sibling=p,s.child=c,nl(s,i.child,null,o),c=s.child,c.memoizedState=zd(o),c.childLanes=Bd(i,S,o),s.memoizedState=Ld,s=p);else if(Zr(s),bh(k)){if(S=k.nextSibling&&k.nextSibling.dataset,S)var B=S.dgst;S=B,c=Error(r(419)),c.stack="",c.digest=S,na({value:c,source:null,stack:null}),s=_d(i,s,o)}else if(ht||ra(i,s,o,!1),S=(o&i.childLanes)!==0,ht||S){if(S=$e,S!==null&&(c=o&-o,c=(c&42)!==0?1:Jn(c),c=(c&(S.suspendedLanes|o))!==0?0:c,c!==0&&c!==O.retryLane))throw O.retryLane=c,Ys(i,c),fn(S,i,c),oy;k.data==="$?"||nh(),s=_d(i,s,o)}else k.data==="$?"?(s.flags|=192,s.child=i.child,s=null):(i=O.treeContext,Je=qn(k.nextSibling),Vt=s,ze=!0,Gi=null,Qn=!1,i!==null&&(wn[En++]=vr,wn[En++]=br,wn[En++]=Yi,vr=i.id,br=i.overflow,Yi=s),s=Hd(s,c.children),s.flags|=4096);return s}return p?(Wr(),p=c.fallback,k=s.mode,O=i.child,B=O.sibling,c=yr(O,{mode:"hidden",children:c.children}),c.subtreeFlags=O.subtreeFlags&65011712,B!==null?p=yr(B,p):(p=$i(p,k,o,null),p.flags|=2),p.return=s,c.return=s,c.sibling=p,s.child=c,c=p,p=s.child,k=i.child.memoizedState,k===null?k=zd(o):(O=k.cachePool,O!==null?(B=lt._currentValue,O=O.parent!==B?{parent:B,pool:B}:O):O=r0(),k={baseLanes:k.baseLanes|o,cachePool:O}),p.memoizedState=k,p.childLanes=Bd(i,S,o),s.memoizedState=Ld,c):(Zr(s),o=i.child,i=o.sibling,o=yr(o,{mode:"visible",children:c.children}),o.return=s,o.sibling=null,i!==null&&(S=s.deletions,S===null?(s.deletions=[i],s.flags|=16):S.push(i)),s.child=o,s.memoizedState=null,o)}function Hd(i,s){return s=pu({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function pu(i,s){return i=ln(22,i,null,s),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function _d(i,s,o){return nl(s,i.child,null,o),i=Hd(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function vy(i,s,o){i.lanes|=s;var c=i.alternate;c!==null&&(c.lanes|=s),nd(i.return,s,o)}function Ud(i,s,o,c,p){var g=i.memoizedState;g===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:p}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=c,g.tail=o,g.tailMode=p)}function by(i,s,o){var c=s.pendingProps,p=c.revealOrder,g=c.tail;if(wt(i,s,c.children,o),c=at.current,(c&2)!==0)c=c&1|2,s.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&vy(i,o,s);else if(i.tag===19)vy(i,o,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}c&=1}switch(Z(at,c),p){case"forwards":for(o=s.child,p=null;o!==null;)i=o.alternate,i!==null&&cu(i)===null&&(p=o),o=o.sibling;o=p,o===null?(p=s.child,s.child=null):(p=o.sibling,o.sibling=null),Ud(s,!1,p,o,g);break;case"backwards":for(o=null,p=s.child,s.child=null;p!==null;){if(i=p.alternate,i!==null&&cu(i)===null){s.child=p;break}i=p.sibling,p.sibling=o,o=p,p=i}Ud(s,!0,o,null,g);break;case"together":Ud(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function kr(i,s,o){if(i!==null&&(s.dependencies=i.dependencies),ii|=s.lanes,(o&s.childLanes)===0)if(i!==null){if(ra(i,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,o=yr(i,i.pendingProps),s.child=o,o.return=s;i.sibling!==null;)i=i.sibling,o=o.sibling=yr(i,i.pendingProps),o.return=s;o.sibling=null}return s.child}function Vd(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&Fo(i)))}function tk(i,s,o){switch(s.tag){case 3:Re(s,s.stateNode.containerInfo),Gr(s,lt,i.memoizedState.cache),ta();break;case 27:case 5:gn(s);break;case 4:Re(s,s.stateNode.containerInfo);break;case 10:Gr(s,s.type,s.memoizedProps.value);break;case 13:var c=s.memoizedState;if(c!==null)return c.dehydrated!==null?(Zr(s),s.flags|=128,null):(o&s.child.childLanes)!==0?yy(i,s,o):(Zr(s),i=kr(i,s,o),i!==null?i.sibling:null);Zr(s);break;case 19:var p=(i.flags&128)!==0;if(c=(o&s.childLanes)!==0,c||(ra(i,s,o,!1),c=(o&s.childLanes)!==0),p){if(c)return by(i,s,o);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),Z(at,at.current),c)break;return null;case 22:case 23:return s.lanes=0,dy(i,s,o);case 24:Gr(s,lt,i.memoizedState.cache)}return kr(i,s,o)}function xy(i,s,o){if(i!==null)if(i.memoizedProps!==s.pendingProps)ht=!0;else{if(!Vd(i,o)&&(s.flags&128)===0)return ht=!1,tk(i,s,o);ht=(i.flags&131072)!==0}else ht=!1,ze&&(s.flags&1048576)!==0&&Jg(s,Go,s.index);switch(s.lanes=0,s.tag){case 16:e:{i=s.pendingProps;var c=s.elementType,p=c._init;if(c=p(c._payload),s.type=c,typeof c=="function")Xf(c)?(i=Wi(c,i),s.tag=1,s=my(null,s,c,i,o)):(s.tag=0,s=jd(null,s,c,i,o));else{if(c!=null){if(p=c.$$typeof,p===M){s.tag=11,s=uy(null,s,c,i,o);break e}else if(p===Q){s.tag=14,s=cy(null,s,c,i,o);break e}}throw s=Ye(c)||c,Error(r(306,s,""))}}return s;case 0:return jd(i,s,s.type,s.pendingProps,o);case 1:return c=s.type,p=Wi(c,s.pendingProps),my(i,s,c,p,o);case 3:e:{if(Re(s,s.stateNode.containerInfo),i===null)throw Error(r(387));c=s.pendingProps;var g=s.memoizedState;p=g.element,ud(i,s),ca(s,c,null,o);var S=s.memoizedState;if(c=S.cache,Gr(s,lt,c),c!==g.cache&&rd(s,[lt],o,!0),ua(),c=S.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:S.cache},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){s=gy(i,s,c,o);break e}else if(c!==p){p=xn(Error(r(424)),s),na(p),s=gy(i,s,c,o);break e}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Je=qn(i.firstChild),Vt=s,ze=!0,Gi=null,Qn=!0,o=Z0(s,null,c,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(ta(),c===p){s=kr(i,s,o);break e}wt(i,s,c,o)}s=s.child}return s;case 26:return hu(i,s),i===null?(o=kv(s.type,null,s.pendingProps,null))?s.memoizedState=o:ze||(o=s.type,i=s.pendingProps,c=Ou(oe.current).createElement(o),c[At]=s,c[Yt]=i,kt(c,o,i),dt(c),s.stateNode=c):s.memoizedState=kv(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return gn(s),i===null&&ze&&(c=s.stateNode=Sv(s.type,s.pendingProps,oe.current),Vt=s,Qn=!0,p=Je,oi(s.type)?(xh=p,Je=qn(c.firstChild)):Je=p),wt(i,s,s.pendingProps.children,o),hu(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&ze&&((p=c=Je)&&(c=Nk(c,s.type,s.pendingProps,Qn),c!==null?(s.stateNode=c,Vt=s,Je=qn(c.firstChild),Qn=!1,p=!0):p=!1),p||Fi(s)),gn(s),p=s.type,g=s.pendingProps,S=i!==null?i.memoizedProps:null,c=g.children,gh(p,g)?c=null:S!==null&&gh(p,S)&&(s.flags|=32),s.memoizedState!==null&&(p=md(i,s,GE,null,null,o),Ra._currentValue=p),hu(i,s),wt(i,s,c,o),s.child;case 6:return i===null&&ze&&((i=o=Je)&&(o=Ak(o,s.pendingProps,Qn),o!==null?(s.stateNode=o,Vt=s,Je=null,i=!0):i=!1),i||Fi(s)),null;case 13:return yy(i,s,o);case 4:return Re(s,s.stateNode.containerInfo),c=s.pendingProps,i===null?s.child=nl(s,null,c,o):wt(i,s,c,o),s.child;case 11:return uy(i,s,s.type,s.pendingProps,o);case 7:return wt(i,s,s.pendingProps,o),s.child;case 8:return wt(i,s,s.pendingProps.children,o),s.child;case 12:return wt(i,s,s.pendingProps.children,o),s.child;case 10:return c=s.pendingProps,Gr(s,s.type,c.value),wt(i,s,c.children,o),s.child;case 9:return p=s.type._context,c=s.pendingProps.children,Ji(s),p=Dt(p),c=c(p),s.flags|=1,wt(i,s,c,o),s.child;case 14:return cy(i,s,s.type,s.pendingProps,o);case 15:return fy(i,s,s.type,s.pendingProps,o);case 19:return by(i,s,o);case 31:return c=s.pendingProps,o=s.mode,c={mode:c.mode,children:c.children},i===null?(o=pu(c,o),o.ref=s.ref,s.child=o,o.return=s,s=o):(o=yr(i.child,c),o.ref=s.ref,s.child=o,o.return=s,s=o),s;case 22:return dy(i,s,o);case 24:return Ji(s),c=Dt(lt),i===null?(p=ld(),p===null&&(p=$e,g=id(),p.pooledCache=g,g.refCount++,g!==null&&(p.pooledCacheLanes|=o),p=g),s.memoizedState={parent:c,cache:p},od(s),Gr(s,lt,p)):((i.lanes&o)!==0&&(ud(i,s),ca(s,null,null,o),ua()),p=i.memoizedState,g=s.memoizedState,p.parent!==c?(p={parent:c,cache:c},s.memoizedState=p,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=p),Gr(s,lt,c)):(c=g.cache,Gr(s,lt,c),c!==p.cache&&rd(s,[lt],o,!0))),wt(i,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function Tr(i){i.flags|=4}function Sy(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!Nv(s)){if(s=kn.current,s!==null&&((je&4194048)===je?Zn!==null:(je&62914560)!==je&&(je&536870912)===0||s!==Zn))throw aa=ad,i0;i.flags|=8192}}function mu(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?Ut():536870912,i.lanes|=s,ll|=s)}function ya(i,s){if(!ze)switch(i.tailMode){case"hidden":s=i.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function Xe(i){var s=i.alternate!==null&&i.alternate.child===i.child,o=0,c=0;if(s)for(var p=i.child;p!==null;)o|=p.lanes|p.childLanes,c|=p.subtreeFlags&65011712,c|=p.flags&65011712,p.return=i,p=p.sibling;else for(p=i.child;p!==null;)o|=p.lanes|p.childLanes,c|=p.subtreeFlags,c|=p.flags,p.return=i,p=p.sibling;return i.subtreeFlags|=c,i.childLanes=o,s}function nk(i,s,o){var c=s.pendingProps;switch(Wf(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xe(s),null;case 1:return Xe(s),null;case 3:return o=s.stateNode,c=null,i!==null&&(c=i.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),Sr(lt),Ht(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(ea(s)?Tr(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Wg())),Xe(s),null;case 26:return o=s.memoizedState,i===null?(Tr(s),o!==null?(Xe(s),Sy(s,o)):(Xe(s),s.flags&=-16777217)):o?o!==i.memoizedState?(Tr(s),Xe(s),Sy(s,o)):(Xe(s),s.flags&=-16777217):(i.memoizedProps!==c&&Tr(s),Xe(s),s.flags&=-16777217),null;case 27:_n(s),o=oe.current;var p=s.type;if(i!==null&&s.stateNode!=null)i.memoizedProps!==c&&Tr(s);else{if(!c){if(s.stateNode===null)throw Error(r(166));return Xe(s),null}i=le.current,ea(s)?Qg(s):(i=Sv(p,c,o),s.stateNode=i,Tr(s))}return Xe(s),null;case 5:if(_n(s),o=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==c&&Tr(s);else{if(!c){if(s.stateNode===null)throw Error(r(166));return Xe(s),null}if(i=le.current,ea(s))Qg(s);else{switch(p=Ou(oe.current),i){case 1:i=p.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:i=p.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":i=p.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":i=p.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":i=p.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof c.is=="string"?p.createElement("select",{is:c.is}):p.createElement("select"),c.multiple?i.multiple=!0:c.size&&(i.size=c.size);break;default:i=typeof c.is=="string"?p.createElement(o,{is:c.is}):p.createElement(o)}}i[At]=s,i[Yt]=c;e:for(p=s.child;p!==null;){if(p.tag===5||p.tag===6)i.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===s)break e;for(;p.sibling===null;){if(p.return===null||p.return===s)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}s.stateNode=i;e:switch(kt(i,o,c),o){case"button":case"input":case"select":case"textarea":i=!!c.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Tr(s)}}return Xe(s),s.flags&=-16777217,null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==c&&Tr(s);else{if(typeof c!="string"&&s.stateNode===null)throw Error(r(166));if(i=oe.current,ea(s)){if(i=s.stateNode,o=s.memoizedProps,c=null,p=Vt,p!==null)switch(p.tag){case 27:case 5:c=p.memoizedProps}i[At]=s,i=!!(i.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||pv(i.nodeValue,o)),i||Fi(s)}else i=Ou(i).createTextNode(c),i[At]=s,s.stateNode=i}return Xe(s),null;case 13:if(c=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(p=ea(s),c!==null&&c.dehydrated!==null){if(i===null){if(!p)throw Error(r(318));if(p=s.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(r(317));p[At]=s}else ta(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Xe(s),p=!1}else p=Wg(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=p),p=!0;if(!p)return s.flags&256?(Er(s),s):(Er(s),null)}if(Er(s),(s.flags&128)!==0)return s.lanes=o,s;if(o=c!==null,i=i!==null&&i.memoizedState!==null,o){c=s.child,p=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(p=c.alternate.memoizedState.cachePool.pool);var g=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==p&&(c.flags|=2048)}return o!==i&&o&&(s.child.flags|=8192),mu(s,s.updateQueue),Xe(s),null;case 4:return Ht(),i===null&&fh(s.stateNode.containerInfo),Xe(s),null;case 10:return Sr(s.type),Xe(s),null;case 19:if(W(at),p=s.memoizedState,p===null)return Xe(s),null;if(c=(s.flags&128)!==0,g=p.rendering,g===null)if(c)ya(p,!1);else{if(Qe!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(g=cu(i),g!==null){for(s.flags|=128,ya(p,!1),i=g.updateQueue,s.updateQueue=i,mu(s,i),s.subtreeFlags=0,i=o,o=s.child;o!==null;)Xg(o,i),o=o.sibling;return Z(at,at.current&1|2),s.child}i=i.sibling}p.tail!==null&&Nt()>vu&&(s.flags|=128,c=!0,ya(p,!1),s.lanes=4194304)}else{if(!c)if(i=cu(g),i!==null){if(s.flags|=128,c=!0,i=i.updateQueue,s.updateQueue=i,mu(s,i),ya(p,!0),p.tail===null&&p.tailMode==="hidden"&&!g.alternate&&!ze)return Xe(s),null}else 2*Nt()-p.renderingStartTime>vu&&o!==536870912&&(s.flags|=128,c=!0,ya(p,!1),s.lanes=4194304);p.isBackwards?(g.sibling=s.child,s.child=g):(i=p.last,i!==null?i.sibling=g:s.child=g,p.last=g)}return p.tail!==null?(s=p.tail,p.rendering=s,p.tail=s.sibling,p.renderingStartTime=Nt(),s.sibling=null,i=at.current,Z(at,c?i&1|2:i&1),s):(Xe(s),null);case 22:case 23:return Er(s),hd(),c=s.memoizedState!==null,i!==null?i.memoizedState!==null!==c&&(s.flags|=8192):c&&(s.flags|=8192),c?(o&536870912)!==0&&(s.flags&128)===0&&(Xe(s),s.subtreeFlags&6&&(s.flags|=8192)):Xe(s),o=s.updateQueue,o!==null&&mu(s,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==o&&(s.flags|=2048),i!==null&&W(Qi),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),Sr(lt),Xe(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function rk(i,s){switch(Wf(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return Sr(lt),Ht(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return _n(s),null;case 13:if(Er(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));ta()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return W(at),null;case 4:return Ht(),null;case 10:return Sr(s.type),null;case 22:case 23:return Er(s),hd(),i!==null&&W(Qi),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return Sr(lt),null;case 25:return null;default:return null}}function wy(i,s){switch(Wf(s),s.tag){case 3:Sr(lt),Ht();break;case 26:case 27:case 5:_n(s);break;case 4:Ht();break;case 13:Er(s);break;case 19:W(at);break;case 10:Sr(s.type);break;case 22:case 23:Er(s),hd(),i!==null&&W(Qi);break;case 24:Sr(lt)}}function va(i,s){try{var o=s.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var p=c.next;o=p;do{if((o.tag&i)===i){c=void 0;var g=o.create,S=o.inst;c=g(),S.destroy=c}o=o.next}while(o!==p)}}catch(k){Pe(s,s.return,k)}}function ei(i,s,o){try{var c=s.updateQueue,p=c!==null?c.lastEffect:null;if(p!==null){var g=p.next;c=g;do{if((c.tag&i)===i){var S=c.inst,k=S.destroy;if(k!==void 0){S.destroy=void 0,p=s;var O=o,B=k;try{B()}catch(I){Pe(p,O,I)}}}c=c.next}while(c!==g)}}catch(I){Pe(s,s.return,I)}}function Ey(i){var s=i.updateQueue;if(s!==null){var o=i.stateNode;try{c0(s,o)}catch(c){Pe(i,i.return,c)}}}function ky(i,s,o){o.props=Wi(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(c){Pe(i,s,c)}}function ba(i,s){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var c=i.stateNode;break;case 30:c=i.stateNode;break;default:c=i.stateNode}typeof o=="function"?i.refCleanup=o(c):o.current=c}}catch(p){Pe(i,s,p)}}function Wn(i,s){var o=i.ref,c=i.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(p){Pe(i,s,p)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(p){Pe(i,s,p)}else o.current=null}function Ty(i){var s=i.type,o=i.memoizedProps,c=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(p){Pe(i,i.return,p)}}function qd(i,s,o){try{var c=i.stateNode;kk(c,i.type,o,s),c[Yt]=s}catch(p){Pe(i,i.return,p)}}function Cy(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&oi(i.type)||i.tag===4}function Pd(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Cy(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&oi(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Id(i,s,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(i),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=Mu));else if(c!==4&&(c===27&&oi(i.type)&&(o=i.stateNode,s=null),i=i.child,i!==null))for(Id(i,s,o),i=i.sibling;i!==null;)Id(i,s,o),i=i.sibling}function gu(i,s,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,s?o.insertBefore(i,s):o.appendChild(i);else if(c!==4&&(c===27&&oi(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(gu(i,s,o),i=i.sibling;i!==null;)gu(i,s,o),i=i.sibling}function My(i){var s=i.stateNode,o=i.memoizedProps;try{for(var c=i.type,p=s.attributes;p.length;)s.removeAttributeNode(p[0]);kt(s,c,o),s[At]=i,s[Yt]=o}catch(g){Pe(i,i.return,g)}}var Cr=!1,tt=!1,$d=!1,Oy=typeof WeakSet=="function"?WeakSet:Set,pt=null;function ik(i,s){if(i=i.containerInfo,ph=Lu,i=Ug(i),Pf(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var p=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var S=0,k=-1,O=-1,B=0,I=0,Y=i,H=null;t:for(;;){for(var U;Y!==o||p!==0&&Y.nodeType!==3||(k=S+p),Y!==g||c!==0&&Y.nodeType!==3||(O=S+c),Y.nodeType===3&&(S+=Y.nodeValue.length),(U=Y.firstChild)!==null;)H=Y,Y=U;for(;;){if(Y===i)break t;if(H===o&&++B===p&&(k=S),H===g&&++I===c&&(O=S),(U=Y.nextSibling)!==null)break;Y=H,H=Y.parentNode}Y=U}o=k===-1||O===-1?null:{start:k,end:O}}else o=null}o=o||{start:0,end:0}}else o=null;for(mh={focusedElem:i,selectionRange:o},Lu=!1,pt=s;pt!==null;)if(s=pt,i=s.child,(s.subtreeFlags&1024)!==0&&i!==null)i.return=s,pt=i;else for(;pt!==null;){switch(s=pt,g=s.alternate,i=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,o=s,p=g.memoizedProps,g=g.memoizedState,c=o.stateNode;try{var pe=Wi(o.type,p,o.elementType===o.type);i=c.getSnapshotBeforeUpdate(pe,g),c.__reactInternalSnapshotBeforeUpdate=i}catch(de){Pe(o,o.return,de)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,o=i.nodeType,o===9)vh(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":vh(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,pt=i;break}pt=s.return}}function Ny(i,s,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:ti(i,o),c&4&&va(5,o);break;case 1:if(ti(i,o),c&4)if(i=o.stateNode,s===null)try{i.componentDidMount()}catch(S){Pe(o,o.return,S)}else{var p=Wi(o.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(p,s,i.__reactInternalSnapshotBeforeUpdate)}catch(S){Pe(o,o.return,S)}}c&64&&Ey(o),c&512&&ba(o,o.return);break;case 3:if(ti(i,o),c&64&&(i=o.updateQueue,i!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{c0(i,s)}catch(S){Pe(o,o.return,S)}}break;case 27:s===null&&c&4&&My(o);case 26:case 5:ti(i,o),s===null&&c&4&&Ty(o),c&512&&ba(o,o.return);break;case 12:ti(i,o);break;case 13:ti(i,o),c&4&&Ry(i,o),c&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=hk.bind(null,o),Dk(i,o))));break;case 22:if(c=o.memoizedState!==null||Cr,!c){s=s!==null&&s.memoizedState!==null||tt,p=Cr;var g=tt;Cr=c,(tt=s)&&!g?ni(i,o,(o.subtreeFlags&8772)!==0):ti(i,o),Cr=p,tt=g}break;case 30:break;default:ti(i,o)}}function Ay(i){var s=i.alternate;s!==null&&(i.alternate=null,Ay(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&Ef(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Ge=null,Ft=!1;function Mr(i,s,o){for(o=o.child;o!==null;)Dy(i,s,o),o=o.sibling}function Dy(i,s,o){if(ct&&typeof ct.onCommitFiberUnmount=="function")try{ct.onCommitFiberUnmount(Fn,o)}catch{}switch(o.tag){case 26:tt||Wn(o,s),Mr(i,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:tt||Wn(o,s);var c=Ge,p=Ft;oi(o.type)&&(Ge=o.stateNode,Ft=!1),Mr(i,s,o),Oa(o.stateNode),Ge=c,Ft=p;break;case 5:tt||Wn(o,s);case 6:if(c=Ge,p=Ft,Ge=null,Mr(i,s,o),Ge=c,Ft=p,Ge!==null)if(Ft)try{(Ge.nodeType===9?Ge.body:Ge.nodeName==="HTML"?Ge.ownerDocument.body:Ge).removeChild(o.stateNode)}catch(g){Pe(o,s,g)}else try{Ge.removeChild(o.stateNode)}catch(g){Pe(o,s,g)}break;case 18:Ge!==null&&(Ft?(i=Ge,bv(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),Ba(i)):bv(Ge,o.stateNode));break;case 4:c=Ge,p=Ft,Ge=o.stateNode.containerInfo,Ft=!0,Mr(i,s,o),Ge=c,Ft=p;break;case 0:case 11:case 14:case 15:tt||ei(2,o,s),tt||ei(4,o,s),Mr(i,s,o);break;case 1:tt||(Wn(o,s),c=o.stateNode,typeof c.componentWillUnmount=="function"&&ky(o,s,c)),Mr(i,s,o);break;case 21:Mr(i,s,o);break;case 22:tt=(c=tt)||o.memoizedState!==null,Mr(i,s,o),tt=c;break;default:Mr(i,s,o)}}function Ry(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Ba(i)}catch(o){Pe(s,s.return,o)}}function sk(i){switch(i.tag){case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new Oy),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new Oy),s;default:throw Error(r(435,i.tag))}}function Yd(i,s){var o=sk(i);s.forEach(function(c){var p=pk.bind(null,i,c);o.has(c)||(o.add(c),c.then(p,p))})}function an(i,s){var o=s.deletions;if(o!==null)for(var c=0;c<o.length;c++){var p=o[c],g=i,S=s,k=S;e:for(;k!==null;){switch(k.tag){case 27:if(oi(k.type)){Ge=k.stateNode,Ft=!1;break e}break;case 5:Ge=k.stateNode,Ft=!1;break e;case 3:case 4:Ge=k.stateNode.containerInfo,Ft=!0;break e}k=k.return}if(Ge===null)throw Error(r(160));Dy(g,S,p),Ge=null,Ft=!1,g=p.alternate,g!==null&&(g.return=null),p.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)jy(s,i),s=s.sibling}var Vn=null;function jy(i,s){var o=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:an(s,i),on(i),c&4&&(ei(3,i,i.return),va(3,i),ei(5,i,i.return));break;case 1:an(s,i),on(i),c&512&&(tt||o===null||Wn(o,o.return)),c&64&&Cr&&(i=i.updateQueue,i!==null&&(c=i.callbacks,c!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var p=Vn;if(an(s,i),on(i),c&512&&(tt||o===null||Wn(o,o.return)),c&4){var g=o!==null?o.memoizedState:null;if(c=i.memoizedState,o===null)if(c===null)if(i.stateNode===null){e:{c=i.type,o=i.memoizedProps,p=p.ownerDocument||p;t:switch(c){case"title":g=p.getElementsByTagName("title")[0],(!g||g[Il]||g[At]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=p.createElement(c),p.head.insertBefore(g,p.querySelector("head > title"))),kt(g,c,o),g[At]=i,dt(g),c=g;break e;case"link":var S=Mv("link","href",p).get(c+(o.href||""));if(S){for(var k=0;k<S.length;k++)if(g=S[k],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){S.splice(k,1);break t}}g=p.createElement(c),kt(g,c,o),p.head.appendChild(g);break;case"meta":if(S=Mv("meta","content",p).get(c+(o.content||""))){for(k=0;k<S.length;k++)if(g=S[k],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){S.splice(k,1);break t}}g=p.createElement(c),kt(g,c,o),p.head.appendChild(g);break;default:throw Error(r(468,c))}g[At]=i,dt(g),c=g}i.stateNode=c}else Ov(p,i.type,i.stateNode);else i.stateNode=Cv(p,c,i.memoizedProps);else g!==c?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,c===null?Ov(p,i.type,i.stateNode):Cv(p,c,i.memoizedProps)):c===null&&i.stateNode!==null&&qd(i,i.memoizedProps,o.memoizedProps)}break;case 27:an(s,i),on(i),c&512&&(tt||o===null||Wn(o,o.return)),o!==null&&c&4&&qd(i,i.memoizedProps,o.memoizedProps);break;case 5:if(an(s,i),on(i),c&512&&(tt||o===null||Wn(o,o.return)),i.flags&32){p=i.stateNode;try{_s(p,"")}catch(U){Pe(i,i.return,U)}}c&4&&i.stateNode!=null&&(p=i.memoizedProps,qd(i,p,o!==null?o.memoizedProps:p)),c&1024&&($d=!0);break;case 6:if(an(s,i),on(i),c&4){if(i.stateNode===null)throw Error(r(162));c=i.memoizedProps,o=i.stateNode;try{o.nodeValue=c}catch(U){Pe(i,i.return,U)}}break;case 3:if(Du=null,p=Vn,Vn=Nu(s.containerInfo),an(s,i),Vn=p,on(i),c&4&&o!==null&&o.memoizedState.isDehydrated)try{Ba(s.containerInfo)}catch(U){Pe(i,i.return,U)}$d&&($d=!1,Ly(i));break;case 4:c=Vn,Vn=Nu(i.stateNode.containerInfo),an(s,i),on(i),Vn=c;break;case 12:an(s,i),on(i);break;case 13:an(s,i),on(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Qd=Nt()),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Yd(i,c)));break;case 22:p=i.memoizedState!==null;var O=o!==null&&o.memoizedState!==null,B=Cr,I=tt;if(Cr=B||p,tt=I||O,an(s,i),tt=I,Cr=B,on(i),c&8192)e:for(s=i.stateNode,s._visibility=p?s._visibility&-2:s._visibility|1,p&&(o===null||O||Cr||tt||es(i)),o=null,s=i;;){if(s.tag===5||s.tag===26){if(o===null){O=o=s;try{if(g=O.stateNode,p)S=g.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{k=O.stateNode;var Y=O.memoizedProps.style,H=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;k.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(U){Pe(O,O.return,U)}}}else if(s.tag===6){if(o===null){O=s;try{O.stateNode.nodeValue=p?"":O.memoizedProps}catch(U){Pe(O,O.return,U)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}c&4&&(c=i.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,Yd(i,o))));break;case 19:an(s,i),on(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Yd(i,c)));break;case 30:break;case 21:break;default:an(s,i),on(i)}}function on(i){var s=i.flags;if(s&2){try{for(var o,c=i.return;c!==null;){if(Cy(c)){o=c;break}c=c.return}if(o==null)throw Error(r(160));switch(o.tag){case 27:var p=o.stateNode,g=Pd(i);gu(i,g,p);break;case 5:var S=o.stateNode;o.flags&32&&(_s(S,""),o.flags&=-33);var k=Pd(i);gu(i,k,S);break;case 3:case 4:var O=o.stateNode.containerInfo,B=Pd(i);Id(i,B,O);break;default:throw Error(r(161))}}catch(I){Pe(i,i.return,I)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function Ly(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;Ly(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function ti(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Ny(i,s.alternate,s),s=s.sibling}function es(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:ei(4,s,s.return),es(s);break;case 1:Wn(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&ky(s,s.return,o),es(s);break;case 27:Oa(s.stateNode);case 26:case 5:Wn(s,s.return),es(s);break;case 22:s.memoizedState===null&&es(s);break;case 30:es(s);break;default:es(s)}i=i.sibling}}function ni(i,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var c=s.alternate,p=i,g=s,S=g.flags;switch(g.tag){case 0:case 11:case 15:ni(p,g,o),va(4,g);break;case 1:if(ni(p,g,o),c=g,p=c.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(B){Pe(c,c.return,B)}if(c=g,p=c.updateQueue,p!==null){var k=c.stateNode;try{var O=p.shared.hiddenCallbacks;if(O!==null)for(p.shared.hiddenCallbacks=null,p=0;p<O.length;p++)u0(O[p],k)}catch(B){Pe(c,c.return,B)}}o&&S&64&&Ey(g),ba(g,g.return);break;case 27:My(g);case 26:case 5:ni(p,g,o),o&&c===null&&S&4&&Ty(g),ba(g,g.return);break;case 12:ni(p,g,o);break;case 13:ni(p,g,o),o&&S&4&&Ry(p,g);break;case 22:g.memoizedState===null&&ni(p,g,o),ba(g,g.return);break;case 30:break;default:ni(p,g,o)}s=s.sibling}}function Kd(i,s){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&ia(o))}function Gd(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&ia(i))}function er(i,s,o,c){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)zy(i,s,o,c),s=s.sibling}function zy(i,s,o,c){var p=s.flags;switch(s.tag){case 0:case 11:case 15:er(i,s,o,c),p&2048&&va(9,s);break;case 1:er(i,s,o,c);break;case 3:er(i,s,o,c),p&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&ia(i)));break;case 12:if(p&2048){er(i,s,o,c),i=s.stateNode;try{var g=s.memoizedProps,S=g.id,k=g.onPostCommit;typeof k=="function"&&k(S,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(O){Pe(s,s.return,O)}}else er(i,s,o,c);break;case 13:er(i,s,o,c);break;case 23:break;case 22:g=s.stateNode,S=s.alternate,s.memoizedState!==null?g._visibility&2?er(i,s,o,c):xa(i,s):g._visibility&2?er(i,s,o,c):(g._visibility|=2,rl(i,s,o,c,(s.subtreeFlags&10256)!==0)),p&2048&&Kd(S,s);break;case 24:er(i,s,o,c),p&2048&&Gd(s.alternate,s);break;default:er(i,s,o,c)}}function rl(i,s,o,c,p){for(p=p&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var g=i,S=s,k=o,O=c,B=S.flags;switch(S.tag){case 0:case 11:case 15:rl(g,S,k,O,p),va(8,S);break;case 23:break;case 22:var I=S.stateNode;S.memoizedState!==null?I._visibility&2?rl(g,S,k,O,p):xa(g,S):(I._visibility|=2,rl(g,S,k,O,p)),p&&B&2048&&Kd(S.alternate,S);break;case 24:rl(g,S,k,O,p),p&&B&2048&&Gd(S.alternate,S);break;default:rl(g,S,k,O,p)}s=s.sibling}}function xa(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=i,c=s,p=c.flags;switch(c.tag){case 22:xa(o,c),p&2048&&Kd(c.alternate,c);break;case 24:xa(o,c),p&2048&&Gd(c.alternate,c);break;default:xa(o,c)}s=s.sibling}}var Sa=8192;function il(i){if(i.subtreeFlags&Sa)for(i=i.child;i!==null;)By(i),i=i.sibling}function By(i){switch(i.tag){case 26:il(i),i.flags&Sa&&i.memoizedState!==null&&$k(Vn,i.memoizedState,i.memoizedProps);break;case 5:il(i);break;case 3:case 4:var s=Vn;Vn=Nu(i.stateNode.containerInfo),il(i),Vn=s;break;case 22:i.memoizedState===null&&(s=i.alternate,s!==null&&s.memoizedState!==null?(s=Sa,Sa=16777216,il(i),Sa=s):il(i));break;default:il(i)}}function Hy(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function wa(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var c=s[o];pt=c,Uy(c,i)}Hy(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)_y(i),i=i.sibling}function _y(i){switch(i.tag){case 0:case 11:case 15:wa(i),i.flags&2048&&ei(9,i,i.return);break;case 3:wa(i);break;case 12:wa(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,yu(i)):wa(i);break;default:wa(i)}}function yu(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var c=s[o];pt=c,Uy(c,i)}Hy(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:ei(8,s,s.return),yu(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,yu(s));break;default:yu(s)}i=i.sibling}}function Uy(i,s){for(;pt!==null;){var o=pt;switch(o.tag){case 0:case 11:case 15:ei(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:ia(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,pt=c;else e:for(o=i;pt!==null;){c=pt;var p=c.sibling,g=c.return;if(Ay(c),c===o){pt=null;break e}if(p!==null){p.return=g,pt=p;break e}pt=g}}}var lk={getCacheForType:function(i){var s=Dt(lt),o=s.data.get(i);return o===void 0&&(o=i(),s.data.set(i,o)),o}},ak=typeof WeakMap=="function"?WeakMap:Map,Be=0,$e=null,Ce=null,je=0,He=0,un=null,ri=!1,sl=!1,Fd=!1,Or=0,Qe=0,ii=0,ts=0,Xd=0,Tn=0,ll=0,Ea=null,Xt=null,Jd=!1,Qd=0,vu=1/0,bu=null,si=null,Et=0,li=null,al=null,ol=0,Zd=0,Wd=null,Vy=null,ka=0,eh=null;function cn(){if((Be&2)!==0&&je!==0)return je&-je;if(V.T!==null){var i=Xs;return i!==0?i:ah()}return Ns()}function qy(){Tn===0&&(Tn=(je&536870912)===0||ze?ft():536870912);var i=kn.current;return i!==null&&(i.flags|=32),Tn}function fn(i,s,o){(i===$e&&(He===2||He===9)||i.cancelPendingCommit!==null)&&(ul(i,0),ai(i,je,Tn,!1)),$r(i,o),((Be&2)===0||i!==$e)&&(i===$e&&((Be&2)===0&&(ts|=o),Qe===4&&ai(i,je,Tn,!1)),tr(i))}function Py(i,s,o){if((Be&6)!==0)throw Error(r(327));var c=!o&&(s&124)===0&&(s&i.expiredLanes)===0||Ne(i,s),p=c?ck(i,s):rh(i,s,!0),g=c;do{if(p===0){sl&&!c&&ai(i,s,0,!1);break}else{if(o=i.current.alternate,g&&!ok(o)){p=rh(i,s,!1),g=!1;continue}if(p===2){if(g=s,i.errorRecoveryDisabledLanes&g)var S=0;else S=i.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){s=S;e:{var k=i;p=Ea;var O=k.current.memoizedState.isDehydrated;if(O&&(ul(k,S).flags|=256),S=rh(k,S,!1),S!==2){if(Fd&&!O){k.errorRecoveryDisabledLanes|=g,ts|=g,p=4;break e}g=Xt,Xt=p,g!==null&&(Xt===null?Xt=g:Xt.push.apply(Xt,g))}p=S}if(g=!1,p!==2)continue}}if(p===1){ul(i,0),ai(i,s,0,!0);break}e:{switch(c=i,g=p,g){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:ai(c,s,Tn,!ri);break e;case 2:Xt=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(p=Qd+300-Nt(),10<p)){if(ai(c,s,Tn,!ri),fe(c,0,!0)!==0)break e;c.timeoutHandle=yv(Iy.bind(null,c,o,Xt,bu,Jd,s,Tn,ts,ll,ri,g,2,-0,0),p);break e}Iy(c,o,Xt,bu,Jd,s,Tn,ts,ll,ri,g,0,-0,0)}}break}while(!0);tr(i)}function Iy(i,s,o,c,p,g,S,k,O,B,I,Y,H,U){if(i.timeoutHandle=-1,Y=s.subtreeFlags,(Y&8192||(Y&16785408)===16785408)&&(Da={stylesheets:null,count:0,unsuspend:Ik},By(s),Y=Yk(),Y!==null)){i.cancelPendingCommit=Y(Jy.bind(null,i,s,g,o,c,p,S,k,O,I,1,H,U)),ai(i,g,S,!B);return}Jy(i,s,g,o,c,p,S,k,O)}function ok(i){for(var s=i;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var p=o[c],g=p.getSnapshot;p=p.value;try{if(!sn(g(),p))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ai(i,s,o,c){s&=~Xd,s&=~ts,i.suspendedLanes|=s,i.pingedLanes&=~s,c&&(i.warmLanes|=s),c=i.expirationTimes;for(var p=s;0<p;){var g=31-_t(p),S=1<<g;c[g]=-1,p&=~S}o!==0&&Os(i,o,s)}function xu(){return(Be&6)===0?(Ta(0),!1):!0}function th(){if(Ce!==null){if(He===0)var i=Ce.return;else i=Ce,xr=Xi=null,vd(i),tl=null,ma=0,i=Ce;for(;i!==null;)wy(i.alternate,i),i=i.return;Ce=null}}function ul(i,s){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,Ck(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),th(),$e=i,Ce=o=yr(i.current,null),je=s,He=0,un=null,ri=!1,sl=Ne(i,s),Fd=!1,ll=Tn=Xd=ts=ii=Qe=0,Xt=Ea=null,Jd=!1,(s&8)!==0&&(s|=s&32);var c=i.entangledLanes;if(c!==0)for(i=i.entanglements,c&=s;0<c;){var p=31-_t(c),g=1<<p;s|=i[p],c&=~g}return Or=s,Po(),o}function $y(i,s){we=null,V.H=au,s===la||s===Qo?(s=a0(),He=3):s===i0?(s=a0(),He=4):He=s===oy?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,un=s,Ce===null&&(Qe=1,du(i,xn(s,i.current)))}function Yy(){var i=V.H;return V.H=au,i===null?au:i}function Ky(){var i=V.A;return V.A=lk,i}function nh(){Qe=4,ri||(je&4194048)!==je&&kn.current!==null||(sl=!0),(ii&134217727)===0&&(ts&134217727)===0||$e===null||ai($e,je,Tn,!1)}function rh(i,s,o){var c=Be;Be|=2;var p=Yy(),g=Ky();($e!==i||je!==s)&&(bu=null,ul(i,s)),s=!1;var S=Qe;e:do try{if(He!==0&&Ce!==null){var k=Ce,O=un;switch(He){case 8:th(),S=6;break e;case 3:case 2:case 9:case 6:kn.current===null&&(s=!0);var B=He;if(He=0,un=null,cl(i,k,O,B),o&&sl){S=0;break e}break;default:B=He,He=0,un=null,cl(i,k,O,B)}}uk(),S=Qe;break}catch(I){$y(i,I)}while(!0);return s&&i.shellSuspendCounter++,xr=Xi=null,Be=c,V.H=p,V.A=g,Ce===null&&($e=null,je=0,Po()),S}function uk(){for(;Ce!==null;)Gy(Ce)}function ck(i,s){var o=Be;Be|=2;var c=Yy(),p=Ky();$e!==i||je!==s?(bu=null,vu=Nt()+500,ul(i,s)):sl=Ne(i,s);e:do try{if(He!==0&&Ce!==null){s=Ce;var g=un;t:switch(He){case 1:He=0,un=null,cl(i,s,g,1);break;case 2:case 9:if(s0(g)){He=0,un=null,Fy(s);break}s=function(){He!==2&&He!==9||$e!==i||(He=7),tr(i)},g.then(s,s);break e;case 3:He=7;break e;case 4:He=5;break e;case 7:s0(g)?(He=0,un=null,Fy(s)):(He=0,un=null,cl(i,s,g,7));break;case 5:var S=null;switch(Ce.tag){case 26:S=Ce.memoizedState;case 5:case 27:var k=Ce;if(!S||Nv(S)){He=0,un=null;var O=k.sibling;if(O!==null)Ce=O;else{var B=k.return;B!==null?(Ce=B,Su(B)):Ce=null}break t}}He=0,un=null,cl(i,s,g,5);break;case 6:He=0,un=null,cl(i,s,g,6);break;case 8:th(),Qe=6;break e;default:throw Error(r(462))}}fk();break}catch(I){$y(i,I)}while(!0);return xr=Xi=null,V.H=c,V.A=p,Be=o,Ce!==null?0:($e=null,je=0,Po(),Qe)}function fk(){for(;Ce!==null&&!ks();)Gy(Ce)}function Gy(i){var s=xy(i.alternate,i,Or);i.memoizedProps=i.pendingProps,s===null?Su(i):Ce=s}function Fy(i){var s=i,o=s.alternate;switch(s.tag){case 15:case 0:s=py(o,s,s.pendingProps,s.type,void 0,je);break;case 11:s=py(o,s,s.pendingProps,s.type.render,s.ref,je);break;case 5:vd(s);default:wy(o,s),s=Ce=Xg(s,Or),s=xy(o,s,Or)}i.memoizedProps=i.pendingProps,s===null?Su(i):Ce=s}function cl(i,s,o,c){xr=Xi=null,vd(s),tl=null,ma=0;var p=s.return;try{if(ek(i,p,s,o,je)){Qe=1,du(i,xn(o,i.current)),Ce=null;return}}catch(g){if(p!==null)throw Ce=p,g;Qe=1,du(i,xn(o,i.current)),Ce=null;return}s.flags&32768?(ze||c===1?i=!0:sl||(je&536870912)!==0?i=!1:(ri=i=!0,(c===2||c===9||c===3||c===6)&&(c=kn.current,c!==null&&c.tag===13&&(c.flags|=16384))),Xy(s,i)):Su(s)}function Su(i){var s=i;do{if((s.flags&32768)!==0){Xy(s,ri);return}i=s.return;var o=nk(s.alternate,s,Or);if(o!==null){Ce=o;return}if(s=s.sibling,s!==null){Ce=s;return}Ce=s=i}while(s!==null);Qe===0&&(Qe=5)}function Xy(i,s){do{var o=rk(i.alternate,i);if(o!==null){o.flags&=32767,Ce=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(i=i.sibling,i!==null)){Ce=i;return}Ce=i=o}while(i!==null);Qe=6,Ce=null}function Jy(i,s,o,c,p,g,S,k,O){i.cancelPendingCommit=null;do wu();while(Et!==0);if((Be&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(g=s.lanes|s.childLanes,g|=Gf,pr(i,o,g,S,k,O),i===$e&&(Ce=$e=null,je=0),al=s,li=i,ol=o,Zd=g,Wd=p,Vy=c,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,mk(nn,function(){return tv(),null})):(i.callbackNode=null,i.callbackPriority=0),c=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||c){c=V.T,V.T=null,p=F.p,F.p=2,S=Be,Be|=4;try{ik(i,s,o)}finally{Be=S,F.p=p,V.T=c}}Et=1,Qy(),Zy(),Wy()}}function Qy(){if(Et===1){Et=0;var i=li,s=al,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=V.T,V.T=null;var c=F.p;F.p=2;var p=Be;Be|=4;try{jy(s,i);var g=mh,S=Ug(i.containerInfo),k=g.focusedElem,O=g.selectionRange;if(S!==k&&k&&k.ownerDocument&&_g(k.ownerDocument.documentElement,k)){if(O!==null&&Pf(k)){var B=O.start,I=O.end;if(I===void 0&&(I=B),"selectionStart"in k)k.selectionStart=B,k.selectionEnd=Math.min(I,k.value.length);else{var Y=k.ownerDocument||document,H=Y&&Y.defaultView||window;if(H.getSelection){var U=H.getSelection(),pe=k.textContent.length,de=Math.min(O.start,pe),qe=O.end===void 0?de:Math.min(O.end,pe);!U.extend&&de>qe&&(S=qe,qe=de,de=S);var R=Hg(k,de),A=Hg(k,qe);if(R&&A&&(U.rangeCount!==1||U.anchorNode!==R.node||U.anchorOffset!==R.offset||U.focusNode!==A.node||U.focusOffset!==A.offset)){var z=Y.createRange();z.setStart(R.node,R.offset),U.removeAllRanges(),de>qe?(U.addRange(z),U.extend(A.node,A.offset)):(z.setEnd(A.node,A.offset),U.addRange(z))}}}}for(Y=[],U=k;U=U.parentNode;)U.nodeType===1&&Y.push({element:U,left:U.scrollLeft,top:U.scrollTop});for(typeof k.focus=="function"&&k.focus(),k=0;k<Y.length;k++){var $=Y[k];$.element.scrollLeft=$.left,$.element.scrollTop=$.top}}Lu=!!ph,mh=ph=null}finally{Be=p,F.p=c,V.T=o}}i.current=s,Et=2}}function Zy(){if(Et===2){Et=0;var i=li,s=al,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=V.T,V.T=null;var c=F.p;F.p=2;var p=Be;Be|=4;try{Ny(i,s.alternate,s)}finally{Be=p,F.p=c,V.T=o}}Et=3}}function Wy(){if(Et===4||Et===3){Et=0,zi();var i=li,s=al,o=ol,c=Vy;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Et=5:(Et=0,al=li=null,ev(i,i.pendingLanes));var p=i.pendingLanes;if(p===0&&(si=null),Pl(o),s=s.stateNode,ct&&typeof ct.onCommitFiberRoot=="function")try{ct.onCommitFiberRoot(Fn,s,void 0,(s.current.flags&128)===128)}catch{}if(c!==null){s=V.T,p=F.p,F.p=2,V.T=null;try{for(var g=i.onRecoverableError,S=0;S<c.length;S++){var k=c[S];g(k.value,{componentStack:k.stack})}}finally{V.T=s,F.p=p}}(ol&3)!==0&&wu(),tr(i),p=i.pendingLanes,(o&4194090)!==0&&(p&42)!==0?i===eh?ka++:(ka=0,eh=i):ka=0,Ta(0)}}function ev(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,ia(s)))}function wu(i){return Qy(),Zy(),Wy(),tv()}function tv(){if(Et!==5)return!1;var i=li,s=Zd;Zd=0;var o=Pl(ol),c=V.T,p=F.p;try{F.p=32>o?32:o,V.T=null,o=Wd,Wd=null;var g=li,S=ol;if(Et=0,al=li=null,ol=0,(Be&6)!==0)throw Error(r(331));var k=Be;if(Be|=4,_y(g.current),zy(g,g.current,S,o),Be=k,Ta(0,!1),ct&&typeof ct.onPostCommitFiberRoot=="function")try{ct.onPostCommitFiberRoot(Fn,g)}catch{}return!0}finally{F.p=p,V.T=c,ev(i,s)}}function nv(i,s,o){s=xn(o,s),s=Rd(i.stateNode,s,2),i=Jr(i,s,2),i!==null&&($r(i,2),tr(i))}function Pe(i,s,o){if(i.tag===3)nv(i,i,o);else for(;s!==null;){if(s.tag===3){nv(s,i,o);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(si===null||!si.has(c))){i=xn(o,i),o=ly(2),c=Jr(s,o,2),c!==null&&(ay(o,c,s,i),$r(c,2),tr(c));break}}s=s.return}}function ih(i,s,o){var c=i.pingCache;if(c===null){c=i.pingCache=new ak;var p=new Set;c.set(s,p)}else p=c.get(s),p===void 0&&(p=new Set,c.set(s,p));p.has(o)||(Fd=!0,p.add(o),i=dk.bind(null,i,s,o),s.then(i,i))}function dk(i,s,o){var c=i.pingCache;c!==null&&c.delete(s),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,$e===i&&(je&o)===o&&(Qe===4||Qe===3&&(je&62914560)===je&&300>Nt()-Qd?(Be&2)===0&&ul(i,0):Xd|=o,ll===je&&(ll=0)),tr(i)}function rv(i,s){s===0&&(s=Ut()),i=Ys(i,s),i!==null&&($r(i,s),tr(i))}function hk(i){var s=i.memoizedState,o=0;s!==null&&(o=s.retryLane),rv(i,o)}function pk(i,s){var o=0;switch(i.tag){case 13:var c=i.stateNode,p=i.memoizedState;p!==null&&(o=p.retryLane);break;case 19:c=i.stateNode;break;case 22:c=i.stateNode._retryCache;break;default:throw Error(r(314))}c!==null&&c.delete(s),rv(i,o)}function mk(i,s){return hr(i,s)}var Eu=null,fl=null,sh=!1,ku=!1,lh=!1,ns=0;function tr(i){i!==fl&&i.next===null&&(fl===null?Eu=fl=i:fl=fl.next=i),ku=!0,sh||(sh=!0,yk())}function Ta(i,s){if(!lh&&ku){lh=!0;do for(var o=!1,c=Eu;c!==null;){if(i!==0){var p=c.pendingLanes;if(p===0)var g=0;else{var S=c.suspendedLanes,k=c.pingedLanes;g=(1<<31-_t(42|i)+1)-1,g&=p&~(S&~k),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,av(c,g))}else g=je,g=fe(c,c===$e?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(g&3)===0||Ne(c,g)||(o=!0,av(c,g));c=c.next}while(o);lh=!1}}function gk(){iv()}function iv(){ku=sh=!1;var i=0;ns!==0&&(Tk()&&(i=ns),ns=0);for(var s=Nt(),o=null,c=Eu;c!==null;){var p=c.next,g=sv(c,s);g===0?(c.next=null,o===null?Eu=p:o.next=p,p===null&&(fl=o)):(o=c,(i!==0||(g&3)!==0)&&(ku=!0)),c=p}Ta(i)}function sv(i,s){for(var o=i.suspendedLanes,c=i.pingedLanes,p=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var S=31-_t(g),k=1<<S,O=p[S];O===-1?((k&o)===0||(k&c)!==0)&&(p[S]=Ae(k,s)):O<=s&&(i.expiredLanes|=k),g&=~k}if(s=$e,o=je,o=fe(i,i===s?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c=i.callbackNode,o===0||i===s&&(He===2||He===9)||i.cancelPendingCommit!==null)return c!==null&&c!==null&&Ir(c),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||Ne(i,o)){if(s=o&-o,s===i.callbackPriority)return s;switch(c!==null&&Ir(c),Pl(o)){case 2:case 8:o=yn;break;case 32:o=nn;break;case 268435456:o=Gn;break;default:o=nn}return c=lv.bind(null,i),o=hr(o,c),i.callbackPriority=s,i.callbackNode=o,s}return c!==null&&c!==null&&Ir(c),i.callbackPriority=2,i.callbackNode=null,2}function lv(i,s){if(Et!==0&&Et!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(wu()&&i.callbackNode!==o)return null;var c=je;return c=fe(i,i===$e?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c===0?null:(Py(i,c,s),sv(i,Nt()),i.callbackNode!=null&&i.callbackNode===o?lv.bind(null,i):null)}function av(i,s){if(wu())return null;Py(i,s,!0)}function yk(){Mk(function(){(Be&6)!==0?hr(Bi,gk):iv()})}function ah(){return ns===0&&(ns=ft()),ns}function ov(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:zo(""+i)}function uv(i,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,i.id&&o.setAttribute("form",i.id),s.parentNode.insertBefore(o,s),i=new FormData(i),o.parentNode.removeChild(o),i}function vk(i,s,o,c,p){if(s==="submit"&&o&&o.stateNode===p){var g=ov((p[Yt]||null).action),S=c.submitter;S&&(s=(s=S[Yt]||null)?ov(s.formAction):S.getAttribute("formAction"),s!==null&&(g=s,S=null));var k=new Uo("action","action",null,c,p);i.push({event:k,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(ns!==0){var O=S?uv(p,S):new FormData(p);Md(o,{pending:!0,data:O,method:p.method,action:g},null,O)}}else typeof g=="function"&&(k.preventDefault(),O=S?uv(p,S):new FormData(p),Md(o,{pending:!0,data:O,method:p.method,action:g},g,O))},currentTarget:p}]})}}for(var oh=0;oh<Kf.length;oh++){var uh=Kf[oh],bk=uh.toLowerCase(),xk=uh[0].toUpperCase()+uh.slice(1);Un(bk,"on"+xk)}Un(Pg,"onAnimationEnd"),Un(Ig,"onAnimationIteration"),Un($g,"onAnimationStart"),Un("dblclick","onDoubleClick"),Un("focusin","onFocus"),Un("focusout","onBlur"),Un(HE,"onTransitionRun"),Un(_E,"onTransitionStart"),Un(UE,"onTransitionCancel"),Un(Yg,"onTransitionEnd"),zs("onMouseEnter",["mouseout","mouseover"]),zs("onMouseLeave",["mouseout","mouseover"]),zs("onPointerEnter",["pointerout","pointerover"]),zs("onPointerLeave",["pointerout","pointerover"]),Vi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Vi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Vi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Vi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Vi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Vi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ca="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sk=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ca));function cv(i,s){s=(s&4)!==0;for(var o=0;o<i.length;o++){var c=i[o],p=c.event;c=c.listeners;e:{var g=void 0;if(s)for(var S=c.length-1;0<=S;S--){var k=c[S],O=k.instance,B=k.currentTarget;if(k=k.listener,O!==g&&p.isPropagationStopped())break e;g=k,p.currentTarget=B;try{g(p)}catch(I){fu(I)}p.currentTarget=null,g=O}else for(S=0;S<c.length;S++){if(k=c[S],O=k.instance,B=k.currentTarget,k=k.listener,O!==g&&p.isPropagationStopped())break e;g=k,p.currentTarget=B;try{g(p)}catch(I){fu(I)}p.currentTarget=null,g=O}}}}function Me(i,s){var o=s[wf];o===void 0&&(o=s[wf]=new Set);var c=i+"__bubble";o.has(c)||(fv(s,i,2,!1),o.add(c))}function ch(i,s,o){var c=0;s&&(c|=4),fv(o,i,c,s)}var Tu="_reactListening"+Math.random().toString(36).slice(2);function fh(i){if(!i[Tu]){i[Tu]=!0,ig.forEach(function(o){o!=="selectionchange"&&(Sk.has(o)||ch(o,!1,i),ch(o,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[Tu]||(s[Tu]=!0,ch("selectionchange",!1,s))}}function fv(i,s,o,c){switch(zv(s)){case 2:var p=Fk;break;case 8:p=Xk;break;default:p=Th}o=p.bind(null,s,o,i),p=void 0,!jf||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),c?p!==void 0?i.addEventListener(s,o,{capture:!0,passive:p}):i.addEventListener(s,o,!0):p!==void 0?i.addEventListener(s,o,{passive:p}):i.addEventListener(s,o,!1)}function dh(i,s,o,c,p){var g=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var S=c.tag;if(S===3||S===4){var k=c.stateNode.containerInfo;if(k===p)break;if(S===4)for(S=c.return;S!==null;){var O=S.tag;if((O===3||O===4)&&S.stateNode.containerInfo===p)return;S=S.return}for(;k!==null;){if(S=Rs(k),S===null)return;if(O=S.tag,O===5||O===6||O===26||O===27){c=g=S;continue e}k=k.parentNode}}c=c.return}vg(function(){var B=g,I=Df(o),Y=[];e:{var H=Kg.get(i);if(H!==void 0){var U=Uo,pe=i;switch(i){case"keypress":if(Ho(o)===0)break e;case"keydown":case"keyup":U=mE;break;case"focusin":pe="focus",U=Hf;break;case"focusout":pe="blur",U=Hf;break;case"beforeblur":case"afterblur":U=Hf;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":U=Sg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":U=rE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":U=vE;break;case Pg:case Ig:case $g:U=lE;break;case Yg:U=xE;break;case"scroll":case"scrollend":U=tE;break;case"wheel":U=wE;break;case"copy":case"cut":case"paste":U=oE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":U=Eg;break;case"toggle":case"beforetoggle":U=kE}var de=(s&4)!==0,qe=!de&&(i==="scroll"||i==="scrollend"),R=de?H!==null?H+"Capture":null:H;de=[];for(var A=B,z;A!==null;){var $=A;if(z=$.stateNode,$=$.tag,$!==5&&$!==26&&$!==27||z===null||R===null||($=Yl(A,R),$!=null&&de.push(Ma(A,$,z))),qe)break;A=A.return}0<de.length&&(H=new U(H,pe,null,o,I),Y.push({event:H,listeners:de}))}}if((s&7)===0){e:{if(H=i==="mouseover"||i==="pointerover",U=i==="mouseout"||i==="pointerout",H&&o!==Af&&(pe=o.relatedTarget||o.fromElement)&&(Rs(pe)||pe[Ds]))break e;if((U||H)&&(H=I.window===I?I:(H=I.ownerDocument)?H.defaultView||H.parentWindow:window,U?(pe=o.relatedTarget||o.toElement,U=B,pe=pe?Rs(pe):null,pe!==null&&(qe=a(pe),de=pe.tag,pe!==qe||de!==5&&de!==27&&de!==6)&&(pe=null)):(U=null,pe=B),U!==pe)){if(de=Sg,$="onMouseLeave",R="onMouseEnter",A="mouse",(i==="pointerout"||i==="pointerover")&&(de=Eg,$="onPointerLeave",R="onPointerEnter",A="pointer"),qe=U==null?H:$l(U),z=pe==null?H:$l(pe),H=new de($,A+"leave",U,o,I),H.target=qe,H.relatedTarget=z,$=null,Rs(I)===B&&(de=new de(R,A+"enter",pe,o,I),de.target=z,de.relatedTarget=qe,$=de),qe=$,U&&pe)t:{for(de=U,R=pe,A=0,z=de;z;z=dl(z))A++;for(z=0,$=R;$;$=dl($))z++;for(;0<A-z;)de=dl(de),A--;for(;0<z-A;)R=dl(R),z--;for(;A--;){if(de===R||R!==null&&de===R.alternate)break t;de=dl(de),R=dl(R)}de=null}else de=null;U!==null&&dv(Y,H,U,de,!1),pe!==null&&qe!==null&&dv(Y,qe,pe,de,!0)}}e:{if(H=B?$l(B):window,U=H.nodeName&&H.nodeName.toLowerCase(),U==="select"||U==="input"&&H.type==="file")var re=Dg;else if(Ng(H))if(Rg)re=LE;else{re=RE;var Te=DE}else U=H.nodeName,!U||U.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?B&&Nf(B.elementType)&&(re=Dg):re=jE;if(re&&(re=re(i,B))){Ag(Y,re,o,I);break e}Te&&Te(i,H,B),i==="focusout"&&B&&H.type==="number"&&B.memoizedProps.value!=null&&Of(H,"number",H.value)}switch(Te=B?$l(B):window,i){case"focusin":(Ng(Te)||Te.contentEditable==="true")&&(Ps=Te,If=B,Wl=null);break;case"focusout":Wl=If=Ps=null;break;case"mousedown":$f=!0;break;case"contextmenu":case"mouseup":case"dragend":$f=!1,Vg(Y,o,I);break;case"selectionchange":if(BE)break;case"keydown":case"keyup":Vg(Y,o,I)}var ae;if(Uf)e:{switch(i){case"compositionstart":var he="onCompositionStart";break e;case"compositionend":he="onCompositionEnd";break e;case"compositionupdate":he="onCompositionUpdate";break e}he=void 0}else qs?Mg(i,o)&&(he="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(he="onCompositionStart");he&&(kg&&o.locale!=="ko"&&(qs||he!=="onCompositionStart"?he==="onCompositionEnd"&&qs&&(ae=bg()):(Kr=I,Lf="value"in Kr?Kr.value:Kr.textContent,qs=!0)),Te=Cu(B,he),0<Te.length&&(he=new wg(he,i,null,o,I),Y.push({event:he,listeners:Te}),ae?he.data=ae:(ae=Og(o),ae!==null&&(he.data=ae)))),(ae=CE?ME(i,o):OE(i,o))&&(he=Cu(B,"onBeforeInput"),0<he.length&&(Te=new wg("onBeforeInput","beforeinput",null,o,I),Y.push({event:Te,listeners:he}),Te.data=ae)),vk(Y,i,B,o,I)}cv(Y,s)})}function Ma(i,s,o){return{instance:i,listener:s,currentTarget:o}}function Cu(i,s){for(var o=s+"Capture",c=[];i!==null;){var p=i,g=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||g===null||(p=Yl(i,o),p!=null&&c.unshift(Ma(i,p,g)),p=Yl(i,s),p!=null&&c.push(Ma(i,p,g))),i.tag===3)return c;i=i.return}return[]}function dl(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function dv(i,s,o,c,p){for(var g=s._reactName,S=[];o!==null&&o!==c;){var k=o,O=k.alternate,B=k.stateNode;if(k=k.tag,O!==null&&O===c)break;k!==5&&k!==26&&k!==27||B===null||(O=B,p?(B=Yl(o,g),B!=null&&S.unshift(Ma(o,B,O))):p||(B=Yl(o,g),B!=null&&S.push(Ma(o,B,O)))),o=o.return}S.length!==0&&i.push({event:s,listeners:S})}var wk=/\r\n?/g,Ek=/\u0000|\uFFFD/g;function hv(i){return(typeof i=="string"?i:""+i).replace(wk,`
`).replace(Ek,"")}function pv(i,s){return s=hv(s),hv(i)===s}function Mu(){}function Ve(i,s,o,c,p,g){switch(o){case"children":typeof c=="string"?s==="body"||s==="textarea"&&c===""||_s(i,c):(typeof c=="number"||typeof c=="bigint")&&s!=="body"&&_s(i,""+c);break;case"className":Ro(i,"class",c);break;case"tabIndex":Ro(i,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Ro(i,o,c);break;case"style":gg(i,c,g);break;case"data":if(s!=="object"){Ro(i,"data",c);break}case"src":case"href":if(c===""&&(s!=="a"||o!=="href")){i.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=zo(""+c),i.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(s!=="input"&&Ve(i,s,"name",p.name,p,null),Ve(i,s,"formEncType",p.formEncType,p,null),Ve(i,s,"formMethod",p.formMethod,p,null),Ve(i,s,"formTarget",p.formTarget,p,null)):(Ve(i,s,"encType",p.encType,p,null),Ve(i,s,"method",p.method,p,null),Ve(i,s,"target",p.target,p,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=zo(""+c),i.setAttribute(o,c);break;case"onClick":c!=null&&(i.onclick=Mu);break;case"onScroll":c!=null&&Me("scroll",i);break;case"onScrollEnd":c!=null&&Me("scrollend",i);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(o=c.__html,o!=null){if(p.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"multiple":i.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":i.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){i.removeAttribute("xlink:href");break}o=zo(""+c),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""+c):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":c===!0?i.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,c):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?i.setAttribute(o,c):i.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?i.removeAttribute(o):i.setAttribute(o,c);break;case"popover":Me("beforetoggle",i),Me("toggle",i),Do(i,"popover",c);break;case"xlinkActuate":mr(i,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":mr(i,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":mr(i,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":mr(i,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":mr(i,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":mr(i,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":mr(i,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":mr(i,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":mr(i,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Do(i,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Ww.get(o)||o,Do(i,o,c))}}function hh(i,s,o,c,p,g){switch(o){case"style":gg(i,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(o=c.__html,o!=null){if(p.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"children":typeof c=="string"?_s(i,c):(typeof c=="number"||typeof c=="bigint")&&_s(i,""+c);break;case"onScroll":c!=null&&Me("scroll",i);break;case"onScrollEnd":c!=null&&Me("scrollend",i);break;case"onClick":c!=null&&(i.onclick=Mu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!sg.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(p=o.endsWith("Capture"),s=o.slice(2,p?o.length-7:void 0),g=i[Yt]||null,g=g!=null?g[o]:null,typeof g=="function"&&i.removeEventListener(s,g,p),typeof c=="function")){typeof g!="function"&&g!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(s,c,p);break e}o in i?i[o]=c:c===!0?i.setAttribute(o,""):Do(i,o,c)}}}function kt(i,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Me("error",i),Me("load",i);var c=!1,p=!1,g;for(g in o)if(o.hasOwnProperty(g)){var S=o[g];if(S!=null)switch(g){case"src":c=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Ve(i,s,g,S,o,null)}}p&&Ve(i,s,"srcSet",o.srcSet,o,null),c&&Ve(i,s,"src",o.src,o,null);return;case"input":Me("invalid",i);var k=g=S=p=null,O=null,B=null;for(c in o)if(o.hasOwnProperty(c)){var I=o[c];if(I!=null)switch(c){case"name":p=I;break;case"type":S=I;break;case"checked":O=I;break;case"defaultChecked":B=I;break;case"value":g=I;break;case"defaultValue":k=I;break;case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(r(137,s));break;default:Ve(i,s,c,I,o,null)}}dg(i,g,k,O,B,S,p,!1),jo(i);return;case"select":Me("invalid",i),c=S=g=null;for(p in o)if(o.hasOwnProperty(p)&&(k=o[p],k!=null))switch(p){case"value":g=k;break;case"defaultValue":S=k;break;case"multiple":c=k;default:Ve(i,s,p,k,o,null)}s=g,o=S,i.multiple=!!c,s!=null?Hs(i,!!c,s,!1):o!=null&&Hs(i,!!c,o,!0);return;case"textarea":Me("invalid",i),g=p=c=null;for(S in o)if(o.hasOwnProperty(S)&&(k=o[S],k!=null))switch(S){case"value":c=k;break;case"defaultValue":p=k;break;case"children":g=k;break;case"dangerouslySetInnerHTML":if(k!=null)throw Error(r(91));break;default:Ve(i,s,S,k,o,null)}pg(i,c,p,g),jo(i);return;case"option":for(O in o)if(o.hasOwnProperty(O)&&(c=o[O],c!=null))switch(O){case"selected":i.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:Ve(i,s,O,c,o,null)}return;case"dialog":Me("beforetoggle",i),Me("toggle",i),Me("cancel",i),Me("close",i);break;case"iframe":case"object":Me("load",i);break;case"video":case"audio":for(c=0;c<Ca.length;c++)Me(Ca[c],i);break;case"image":Me("error",i),Me("load",i);break;case"details":Me("toggle",i);break;case"embed":case"source":case"link":Me("error",i),Me("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in o)if(o.hasOwnProperty(B)&&(c=o[B],c!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Ve(i,s,B,c,o,null)}return;default:if(Nf(s)){for(I in o)o.hasOwnProperty(I)&&(c=o[I],c!==void 0&&hh(i,s,I,c,o,void 0));return}}for(k in o)o.hasOwnProperty(k)&&(c=o[k],c!=null&&Ve(i,s,k,c,o,null))}function kk(i,s,o,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,g=null,S=null,k=null,O=null,B=null,I=null;for(U in o){var Y=o[U];if(o.hasOwnProperty(U)&&Y!=null)switch(U){case"checked":break;case"value":break;case"defaultValue":O=Y;default:c.hasOwnProperty(U)||Ve(i,s,U,null,c,Y)}}for(var H in c){var U=c[H];if(Y=o[H],c.hasOwnProperty(H)&&(U!=null||Y!=null))switch(H){case"type":g=U;break;case"name":p=U;break;case"checked":B=U;break;case"defaultChecked":I=U;break;case"value":S=U;break;case"defaultValue":k=U;break;case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(r(137,s));break;default:U!==Y&&Ve(i,s,H,U,c,Y)}}Mf(i,S,k,O,B,I,g,p);return;case"select":U=S=k=H=null;for(g in o)if(O=o[g],o.hasOwnProperty(g)&&O!=null)switch(g){case"value":break;case"multiple":U=O;default:c.hasOwnProperty(g)||Ve(i,s,g,null,c,O)}for(p in c)if(g=c[p],O=o[p],c.hasOwnProperty(p)&&(g!=null||O!=null))switch(p){case"value":H=g;break;case"defaultValue":k=g;break;case"multiple":S=g;default:g!==O&&Ve(i,s,p,g,c,O)}s=k,o=S,c=U,H!=null?Hs(i,!!o,H,!1):!!c!=!!o&&(s!=null?Hs(i,!!o,s,!0):Hs(i,!!o,o?[]:"",!1));return;case"textarea":U=H=null;for(k in o)if(p=o[k],o.hasOwnProperty(k)&&p!=null&&!c.hasOwnProperty(k))switch(k){case"value":break;case"children":break;default:Ve(i,s,k,null,c,p)}for(S in c)if(p=c[S],g=o[S],c.hasOwnProperty(S)&&(p!=null||g!=null))switch(S){case"value":H=p;break;case"defaultValue":U=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(r(91));break;default:p!==g&&Ve(i,s,S,p,c,g)}hg(i,H,U);return;case"option":for(var pe in o)if(H=o[pe],o.hasOwnProperty(pe)&&H!=null&&!c.hasOwnProperty(pe))switch(pe){case"selected":i.selected=!1;break;default:Ve(i,s,pe,null,c,H)}for(O in c)if(H=c[O],U=o[O],c.hasOwnProperty(O)&&H!==U&&(H!=null||U!=null))switch(O){case"selected":i.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:Ve(i,s,O,H,c,U)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var de in o)H=o[de],o.hasOwnProperty(de)&&H!=null&&!c.hasOwnProperty(de)&&Ve(i,s,de,null,c,H);for(B in c)if(H=c[B],U=o[B],c.hasOwnProperty(B)&&H!==U&&(H!=null||U!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,s));break;default:Ve(i,s,B,H,c,U)}return;default:if(Nf(s)){for(var qe in o)H=o[qe],o.hasOwnProperty(qe)&&H!==void 0&&!c.hasOwnProperty(qe)&&hh(i,s,qe,void 0,c,H);for(I in c)H=c[I],U=o[I],!c.hasOwnProperty(I)||H===U||H===void 0&&U===void 0||hh(i,s,I,H,c,U);return}}for(var R in o)H=o[R],o.hasOwnProperty(R)&&H!=null&&!c.hasOwnProperty(R)&&Ve(i,s,R,null,c,H);for(Y in c)H=c[Y],U=o[Y],!c.hasOwnProperty(Y)||H===U||H==null&&U==null||Ve(i,s,Y,H,c,U)}var ph=null,mh=null;function Ou(i){return i.nodeType===9?i:i.ownerDocument}function mv(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function gv(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function gh(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var yh=null;function Tk(){var i=window.event;return i&&i.type==="popstate"?i===yh?!1:(yh=i,!0):(yh=null,!1)}var yv=typeof setTimeout=="function"?setTimeout:void 0,Ck=typeof clearTimeout=="function"?clearTimeout:void 0,vv=typeof Promise=="function"?Promise:void 0,Mk=typeof queueMicrotask=="function"?queueMicrotask:typeof vv<"u"?function(i){return vv.resolve(null).then(i).catch(Ok)}:yv;function Ok(i){setTimeout(function(){throw i})}function oi(i){return i==="head"}function bv(i,s){var o=s,c=0,p=0;do{var g=o.nextSibling;if(i.removeChild(o),g&&g.nodeType===8)if(o=g.data,o==="/$"){if(0<c&&8>c){o=c;var S=i.ownerDocument;if(o&1&&Oa(S.documentElement),o&2&&Oa(S.body),o&4)for(o=S.head,Oa(o),S=o.firstChild;S;){var k=S.nextSibling,O=S.nodeName;S[Il]||O==="SCRIPT"||O==="STYLE"||O==="LINK"&&S.rel.toLowerCase()==="stylesheet"||o.removeChild(S),S=k}}if(p===0){i.removeChild(g),Ba(s);return}p--}else o==="$"||o==="$?"||o==="$!"?p++:c=o.charCodeAt(0)-48;else c=0;o=g}while(o);Ba(s)}function vh(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":vh(o),Ef(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function Nk(i,s,o,c){for(;i.nodeType===1;){var p=o;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!c&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(c){if(!i[Il])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==p.rel||i.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||i.getAttribute("title")!==(p.title==null?null:p.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(p.src==null?null:p.src)||i.getAttribute("type")!==(p.type==null?null:p.type)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var g=p.name==null?null:""+p.name;if(p.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=qn(i.nextSibling),i===null)break}return null}function Ak(i,s,o){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=qn(i.nextSibling),i===null))return null;return i}function bh(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function Dk(i,s){var o=i.ownerDocument;if(i.data!=="$?"||o.readyState==="complete")s();else{var c=function(){s(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),i._reactRetry=c}}function qn(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return i}var xh=null;function xv(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return i;s--}else o==="/$"&&s++}i=i.previousSibling}return null}function Sv(i,s,o){switch(s=Ou(o),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function Oa(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);Ef(i)}var Cn=new Map,wv=new Set;function Nu(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Nr=F.d;F.d={f:Rk,r:jk,D:Lk,C:zk,L:Bk,m:Hk,X:Uk,S:_k,M:Vk};function Rk(){var i=Nr.f(),s=xu();return i||s}function jk(i){var s=js(i);s!==null&&s.tag===5&&s.type==="form"?P0(s):Nr.r(i)}var hl=typeof document>"u"?null:document;function Ev(i,s,o){var c=hl;if(c&&typeof s=="string"&&s){var p=bn(s);p='link[rel="'+i+'"][href="'+p+'"]',typeof o=="string"&&(p+='[crossorigin="'+o+'"]'),wv.has(p)||(wv.add(p),i={rel:i,crossOrigin:o,href:s},c.querySelector(p)===null&&(s=c.createElement("link"),kt(s,"link",i),dt(s),c.head.appendChild(s)))}}function Lk(i){Nr.D(i),Ev("dns-prefetch",i,null)}function zk(i,s){Nr.C(i,s),Ev("preconnect",i,s)}function Bk(i,s,o){Nr.L(i,s,o);var c=hl;if(c&&i&&s){var p='link[rel="preload"][as="'+bn(s)+'"]';s==="image"&&o&&o.imageSrcSet?(p+='[imagesrcset="'+bn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(p+='[imagesizes="'+bn(o.imageSizes)+'"]')):p+='[href="'+bn(i)+'"]';var g=p;switch(s){case"style":g=pl(i);break;case"script":g=ml(i)}Cn.has(g)||(i=m({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:i,as:s},o),Cn.set(g,i),c.querySelector(p)!==null||s==="style"&&c.querySelector(Na(g))||s==="script"&&c.querySelector(Aa(g))||(s=c.createElement("link"),kt(s,"link",i),dt(s),c.head.appendChild(s)))}}function Hk(i,s){Nr.m(i,s);var o=hl;if(o&&i){var c=s&&typeof s.as=="string"?s.as:"script",p='link[rel="modulepreload"][as="'+bn(c)+'"][href="'+bn(i)+'"]',g=p;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=ml(i)}if(!Cn.has(g)&&(i=m({rel:"modulepreload",href:i},s),Cn.set(g,i),o.querySelector(p)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Aa(g)))return}c=o.createElement("link"),kt(c,"link",i),dt(c),o.head.appendChild(c)}}}function _k(i,s,o){Nr.S(i,s,o);var c=hl;if(c&&i){var p=Ls(c).hoistableStyles,g=pl(i);s=s||"default";var S=p.get(g);if(!S){var k={loading:0,preload:null};if(S=c.querySelector(Na(g)))k.loading=5;else{i=m({rel:"stylesheet",href:i,"data-precedence":s},o),(o=Cn.get(g))&&Sh(i,o);var O=S=c.createElement("link");dt(O),kt(O,"link",i),O._p=new Promise(function(B,I){O.onload=B,O.onerror=I}),O.addEventListener("load",function(){k.loading|=1}),O.addEventListener("error",function(){k.loading|=2}),k.loading|=4,Au(S,s,c)}S={type:"stylesheet",instance:S,count:1,state:k},p.set(g,S)}}}function Uk(i,s){Nr.X(i,s);var o=hl;if(o&&i){var c=Ls(o).hoistableScripts,p=ml(i),g=c.get(p);g||(g=o.querySelector(Aa(p)),g||(i=m({src:i,async:!0},s),(s=Cn.get(p))&&wh(i,s),g=o.createElement("script"),dt(g),kt(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(p,g))}}function Vk(i,s){Nr.M(i,s);var o=hl;if(o&&i){var c=Ls(o).hoistableScripts,p=ml(i),g=c.get(p);g||(g=o.querySelector(Aa(p)),g||(i=m({src:i,async:!0,type:"module"},s),(s=Cn.get(p))&&wh(i,s),g=o.createElement("script"),dt(g),kt(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(p,g))}}function kv(i,s,o,c){var p=(p=oe.current)?Nu(p):null;if(!p)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=pl(o.href),o=Ls(p).hoistableStyles,c=o.get(s),c||(c={type:"style",instance:null,count:0,state:null},o.set(s,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=pl(o.href);var g=Ls(p).hoistableStyles,S=g.get(i);if(S||(p=p.ownerDocument||p,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,S),(g=p.querySelector(Na(i)))&&!g._p&&(S.instance=g,S.state.loading=5),Cn.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Cn.set(i,o),g||qk(p,i,o,S.state))),s&&c===null)throw Error(r(528,""));return S}if(s&&c!==null)throw Error(r(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=ml(o),o=Ls(p).hoistableScripts,c=o.get(s),c||(c={type:"script",instance:null,count:0,state:null},o.set(s,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function pl(i){return'href="'+bn(i)+'"'}function Na(i){return'link[rel="stylesheet"]['+i+"]"}function Tv(i){return m({},i,{"data-precedence":i.precedence,precedence:null})}function qk(i,s,o,c){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=i.createElement("link"),c.preload=s,s.addEventListener("load",function(){return c.loading|=1}),s.addEventListener("error",function(){return c.loading|=2}),kt(s,"link",o),dt(s),i.head.appendChild(s))}function ml(i){return'[src="'+bn(i)+'"]'}function Aa(i){return"script[async]"+i}function Cv(i,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var c=i.querySelector('style[data-href~="'+bn(o.href)+'"]');if(c)return s.instance=c,dt(c),c;var p=m({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(i.ownerDocument||i).createElement("style"),dt(c),kt(c,"style",p),Au(c,o.precedence,i),s.instance=c;case"stylesheet":p=pl(o.href);var g=i.querySelector(Na(p));if(g)return s.state.loading|=4,s.instance=g,dt(g),g;c=Tv(o),(p=Cn.get(p))&&Sh(c,p),g=(i.ownerDocument||i).createElement("link"),dt(g);var S=g;return S._p=new Promise(function(k,O){S.onload=k,S.onerror=O}),kt(g,"link",c),s.state.loading|=4,Au(g,o.precedence,i),s.instance=g;case"script":return g=ml(o.src),(p=i.querySelector(Aa(g)))?(s.instance=p,dt(p),p):(c=o,(p=Cn.get(g))&&(c=m({},o),wh(c,p)),i=i.ownerDocument||i,p=i.createElement("script"),dt(p),kt(p,"link",c),i.head.appendChild(p),s.instance=p);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(c=s.instance,s.state.loading|=4,Au(c,o.precedence,i));return s.instance}function Au(i,s,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=c.length?c[c.length-1]:null,g=p,S=0;S<c.length;S++){var k=c[S];if(k.dataset.precedence===s)g=k;else if(g!==p)break}g?g.parentNode.insertBefore(i,g.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(i,s.firstChild))}function Sh(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function wh(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var Du=null;function Mv(i,s,o){if(Du===null){var c=new Map,p=Du=new Map;p.set(o,c)}else p=Du,c=p.get(o),c||(c=new Map,p.set(o,c));if(c.has(i))return c;for(c.set(i,null),o=o.getElementsByTagName(i),p=0;p<o.length;p++){var g=o[p];if(!(g[Il]||g[At]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var S=g.getAttribute(s)||"";S=i+S;var k=c.get(S);k?k.push(g):c.set(S,[g])}}return c}function Ov(i,s,o){i=i.ownerDocument||i,i.head.insertBefore(o,s==="title"?i.querySelector("head > title"):null)}function Pk(i,s,o){if(o===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Nv(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var Da=null;function Ik(){}function $k(i,s,o){if(Da===null)throw Error(r(475));var c=Da;if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var p=pl(o.href),g=i.querySelector(Na(p));if(g){i=g._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(c.count++,c=Ru.bind(c),i.then(c,c)),s.state.loading|=4,s.instance=g,dt(g);return}g=i.ownerDocument||i,o=Tv(o),(p=Cn.get(p))&&Sh(o,p),g=g.createElement("link"),dt(g);var S=g;S._p=new Promise(function(k,O){S.onload=k,S.onerror=O}),kt(g,"link",o),s.instance=g}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(c.count++,s=Ru.bind(c),i.addEventListener("load",s),i.addEventListener("error",s))}}function Yk(){if(Da===null)throw Error(r(475));var i=Da;return i.stylesheets&&i.count===0&&Eh(i,i.stylesheets),0<i.count?function(s){var o=setTimeout(function(){if(i.stylesheets&&Eh(i,i.stylesheets),i.unsuspend){var c=i.unsuspend;i.unsuspend=null,c()}},6e4);return i.unsuspend=s,function(){i.unsuspend=null,clearTimeout(o)}}:null}function Ru(){if(this.count--,this.count===0){if(this.stylesheets)Eh(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var ju=null;function Eh(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,ju=new Map,s.forEach(Kk,i),ju=null,Ru.call(i))}function Kk(i,s){if(!(s.state.loading&4)){var o=ju.get(i);if(o)var c=o.get(null);else{o=new Map,ju.set(i,o);for(var p=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<p.length;g++){var S=p[g];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(o.set(S.dataset.precedence,S),c=S)}c&&o.set(null,c)}p=s.instance,S=p.getAttribute("data-precedence"),g=o.get(S)||c,g===c&&o.set(null,p),o.set(S,p),this.count++,c=Ru.bind(this),p.addEventListener("load",c),p.addEventListener("error",c),g?g.parentNode.insertBefore(p,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(p,i.firstChild)),s.state.loading|=4}}var Ra={$$typeof:L,Provider:null,Consumer:null,_currentValue:ne,_currentValue2:ne,_threadCount:0};function Gk(i,s,o,c,p,g,S,k){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Xn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xn(0),this.hiddenUpdates=Xn(null),this.identifierPrefix=c,this.onUncaughtError=p,this.onCaughtError=g,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=k,this.incompleteTransitions=new Map}function Av(i,s,o,c,p,g,S,k,O,B,I,Y){return i=new Gk(i,s,o,S,k,O,B,Y),s=1,g===!0&&(s|=24),g=ln(3,null,null,s),i.current=g,g.stateNode=i,s=id(),s.refCount++,i.pooledCache=s,s.refCount++,g.memoizedState={element:c,isDehydrated:o,cache:s},od(g),i}function Dv(i){return i?(i=Ks,i):Ks}function Rv(i,s,o,c,p,g){p=Dv(p),c.context===null?c.context=p:c.pendingContext=p,c=Xr(s),c.payload={element:o},g=g===void 0?null:g,g!==null&&(c.callback=g),o=Jr(i,c,s),o!==null&&(fn(o,i,s),oa(o,i,s))}function jv(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<s?o:s}}function kh(i,s){jv(i,s),(i=i.alternate)&&jv(i,s)}function Lv(i){if(i.tag===13){var s=Ys(i,67108864);s!==null&&fn(s,i,67108864),kh(i,67108864)}}var Lu=!0;function Fk(i,s,o,c){var p=V.T;V.T=null;var g=F.p;try{F.p=2,Th(i,s,o,c)}finally{F.p=g,V.T=p}}function Xk(i,s,o,c){var p=V.T;V.T=null;var g=F.p;try{F.p=8,Th(i,s,o,c)}finally{F.p=g,V.T=p}}function Th(i,s,o,c){if(Lu){var p=Ch(c);if(p===null)dh(i,s,c,zu,o),Bv(i,c);else if(Qk(p,i,s,o,c))c.stopPropagation();else if(Bv(i,c),s&4&&-1<Jk.indexOf(i)){for(;p!==null;){var g=js(p);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var S=te(g.pendingLanes);if(S!==0){var k=g;for(k.pendingLanes|=2,k.entangledLanes|=2;S;){var O=1<<31-_t(S);k.entanglements[1]|=O,S&=~O}tr(g),(Be&6)===0&&(vu=Nt()+500,Ta(0))}}break;case 13:k=Ys(g,2),k!==null&&fn(k,g,2),xu(),kh(g,2)}if(g=Ch(c),g===null&&dh(i,s,c,zu,o),g===p)break;p=g}p!==null&&c.stopPropagation()}else dh(i,s,c,null,o)}}function Ch(i){return i=Df(i),Mh(i)}var zu=null;function Mh(i){if(zu=null,i=Rs(i),i!==null){var s=a(i);if(s===null)i=null;else{var o=s.tag;if(o===13){if(i=u(s),i!==null)return i;i=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return zu=i,null}function zv(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ts()){case Bi:return 2;case yn:return 8;case nn:case Hi:return 32;case Gn:return 268435456;default:return 32}default:return 32}}var Oh=!1,ui=null,ci=null,fi=null,ja=new Map,La=new Map,di=[],Jk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Bv(i,s){switch(i){case"focusin":case"focusout":ui=null;break;case"dragenter":case"dragleave":ci=null;break;case"mouseover":case"mouseout":fi=null;break;case"pointerover":case"pointerout":ja.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":La.delete(s.pointerId)}}function za(i,s,o,c,p,g){return i===null||i.nativeEvent!==g?(i={blockedOn:s,domEventName:o,eventSystemFlags:c,nativeEvent:g,targetContainers:[p]},s!==null&&(s=js(s),s!==null&&Lv(s)),i):(i.eventSystemFlags|=c,s=i.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),i)}function Qk(i,s,o,c,p){switch(s){case"focusin":return ui=za(ui,i,s,o,c,p),!0;case"dragenter":return ci=za(ci,i,s,o,c,p),!0;case"mouseover":return fi=za(fi,i,s,o,c,p),!0;case"pointerover":var g=p.pointerId;return ja.set(g,za(ja.get(g)||null,i,s,o,c,p)),!0;case"gotpointercapture":return g=p.pointerId,La.set(g,za(La.get(g)||null,i,s,o,c,p)),!0}return!1}function Hv(i){var s=Rs(i.target);if(s!==null){var o=a(s);if(o!==null){if(s=o.tag,s===13){if(s=u(o),s!==null){i.blockedOn=s,As(i.priority,function(){if(o.tag===13){var c=cn();c=Jn(c);var p=Ys(o,c);p!==null&&fn(p,o,c),kh(o,c)}});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Bu(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var o=Ch(i.nativeEvent);if(o===null){o=i.nativeEvent;var c=new o.constructor(o.type,o);Af=c,o.target.dispatchEvent(c),Af=null}else return s=js(o),s!==null&&Lv(s),i.blockedOn=o,!1;s.shift()}return!0}function _v(i,s,o){Bu(i)&&o.delete(s)}function Zk(){Oh=!1,ui!==null&&Bu(ui)&&(ui=null),ci!==null&&Bu(ci)&&(ci=null),fi!==null&&Bu(fi)&&(fi=null),ja.forEach(_v),La.forEach(_v)}function Hu(i,s){i.blockedOn===s&&(i.blockedOn=null,Oh||(Oh=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Zk)))}var _u=null;function Uv(i){_u!==i&&(_u=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){_u===i&&(_u=null);for(var s=0;s<i.length;s+=3){var o=i[s],c=i[s+1],p=i[s+2];if(typeof c!="function"){if(Mh(c||o)===null)continue;break}var g=js(o);g!==null&&(i.splice(s,3),s-=3,Md(g,{pending:!0,data:p,method:o.method,action:c},c,p))}}))}function Ba(i){function s(O){return Hu(O,i)}ui!==null&&Hu(ui,i),ci!==null&&Hu(ci,i),fi!==null&&Hu(fi,i),ja.forEach(s),La.forEach(s);for(var o=0;o<di.length;o++){var c=di[o];c.blockedOn===i&&(c.blockedOn=null)}for(;0<di.length&&(o=di[0],o.blockedOn===null);)Hv(o),o.blockedOn===null&&di.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var p=o[c],g=o[c+1],S=p[Yt]||null;if(typeof g=="function")S||Uv(o);else if(S){var k=null;if(g&&g.hasAttribute("formAction")){if(p=g,S=g[Yt]||null)k=S.formAction;else if(Mh(p)!==null)continue}else k=S.action;typeof k=="function"?o[c+1]=k:(o.splice(c,3),c-=3),Uv(o)}}}function Nh(i){this._internalRoot=i}Uu.prototype.render=Nh.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var o=s.current,c=cn();Rv(o,c,i,s,null,null)},Uu.prototype.unmount=Nh.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;Rv(i.current,2,null,i,null,null),xu(),s[Ds]=null}};function Uu(i){this._internalRoot=i}Uu.prototype.unstable_scheduleHydration=function(i){if(i){var s=Ns();i={blockedOn:null,target:i,priority:s};for(var o=0;o<di.length&&s!==0&&s<di[o].priority;o++);di.splice(o,0,i),o===0&&Hv(i)}};var Vv=e.version;if(Vv!=="19.1.0")throw Error(r(527,Vv,"19.1.0"));F.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=d(s),i=i!==null?h(i):null,i=i===null?null:i.stateNode,i};var Wk={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:V,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vu.isDisabled&&Vu.supportsFiber)try{Fn=Vu.inject(Wk),ct=Vu}catch{}}return _a.createRoot=function(i,s){if(!l(i))throw Error(r(299));var o=!1,c="",p=ny,g=ry,S=iy,k=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(p=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(S=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(k=s.unstable_transitionCallbacks)),s=Av(i,1,!1,null,null,o,c,p,g,S,k,null),i[Ds]=s.current,fh(i),new Nh(s)},_a.hydrateRoot=function(i,s,o){if(!l(i))throw Error(r(299));var c=!1,p="",g=ny,S=ry,k=iy,O=null,B=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(S=o.onCaughtError),o.onRecoverableError!==void 0&&(k=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(O=o.unstable_transitionCallbacks),o.formState!==void 0&&(B=o.formState)),s=Av(i,1,!0,s,o??null,c,p,g,S,k,O,B),s.context=Dv(null),o=s.current,c=cn(),c=Jn(c),p=Xr(c),p.callback=null,Jr(o,p,c),o=c,s.current.lanes=o,$r(s,o),tr(s),i[Ds]=s.current,fh(i),new Uu(s)},_a.version="19.1.0",_a}var Jv;function oT(){if(Jv)return Rh.exports;Jv=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Rh.exports=aT(),Rh.exports}var uT=oT();const cT=tm(uT);var Ua={},Qv;function fT(){if(Qv)return Ua;Qv=1,Object.defineProperty(Ua,"__esModule",{value:!0}),Ua.parse=u,Ua.serialize=h;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,l=Object.prototype.toString,a=(()=>{const v=function(){};return v.prototype=Object.create(null),v})();function u(v,b){const x=new a,E=v.length;if(E<2)return x;const T=(b==null?void 0:b.decode)||m;let C=0;do{const j=v.indexOf("=",C);if(j===-1)break;const L=v.indexOf(";",C),M=L===-1?E:L;if(j>M){C=v.lastIndexOf(";",j-1)+1;continue}const _=f(v,C,j),q=d(v,j,_),Q=v.slice(_,q);if(x[Q]===void 0){let se=f(v,j+1,M),J=d(v,M,se);const ce=T(v.slice(se,J));x[Q]=ce}C=M+1}while(C<E);return x}function f(v,b,x){do{const E=v.charCodeAt(b);if(E!==32&&E!==9)return b}while(++b<x);return x}function d(v,b,x){for(;b>x;){const E=v.charCodeAt(--b);if(E!==32&&E!==9)return b+1}return x}function h(v,b,x){const E=(x==null?void 0:x.encode)||encodeURIComponent;if(!n.test(v))throw new TypeError(`argument name is invalid: ${v}`);const T=E(b);if(!e.test(T))throw new TypeError(`argument val is invalid: ${b}`);let C=v+"="+T;if(!x)return C;if(x.maxAge!==void 0){if(!Number.isInteger(x.maxAge))throw new TypeError(`option maxAge is invalid: ${x.maxAge}`);C+="; Max-Age="+x.maxAge}if(x.domain){if(!t.test(x.domain))throw new TypeError(`option domain is invalid: ${x.domain}`);C+="; Domain="+x.domain}if(x.path){if(!r.test(x.path))throw new TypeError(`option path is invalid: ${x.path}`);C+="; Path="+x.path}if(x.expires){if(!y(x.expires)||!Number.isFinite(x.expires.valueOf()))throw new TypeError(`option expires is invalid: ${x.expires}`);C+="; Expires="+x.expires.toUTCString()}if(x.httpOnly&&(C+="; HttpOnly"),x.secure&&(C+="; Secure"),x.partitioned&&(C+="; Partitioned"),x.priority)switch(typeof x.priority=="string"?x.priority.toLowerCase():void 0){case"low":C+="; Priority=Low";break;case"medium":C+="; Priority=Medium";break;case"high":C+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${x.priority}`)}if(x.sameSite)switch(typeof x.sameSite=="string"?x.sameSite.toLowerCase():x.sameSite){case!0:case"strict":C+="; SameSite=Strict";break;case"lax":C+="; SameSite=Lax";break;case"none":C+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${x.sameSite}`)}return C}function m(v){if(v.indexOf("%")===-1)return v;try{return decodeURIComponent(v)}catch{return v}}function y(v){return l.call(v)==="[object Date]"}return Ua}fT();var Zv="popstate";function dT(n={}){function e(r,l){let{pathname:a,search:u,hash:f}=r.location;return yp("",{pathname:a,search:u,hash:f},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function t(r,l){return typeof l=="string"?l:ao(l)}return pT(e,t,null,n)}function Fe(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function $n(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function hT(){return Math.random().toString(36).substring(2,10)}function Wv(n,e){return{usr:n.state,key:n.key,idx:e}}function yp(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Hl(e):e,state:t,key:e&&e.key||r||hT()}}function ao({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Hl(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function pT(n,e,t,r={}){let{window:l=document.defaultView,v5Compat:a=!1}=r,u=l.history,f="POP",d=null,h=m();h==null&&(h=0,u.replaceState({...u.state,idx:h},""));function m(){return(u.state||{idx:null}).idx}function y(){f="POP";let T=m(),C=T==null?null:T-h;h=T,d&&d({action:f,location:E.location,delta:C})}function v(T,C){f="PUSH";let j=yp(E.location,T,C);h=m()+1;let L=Wv(j,h),M=E.createHref(j);try{u.pushState(L,"",M)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;l.location.assign(M)}a&&d&&d({action:f,location:E.location,delta:1})}function b(T,C){f="REPLACE";let j=yp(E.location,T,C);h=m();let L=Wv(j,h),M=E.createHref(j);u.replaceState(L,"",M),a&&d&&d({action:f,location:E.location,delta:0})}function x(T){let C=l.location.origin!=="null"?l.location.origin:l.location.href,j=typeof T=="string"?T:ao(T);return j=j.replace(/ $/,"%20"),Fe(C,`No window.location.(origin|href) available to create URL for href: ${j}`),new URL(j,C)}let E={get action(){return f},get location(){return n(l,u)},listen(T){if(d)throw new Error("A history only accepts one active listener");return l.addEventListener(Zv,y),d=T,()=>{l.removeEventListener(Zv,y),d=null}},createHref(T){return e(l,T)},createURL:x,encodeLocation(T){let C=x(T);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:v,replace:b,go(T){return u.go(T)}};return E}function K1(n,e,t="/"){return mT(n,e,t,!1)}function mT(n,e,t,r){let l=typeof e=="string"?Hl(e):e,a=Vr(l.pathname||"/",t);if(a==null)return null;let u=G1(n);gT(u);let f=null;for(let d=0;f==null&&d<u.length;++d){let h=MT(a);f=TT(u[d],h,r)}return f}function G1(n,e=[],t=[],r=""){let l=(a,u,f)=>{let d={relativePath:f===void 0?a.path||"":f,caseSensitive:a.caseSensitive===!0,childrenIndex:u,route:a};d.relativePath.startsWith("/")&&(Fe(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length));let h=Hr([r,d.relativePath]),m=t.concat(d);a.children&&a.children.length>0&&(Fe(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),G1(a.children,e,m,h)),!(a.path==null&&!a.index)&&e.push({path:h,score:ET(h,a.index),routesMeta:m})};return n.forEach((a,u)=>{var f;if(a.path===""||!((f=a.path)!=null&&f.includes("?")))l(a,u);else for(let d of F1(a.path))l(a,u,d)}),e}function F1(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,l=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return l?[a,""]:[a];let u=F1(r.join("/")),f=[];return f.push(...u.map(d=>d===""?a:[a,d].join("/"))),l&&f.push(...u),f.map(d=>n.startsWith("/")&&d===""?"/":d)}function gT(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:kT(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var yT=/^:[\w-]+$/,vT=3,bT=2,xT=1,ST=10,wT=-2,eb=n=>n==="*";function ET(n,e){let t=n.split("/"),r=t.length;return t.some(eb)&&(r+=wT),e&&(r+=bT),t.filter(l=>!eb(l)).reduce((l,a)=>l+(yT.test(a)?vT:a===""?xT:ST),r)}function kT(n,e){return n.length===e.length&&n.slice(0,-1).every((r,l)=>r===e[l])?n[n.length-1]-e[e.length-1]:0}function TT(n,e,t=!1){let{routesMeta:r}=n,l={},a="/",u=[];for(let f=0;f<r.length;++f){let d=r[f],h=f===r.length-1,m=a==="/"?e:e.slice(a.length)||"/",y=uc({path:d.relativePath,caseSensitive:d.caseSensitive,end:h},m),v=d.route;if(!y&&h&&t&&!r[r.length-1].route.index&&(y=uc({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},m)),!y)return null;Object.assign(l,y.params),u.push({params:l,pathname:Hr([a,y.pathname]),pathnameBase:DT(Hr([a,y.pathnameBase])),route:v}),y.pathnameBase!=="/"&&(a=Hr([a,y.pathnameBase]))}return u}function uc(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=CT(n.path,n.caseSensitive,n.end),l=e.match(t);if(!l)return null;let a=l[0],u=a.replace(/(.)\/+$/,"$1"),f=l.slice(1);return{params:r.reduce((h,{paramName:m,isOptional:y},v)=>{if(m==="*"){let x=f[v]||"";u=a.slice(0,a.length-x.length).replace(/(.)\/+$/,"$1")}const b=f[v];return y&&!b?h[m]=void 0:h[m]=(b||"").replace(/%2F/g,"/"),h},{}),pathname:a,pathnameBase:u,pattern:n}}function CT(n,e=!1,t=!0){$n(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],l="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,f,d)=>(r.push({paramName:f,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),l+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?l+="\\/*$":n!==""&&n!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,e?void 0:"i"),r]}function MT(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return $n(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Vr(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function OT(n,e="/"){let{pathname:t,search:r="",hash:l=""}=typeof n=="string"?Hl(n):n;return{pathname:t?t.startsWith("/")?t:NT(t,e):e,search:RT(r),hash:jT(l)}}function NT(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(l=>{l===".."?t.length>1&&t.pop():l!=="."&&t.push(l)}),t.length>1?t.join("/"):"/"}function Bh(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function AT(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function rm(n){let e=AT(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function im(n,e,t,r=!1){let l;typeof n=="string"?l=Hl(n):(l={...n},Fe(!l.pathname||!l.pathname.includes("?"),Bh("?","pathname","search",l)),Fe(!l.pathname||!l.pathname.includes("#"),Bh("#","pathname","hash",l)),Fe(!l.search||!l.search.includes("#"),Bh("#","search","hash",l)));let a=n===""||l.pathname==="",u=a?"/":l.pathname,f;if(u==null)f=t;else{let y=e.length-1;if(!r&&u.startsWith("..")){let v=u.split("/");for(;v[0]==="..";)v.shift(),y-=1;l.pathname=v.join("/")}f=y>=0?e[y]:"/"}let d=OT(l,f),h=u&&u!=="/"&&u.endsWith("/"),m=(a||u===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(h||m)&&(d.pathname+="/"),d}var Hr=n=>n.join("/").replace(/\/\/+/g,"/"),DT=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),RT=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,jT=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function LT(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var X1=["POST","PUT","PATCH","DELETE"];new Set(X1);var zT=["GET",...X1];new Set(zT);var _l=D.createContext(null);_l.displayName="DataRouter";var Wc=D.createContext(null);Wc.displayName="DataRouterState";var J1=D.createContext({isTransitioning:!1});J1.displayName="ViewTransition";var BT=D.createContext(new Map);BT.displayName="Fetchers";var HT=D.createContext(null);HT.displayName="Await";var Kn=D.createContext(null);Kn.displayName="Navigation";var wo=D.createContext(null);wo.displayName="Location";var Hn=D.createContext({outlet:null,matches:[],isDataRoute:!1});Hn.displayName="Route";var sm=D.createContext(null);sm.displayName="RouteError";function _T(n,{relative:e}={}){Fe(Ul(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=D.useContext(Kn),{hash:l,pathname:a,search:u}=Eo(n,{relative:e}),f=a;return t!=="/"&&(f=a==="/"?t:Hr([t,a])),r.createHref({pathname:f,search:u,hash:l})}function Ul(){return D.useContext(wo)!=null}function mn(){return Fe(Ul(),"useLocation() may be used only in the context of a <Router> component."),D.useContext(wo).location}var Q1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Z1(n){D.useContext(Kn).static||D.useLayoutEffect(n)}function dr(){let{isDataRoute:n}=D.useContext(Hn);return n?WT():UT()}function UT(){Fe(Ul(),"useNavigate() may be used only in the context of a <Router> component.");let n=D.useContext(_l),{basename:e,navigator:t}=D.useContext(Kn),{matches:r}=D.useContext(Hn),{pathname:l}=mn(),a=JSON.stringify(rm(r)),u=D.useRef(!1);return Z1(()=>{u.current=!0}),D.useCallback((d,h={})=>{if($n(u.current,Q1),!u.current)return;if(typeof d=="number"){t.go(d);return}let m=im(d,JSON.parse(a),l,h.relative==="path");n==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Hr([e,m.pathname])),(h.replace?t.replace:t.push)(m,h.state,h)},[e,t,a,l,n])}var VT=D.createContext(null);function qT(n){let e=D.useContext(Hn).outlet;return e&&D.createElement(VT.Provider,{value:n},e)}function W1(){let{matches:n}=D.useContext(Hn),e=n[n.length-1];return e?e.params:{}}function Eo(n,{relative:e}={}){let{matches:t}=D.useContext(Hn),{pathname:r}=mn(),l=JSON.stringify(rm(t));return D.useMemo(()=>im(n,JSON.parse(l),r,e==="path"),[n,l,r,e])}function PT(n,e){return ex(n,e)}function ex(n,e,t,r){var j;Fe(Ul(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l,static:a}=D.useContext(Kn),{matches:u}=D.useContext(Hn),f=u[u.length-1],d=f?f.params:{},h=f?f.pathname:"/",m=f?f.pathnameBase:"/",y=f&&f.route;{let L=y&&y.path||"";tx(h,!y||L.endsWith("*")||L.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${L}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${L}"> to <Route path="${L==="/"?"*":`${L}/*`}">.`)}let v=mn(),b;if(e){let L=typeof e=="string"?Hl(e):e;Fe(m==="/"||((j=L.pathname)==null?void 0:j.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${L.pathname}" was given in the \`location\` prop.`),b=L}else b=v;let x=b.pathname||"/",E=x;if(m!=="/"){let L=m.replace(/^\//,"").split("/");E="/"+x.replace(/^\//,"").split("/").slice(L.length).join("/")}let T=!a&&t&&t.matches&&t.matches.length>0?t.matches:K1(n,{pathname:E});$n(y||T!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),$n(T==null||T[T.length-1].route.element!==void 0||T[T.length-1].route.Component!==void 0||T[T.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=GT(T&&T.map(L=>Object.assign({},L,{params:Object.assign({},d,L.params),pathname:Hr([m,l.encodeLocation?l.encodeLocation(L.pathname).pathname:L.pathname]),pathnameBase:L.pathnameBase==="/"?m:Hr([m,l.encodeLocation?l.encodeLocation(L.pathnameBase).pathname:L.pathnameBase])})),u,t,r);return e&&C?D.createElement(wo.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},C):C}function IT(){let n=ZT(),e=LT(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=D.createElement(D.Fragment,null,D.createElement("p",null," Hey developer "),D.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",D.createElement("code",{style:a},"ErrorBoundary")," or"," ",D.createElement("code",{style:a},"errorElement")," prop on your route.")),D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},e),t?D.createElement("pre",{style:l},t):null,u)}var $T=D.createElement(IT,null),YT=class extends D.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?D.createElement(Hn.Provider,{value:this.props.routeContext},D.createElement(sm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function KT({routeContext:n,match:e,children:t}){let r=D.useContext(_l);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),D.createElement(Hn.Provider,{value:n},t)}function GT(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let l=n,a=t==null?void 0:t.errors;if(a!=null){let d=l.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);Fe(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),l=l.slice(0,Math.min(l.length,d+1))}let u=!1,f=-1;if(t)for(let d=0;d<l.length;d++){let h=l[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(f=d),h.route.id){let{loaderData:m,errors:y}=t,v=h.route.loader&&!m.hasOwnProperty(h.route.id)&&(!y||y[h.route.id]===void 0);if(h.route.lazy||v){u=!0,f>=0?l=l.slice(0,f+1):l=[l[0]];break}}}return l.reduceRight((d,h,m)=>{let y,v=!1,b=null,x=null;t&&(y=a&&h.route.id?a[h.route.id]:void 0,b=h.route.errorElement||$T,u&&(f<0&&m===0?(tx("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,x=null):f===m&&(v=!0,x=h.route.hydrateFallbackElement||null)));let E=e.concat(l.slice(0,m+1)),T=()=>{let C;return y?C=b:v?C=x:h.route.Component?C=D.createElement(h.route.Component,null):h.route.element?C=h.route.element:C=d,D.createElement(KT,{match:h,routeContext:{outlet:d,matches:E,isDataRoute:t!=null},children:C})};return t&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?D.createElement(YT,{location:t.location,revalidation:t.revalidation,component:b,error:y,children:T(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):T()},null)}function lm(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function FT(n){let e=D.useContext(_l);return Fe(e,lm(n)),e}function XT(n){let e=D.useContext(Wc);return Fe(e,lm(n)),e}function JT(n){let e=D.useContext(Hn);return Fe(e,lm(n)),e}function am(n){let e=JT(n),t=e.matches[e.matches.length-1];return Fe(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function QT(){return am("useRouteId")}function ZT(){var r;let n=D.useContext(sm),e=XT("useRouteError"),t=am("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function WT(){let{router:n}=FT("useNavigate"),e=am("useNavigate"),t=D.useRef(!1);return Z1(()=>{t.current=!0}),D.useCallback(async(l,a={})=>{$n(t.current,Q1),t.current&&(typeof l=="number"?n.navigate(l):await n.navigate(l,{fromRouteId:e,...a}))},[n,e])}var tb={};function tx(n,e,t){!e&&!tb[n]&&(tb[n]=!0,$n(!1,t))}D.memo(eC);function eC({routes:n,future:e,state:t}){return ex(n,void 0,t,e)}function nx({to:n,replace:e,state:t,relative:r}){Fe(Ul(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=D.useContext(Kn);$n(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=D.useContext(Hn),{pathname:u}=mn(),f=dr(),d=im(n,rm(a),u,r==="path"),h=JSON.stringify(d);return D.useEffect(()=>{f(JSON.parse(h),{replace:e,state:t,relative:r})},[f,h,r,e,t]),null}function tC(n){return qT(n.context)}function On(n){Fe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function nC({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:l,static:a=!1}){Fe(!Ul(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),f=D.useMemo(()=>({basename:u,navigator:l,static:a,future:{}}),[u,l,a]);typeof t=="string"&&(t=Hl(t));let{pathname:d="/",search:h="",hash:m="",state:y=null,key:v="default"}=t,b=D.useMemo(()=>{let x=Vr(d,u);return x==null?null:{location:{pathname:x,search:h,hash:m,state:y,key:v},navigationType:r}},[u,d,h,m,y,v,r]);return $n(b!=null,`<Router basename="${u}"> is not able to match the URL "${d}${h}${m}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:D.createElement(Kn.Provider,{value:f},D.createElement(wo.Provider,{children:e,value:b}))}function rC({children:n,location:e}){return PT(vp(n),e)}function vp(n,e=[]){let t=[];return D.Children.forEach(n,(r,l)=>{if(!D.isValidElement(r))return;let a=[...e,l];if(r.type===D.Fragment){t.push.apply(t,vp(r.props.children,a));return}Fe(r.type===On,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Fe(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=vp(r.props.children,a)),t.push(u)}),t}var ec="get",tc="application/x-www-form-urlencoded";function ef(n){return n!=null&&typeof n.tagName=="string"}function iC(n){return ef(n)&&n.tagName.toLowerCase()==="button"}function sC(n){return ef(n)&&n.tagName.toLowerCase()==="form"}function lC(n){return ef(n)&&n.tagName.toLowerCase()==="input"}function aC(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function oC(n,e){return n.button===0&&(!e||e==="_self")&&!aC(n)}var qu=null;function uC(){if(qu===null)try{new FormData(document.createElement("form"),0),qu=!1}catch{qu=!0}return qu}var cC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Hh(n){return n!=null&&!cC.has(n)?($n(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${tc}"`),null):n}function fC(n,e){let t,r,l,a,u;if(sC(n)){let f=n.getAttribute("action");r=f?Vr(f,e):null,t=n.getAttribute("method")||ec,l=Hh(n.getAttribute("enctype"))||tc,a=new FormData(n)}else if(iC(n)||lC(n)&&(n.type==="submit"||n.type==="image")){let f=n.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=n.getAttribute("formaction")||f.getAttribute("action");if(r=d?Vr(d,e):null,t=n.getAttribute("formmethod")||f.getAttribute("method")||ec,l=Hh(n.getAttribute("formenctype"))||Hh(f.getAttribute("enctype"))||tc,a=new FormData(f,n),!uC()){let{name:h,type:m,value:y}=n;if(m==="image"){let v=h?`${h}.`:"";a.append(`${v}x`,"0"),a.append(`${v}y`,"0")}else h&&a.append(h,y)}}else{if(ef(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=ec,r=null,l=tc,u=n}return a&&l==="text/plain"&&(u=a,a=void 0),{action:r,method:t.toLowerCase(),encType:l,formData:a,body:u}}function om(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function dC(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function hC(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function pC(n,e,t){let r=await Promise.all(n.map(async l=>{let a=e.routes[l.route.id];if(a){let u=await dC(a,t);return u.links?u.links():[]}return[]}));return vC(r.flat(1).filter(hC).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function nb(n,e,t,r,l,a){let u=(d,h)=>t[h]?d.route.id!==t[h].route.id:!0,f=(d,h)=>{var m;return t[h].pathname!==d.pathname||((m=t[h].route.path)==null?void 0:m.endsWith("*"))&&t[h].params["*"]!==d.params["*"]};return a==="assets"?e.filter((d,h)=>u(d,h)||f(d,h)):a==="data"?e.filter((d,h)=>{var y;let m=r.routes[d.route.id];if(!m||!m.hasLoader)return!1;if(u(d,h)||f(d,h))return!0;if(d.route.shouldRevalidate){let v=d.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:((y=t[0])==null?void 0:y.params)||{},nextUrl:new URL(n,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function mC(n,e,{includeHydrateFallback:t}={}){return gC(n.map(r=>{let l=e.routes[r.route.id];if(!l)return[];let a=[l.module];return l.clientActionModule&&(a=a.concat(l.clientActionModule)),l.clientLoaderModule&&(a=a.concat(l.clientLoaderModule)),t&&l.hydrateFallbackModule&&(a=a.concat(l.hydrateFallbackModule)),l.imports&&(a=a.concat(l.imports)),a}).flat(1))}function gC(n){return[...new Set(n)]}function yC(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function vC(n,e){let t=new Set;return new Set(e),n.reduce((r,l)=>{let a=JSON.stringify(yC(l));return t.has(a)||(t.add(a),r.push({key:a,link:l})),r},[])}var bC=new Set([100,101,204,205]);function xC(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&Vr(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function rx(){let n=D.useContext(_l);return om(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function SC(){let n=D.useContext(Wc);return om(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var um=D.createContext(void 0);um.displayName="FrameworkContext";function ix(){let n=D.useContext(um);return om(n,"You must render this element inside a <HydratedRouter> element"),n}function wC(n,e){let t=D.useContext(um),[r,l]=D.useState(!1),[a,u]=D.useState(!1),{onFocus:f,onBlur:d,onMouseEnter:h,onMouseLeave:m,onTouchStart:y}=e,v=D.useRef(null);D.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let E=C=>{C.forEach(j=>{u(j.isIntersecting)})},T=new IntersectionObserver(E,{threshold:.5});return v.current&&T.observe(v.current),()=>{T.disconnect()}}},[n]),D.useEffect(()=>{if(r){let E=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(E)}}},[r]);let b=()=>{l(!0)},x=()=>{l(!1),u(!1)};return t?n!=="intent"?[a,v,{}]:[a,v,{onFocus:Va(f,b),onBlur:Va(d,x),onMouseEnter:Va(h,b),onMouseLeave:Va(m,x),onTouchStart:Va(y,b)}]:[!1,v,{}]}function Va(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function EC({page:n,...e}){let{router:t}=rx(),r=D.useMemo(()=>K1(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?D.createElement(TC,{page:n,matches:r,...e}):null}function kC(n){let{manifest:e,routeModules:t}=ix(),[r,l]=D.useState([]);return D.useEffect(()=>{let a=!1;return pC(n,e,t).then(u=>{a||l(u)}),()=>{a=!0}},[n,e,t]),r}function TC({page:n,matches:e,...t}){let r=mn(),{manifest:l,routeModules:a}=ix(),{basename:u}=rx(),{loaderData:f,matches:d}=SC(),h=D.useMemo(()=>nb(n,e,d,l,r,"data"),[n,e,d,l,r]),m=D.useMemo(()=>nb(n,e,d,l,r,"assets"),[n,e,d,l,r]),y=D.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let x=new Set,E=!1;if(e.forEach(C=>{var L;let j=l.routes[C.route.id];!j||!j.hasLoader||(!h.some(M=>M.route.id===C.route.id)&&C.route.id in f&&((L=a[C.route.id])!=null&&L.shouldRevalidate)||j.hasClientLoader?E=!0:x.add(C.route.id))}),x.size===0)return[];let T=xC(n,u);return E&&x.size>0&&T.searchParams.set("_routes",e.filter(C=>x.has(C.route.id)).map(C=>C.route.id).join(",")),[T.pathname+T.search]},[u,f,r,l,h,e,n,a]),v=D.useMemo(()=>mC(m,l),[m,l]),b=kC(m);return D.createElement(D.Fragment,null,y.map(x=>D.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...t})),v.map(x=>D.createElement("link",{key:x,rel:"modulepreload",href:x,...t})),b.map(({key:x,link:E})=>D.createElement("link",{key:x,...E})))}function CC(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var sx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{sx&&(window.__reactRouterVersion="7.5.3")}catch{}function MC({basename:n,children:e,window:t}){let r=D.useRef();r.current==null&&(r.current=dT({window:t,v5Compat:!0}));let l=r.current,[a,u]=D.useState({action:l.action,location:l.location}),f=D.useCallback(d=>{D.startTransition(()=>u(d))},[u]);return D.useLayoutEffect(()=>l.listen(f),[l,f]),D.createElement(nC,{basename:n,children:e,location:a.location,navigationType:a.action,navigator:l})}var lx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Qt=D.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:l,reloadDocument:a,replace:u,state:f,target:d,to:h,preventScrollReset:m,viewTransition:y,...v},b){let{basename:x}=D.useContext(Kn),E=typeof h=="string"&&lx.test(h),T,C=!1;if(typeof h=="string"&&E&&(T=h,sx))try{let J=new URL(window.location.href),ce=h.startsWith("//")?new URL(J.protocol+h):new URL(h),xe=Vr(ce.pathname,x);ce.origin===J.origin&&xe!=null?h=xe+ce.search+ce.hash:C=!0}catch{$n(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let j=_T(h,{relative:l}),[L,M,_]=wC(r,v),q=DC(h,{replace:u,state:f,target:d,preventScrollReset:m,relative:l,viewTransition:y});function Q(J){e&&e(J),J.defaultPrevented||q(J)}let se=D.createElement("a",{...v,..._,href:T||j,onClick:C||a?e:Q,ref:CC(b,M),target:d,"data-discover":!E&&t==="render"?"true":void 0});return L&&!E?D.createElement(D.Fragment,null,se,D.createElement(EC,{page:j})):se});Qt.displayName="Link";var OC=D.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:l=!1,style:a,to:u,viewTransition:f,children:d,...h},m){let y=Eo(u,{relative:h.relative}),v=mn(),b=D.useContext(Wc),{navigator:x,basename:E}=D.useContext(Kn),T=b!=null&&BC(y)&&f===!0,C=x.encodeLocation?x.encodeLocation(y).pathname:y.pathname,j=v.pathname,L=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;t||(j=j.toLowerCase(),L=L?L.toLowerCase():null,C=C.toLowerCase()),L&&E&&(L=Vr(L,E)||L);const M=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let _=j===C||!l&&j.startsWith(C)&&j.charAt(M)==="/",q=L!=null&&(L===C||!l&&L.startsWith(C)&&L.charAt(C.length)==="/"),Q={isActive:_,isPending:q,isTransitioning:T},se=_?e:void 0,J;typeof r=="function"?J=r(Q):J=[r,_?"active":null,q?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let ce=typeof a=="function"?a(Q):a;return D.createElement(Qt,{...h,"aria-current":se,className:J,ref:m,style:ce,to:u,viewTransition:f},typeof d=="function"?d(Q):d)});OC.displayName="NavLink";var NC=D.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:l,state:a,method:u=ec,action:f,onSubmit:d,relative:h,preventScrollReset:m,viewTransition:y,...v},b)=>{let x=LC(),E=zC(f,{relative:h}),T=u.toLowerCase()==="get"?"get":"post",C=typeof f=="string"&&lx.test(f),j=L=>{if(d&&d(L),L.defaultPrevented)return;L.preventDefault();let M=L.nativeEvent.submitter,_=(M==null?void 0:M.getAttribute("formmethod"))||u;x(M||L.currentTarget,{fetcherKey:e,method:_,navigate:t,replace:l,state:a,relative:h,preventScrollReset:m,viewTransition:y})};return D.createElement("form",{ref:b,method:T,action:E,onSubmit:r?d:j,...v,"data-discover":!C&&n==="render"?"true":void 0})});NC.displayName="Form";function AC(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ax(n){let e=D.useContext(_l);return Fe(e,AC(n)),e}function DC(n,{target:e,replace:t,state:r,preventScrollReset:l,relative:a,viewTransition:u}={}){let f=dr(),d=mn(),h=Eo(n,{relative:a});return D.useCallback(m=>{if(oC(m,e)){m.preventDefault();let y=t!==void 0?t:ao(d)===ao(h);f(n,{replace:y,state:r,preventScrollReset:l,relative:a,viewTransition:u})}},[d,f,h,t,r,e,n,l,a,u])}var RC=0,jC=()=>`__${String(++RC)}__`;function LC(){let{router:n}=ax("useSubmit"),{basename:e}=D.useContext(Kn),t=QT();return D.useCallback(async(r,l={})=>{let{action:a,method:u,encType:f,formData:d,body:h}=fC(r,e);if(l.navigate===!1){let m=l.fetcherKey||jC();await n.fetch(m,t,l.action||a,{preventScrollReset:l.preventScrollReset,formData:d,body:h,formMethod:l.method||u,formEncType:l.encType||f,flushSync:l.flushSync})}else await n.navigate(l.action||a,{preventScrollReset:l.preventScrollReset,formData:d,body:h,formMethod:l.method||u,formEncType:l.encType||f,replace:l.replace,state:l.state,fromRouteId:t,flushSync:l.flushSync,viewTransition:l.viewTransition})},[n,e,t])}function zC(n,{relative:e}={}){let{basename:t}=D.useContext(Kn),r=D.useContext(Hn);Fe(r,"useFormAction must be used inside a RouteContext");let[l]=r.matches.slice(-1),a={...Eo(n||".",{relative:e})},u=mn();if(n==null){a.search=u.search;let f=new URLSearchParams(a.search),d=f.getAll("index");if(d.some(m=>m==="")){f.delete("index"),d.filter(y=>y).forEach(y=>f.append("index",y));let m=f.toString();a.search=m?`?${m}`:""}}return(!n||n===".")&&l.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:Hr([t,a.pathname])),ao(a)}function BC(n,e={}){let t=D.useContext(J1);Fe(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=ax("useViewTransitionState"),l=Eo(n,{relative:e.relative});if(!t.isTransitioning)return!1;let a=Vr(t.currentLocation.pathname,r)||t.currentLocation.pathname,u=Vr(t.nextLocation.pathname,r)||t.nextLocation.pathname;return uc(l.pathname,u)!=null||uc(l.pathname,a)!=null}new TextEncoder;[...bC];var HC=Y1();const _C=tm(HC);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UC=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),VC=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),rb=n=>{const e=VC(n);return e.charAt(0).toUpperCase()+e.slice(1)},ox=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim(),qC=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var PC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IC=D.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:l="",children:a,iconNode:u,...f},d)=>D.createElement("svg",{ref:d,...PC,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:ox("lucide",l),...!a&&!qC(f)&&{"aria-hidden":"true"},...f},[...u.map(([h,m])=>D.createElement(h,m)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _e=(n,e)=>{const t=D.forwardRef(({className:r,...l},a)=>D.createElement(IC,{ref:a,iconNode:e,className:ox(`lucide-${UC(rb(n))}`,`lucide-${n}`,r),...l}));return t.displayName=rb(n),t};/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $C=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],YC=_e("arrow-left",$C);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KC=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],GC=_e("arrow-right",KC);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FC=[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]],XC=_e("bold",FC);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JC=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],ux=_e("book-open",JC);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QC=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],ZC=_e("check",QC);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WC=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],eM=_e("circle-check-big",WC);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tM=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],bp=_e("eye-off",tM);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nM=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],xp=_e("eye",nM);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rM=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"m17 12 3-2v8",key:"1hhhft"}]],iM=_e("heading-1",rM);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sM=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M21 18h-4c0-4 4-3 4-6 0-1.5-2-2.5-4-1",key:"9jr5yi"}]],lM=_e("heading-2",sM);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aM=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],cx=_e("image",aM);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oM=[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]],uM=_e("italic",oM);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cM=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],fM=_e("layout-dashboard",cM);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dM=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],hM=_e("link",dM);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pM=[["path",{d:"M10 12h11",key:"6m4ad9"}],["path",{d:"M10 18h11",key:"11hvi2"}],["path",{d:"M10 6h11",key:"c7qv1k"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]],mM=_e("list-ordered",pM);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gM=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],yM=_e("list",gM);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vM=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Cl=_e("loader-circle",vM);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bM=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],xM=_e("log-out",bM);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SM=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],wM=_e("message-circle",SM);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EM=[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]],kM=_e("pen-line",EM);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TM=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],fx=_e("pen",TM);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CM=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],dx=_e("search",CM);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MM=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],OM=_e("send",MM);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NM=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],cm=_e("square-pen",NM);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AM=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],DM=_e("trash-2",AM);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RM=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],jM=_e("trending-up",RM);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LM=[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]],zM=_e("underline",LM);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BM=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],hx=_e("user",BM);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HM=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Sp=_e("x",HM);class $a extends Error{}$a.prototype.name="InvalidTokenError";function _M(n){return decodeURIComponent(atob(n).replace(/(.)/g,(e,t)=>{let r=t.charCodeAt(0).toString(16).toUpperCase();return r.length<2&&(r="0"+r),"%"+r}))}function UM(n){let e=n.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return _M(e)}catch{return atob(e)}}function VM(n,e){if(typeof n!="string")throw new $a("Invalid token specified: must be a string");e||(e={});const t=e.header===!0?0:1,r=n.split(".")[t];if(typeof r!="string")throw new $a(`Invalid token specified: missing part #${t+1}`);let l;try{l=UM(r)}catch(a){throw new $a(`Invalid token specified: invalid base64 for part #${t+1} (${a.message})`)}try{return JSON.parse(l)}catch(a){throw new $a(`Invalid token specified: invalid json for part #${t+1} (${a.message})`)}}const xt=()=>{try{const n=localStorage.getItem("authToken");if(!n)return null;const e=VM(n);return!e||!e.id?(localStorage.removeItem("authToken"),null):{token:n,id:e.id,role:e.role,username:e.username,firstName:e.firstName,lastName:e.lastName}}catch(n){return console.error("Error decoding auth token:",n),localStorage.removeItem("authToken"),null}},qM=()=>{const{role:n}=xt();if(n!=="admin")throw new Error("Access denied: Admin privileges required");return!0},ko="http://localhost:5005",PM=async(n,e)=>{try{const r=await(await fetch(`${ko}/user/login`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:n,password:e})})).json();if(r.data){localStorage.setItem("authToken",r.data);const{role:l}=xt();return{success:!0,user:{email:n,role:l},redirectTo:l==="admin"?"/admin":"/dashboard"}}return{success:!1,message:r.message||"Login failed"}}catch(t){return{success:!1,message:t.message||"An error occurred during login"}}},IM=async n=>{try{const e=await fetch(`${ko}/user/register`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(n)}),t=await e.json();return e.ok?{success:!0,user:t.data||n}:{success:!1,message:t.message||"Registration failed"}}catch(e){return{success:!1,message:e.message||"An error occurred during registration"}}},$M=async()=>{try{const n=await fetch(`${ko}/user/logout`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include"});localStorage.removeItem("authToken");const e=await n.json();if(n.ok)return{success:!0,message:e.message||"Logged out successfully"};throw new Error(e.message||"Logout failed")}catch(n){return localStorage.removeItem("authToken"),{success:!1,message:n.message||"An error occurred during logout"}}},YM=async()=>{try{const{token:n,role:e}=xt();if(e!=="admin")throw new Error("Access denied. Admin privileges required.");const t=await fetch(`${ko}/user/`,{headers:{Authorization:`Bearer ${n}`},credentials:"include"});if(!t.ok){const r=await t.json();throw new Error(r.message||"Failed to fetch users")}return await t.json()}catch(n){throw n.message||{error:"Failed to fetch users"}}},KM=async n=>{try{const{token:e}=xt(),t=await fetch(`${ko}/posts/${n}`,{headers:{Authorization:`Bearer ${e}`},credentials:"include"});if(!t.ok){const r=await t.json();throw new Error(r.message||"Failed to fetch user posts")}return await t.json()}catch(e){throw e.message||{error:"Failed to fetch user posts"}}};function Ai(){const[n,e]=D.useState(!1),[t,r]=D.useState(!1),[l,a]=D.useState(!1),[u,f]=D.useState(!1),d=dr(),h=mn();D.useEffect(()=>{const v=()=>{window.scrollY>10?e(!0):e(!1)},b=()=>{const E=xt();r(!!E),a((E==null?void 0:E.role)==="admin")},x=E=>{u&&!E.target.closest(".dropdown-container")&&f(!1)};return b(),window.addEventListener("scroll",v),document.addEventListener("click",x),()=>{window.removeEventListener("scroll",v),document.removeEventListener("click",x)}},[u]);const m=async()=>{try{const v=await $M();if(!v.success)throw new Error(v.message);r(!1),a(!1),d("/login")}catch(v){console.error("Logout error:",v),r(!1),a(!1),d("/login")}},y=()=>{f(!1),d(l?"/admin":"/dashboard")};return w.jsx("nav",{className:`fixed w-full z-50 transition-all duration-300 ${n?"bg-white/95 dark:bg-gray-900/95 backdrop-blur-md shadow-lg border-b border-gray-200 dark:border-gray-700":"bg-white dark:bg-gray-900 border-b border-transparent"}`,children:w.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:w.jsxs("div",{className:"flex justify-between h-16 items-center",children:[w.jsx("div",{className:"flex-shrink-0 flex items-center",children:w.jsx(Qt,{to:"/",className:"flex items-center",children:w.jsx("span",{className:"text-2xl font-bold bg-gradient-to-r from-fuchsia-600 via-violet-600 to-indigo-600 text-transparent bg-clip-text",children:"Blogify"})})}),w.jsx("div",{className:"flex items-center space-x-2 sm:space-x-4 md:space-x-6",children:t?w.jsxs(w.Fragment,{children:[w.jsxs(Qt,{to:"/create",className:"flex items-center text-gray-800 dark:text-gray-200 hover:text-violet-600 dark:hover:text-violet-400 px-2 sm:px-3 py-2 text-sm sm:text-base font-medium transition-colors duration-300",children:[w.jsx(cm,{className:"h-4 w-4 sm:h-5 sm:w-5 mr-1 sm:mr-2"}),w.jsx("span",{children:"Write"})]}),w.jsxs("div",{className:"relative dropdown-container",children:[w.jsx("button",{onClick:()=>f(!u),className:"flex items-center text-gray-800 dark:text-gray-200 hover:text-violet-600 dark:hover:text-violet-400 px-2 sm:px-3 py-2 text-sm sm:text-base font-medium transition-colors duration-300",children:w.jsx(hx,{className:"h-4 w-4 sm:h-5 sm:w-5"})}),u&&w.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white dark:bg-gray-800 rounded-lg shadow-lg py-2 border border-gray-200 dark:border-gray-700",children:[w.jsxs("button",{onClick:y,className:"w-full flex items-center px-4 py-2 text-gray-800 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700",children:[w.jsx(fM,{className:"h-4 w-4 mr-2"}),l?"Admin Dashboard":"Dashboard"]}),w.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 my-1"}),w.jsxs("button",{onClick:m,className:"w-full text-left px-4 py-2 text-gray-800 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center",children:[w.jsx(xM,{className:"h-4 w-4 mr-2"}),"Logout"]})]})]})]}):w.jsxs(w.Fragment,{children:[h.pathname!=="/explore"&&w.jsx(Qt,{to:"/explore",className:"text-gray-800 dark:text-gray-200 hover:text-violet-600 dark:hover:text-violet-400 px-2 sm:px-3 py-2 text-sm sm:text-base font-medium transition-colors duration-300",children:"Explore"}),w.jsx(Qt,{to:"/login",className:"text-gray-800 dark:text-gray-200 hover:text-violet-600 dark:hover:text-violet-400 px-2 sm:px-3 py-2 text-sm sm:text-base font-medium transition-colors duration-300",children:"Login"}),w.jsx(Qt,{to:"/register",className:"bg-gradient-to-r from-fuchsia-600 via-violet-600 to-indigo-600 hover:from-fuchsia-700 hover:via-violet-700 hover:to-indigo-700 text-white px-3 sm:px-4 py-2 rounded-lg text-sm sm:text-base font-medium transition-all duration-300 transform hover:scale-105 active:scale-95 shadow-md hover:shadow-lg",children:"Register"})]})})]})})})}function GM(){const[n,e]=D.useState({email:"",password:""}),[t,r]=D.useState(!1),[l,a]=D.useState(!1),[u,f]=D.useState(""),d=dr(),h=mn(),m=v=>{e(b=>({...b,[v.target.name]:v.target.value}))},y=async v=>{var b,x;v.preventDefault(),f(""),a(!0);try{const E=await PM(n.email,n.password);if(!E.success)throw new Error(E.message);const T=E.redirectTo||((x=(b=h.state)==null?void 0:b.from)==null?void 0:x.pathname)||"/dashboard";d(T,{replace:!0})}catch(E){f(E.message)}finally{a(!1)}};return w.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex flex-col",children:[w.jsx(Ai,{}),w.jsx("div",{className:"flex-1 flex items-center justify-center px-4 sm:px-6 lg:px-8 py-12",children:w.jsxs("div",{className:"max-w-md w-full",children:[w.jsxs("div",{className:"text-center mb-8",children:[w.jsx("h2",{className:"text-3xl font-extrabold text-gray-900 dark:text-white",children:"Welcome Back"}),w.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-300",children:"Sign in to continue"})]}),u&&w.jsx("div",{className:"mb-4 p-4 bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300 rounded-lg",children:u}),w.jsxs("form",{onSubmit:y,className:"bg-white dark:bg-gray-800 shadow-xl rounded-lg px-8 pt-8 pb-10 mb-4",children:[w.jsxs("div",{className:"mb-4",children:[w.jsx("label",{className:"block text-gray-700 dark:text-gray-300 text-sm font-medium mb-2",children:"Email"}),w.jsx("input",{name:"email",type:"email",value:n.email,onChange:m,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-violet-600 dark:bg-gray-700 dark:text-white",placeholder:"Enter email",required:!0})]}),w.jsxs("div",{className:"mb-6",children:[w.jsx("label",{className:"block text-gray-700 dark:text-gray-300 text-sm font-medium mb-2",children:"Password"}),w.jsxs("div",{className:"relative",children:[w.jsx("input",{name:"password",type:t?"text":"password",value:n.password,onChange:m,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-violet-600 dark:bg-gray-700 dark:text-white",placeholder:"Enter password",required:!0}),w.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-600 dark:text-gray-400",onClick:()=>r(!t),children:t?w.jsx(bp,{className:"h-5 w-5"}):w.jsx(xp,{className:"h-5 w-5"})})]})]}),w.jsx("button",{type:"submit",disabled:l,className:`w-full bg-gradient-to-r from-fuchsia-600 via-violet-600 to-indigo-600 hover:from-fuchsia-700 hover:via-violet-700 hover:to-indigo-700 text-white font-medium py-2.5 rounded-lg transition-all duration-300 transform hover:scale-[1.02] ${l?"opacity-70 cursor-not-allowed":""}`,children:l?w.jsxs("span",{className:"flex items-center justify-center",children:[w.jsx(Cl,{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white"}),"Processing..."]}):"Login"}),w.jsxs("p",{className:"text-center mt-6 text-gray-600 dark:text-gray-300",children:["Don't have an account?"," ",w.jsx(Qt,{to:"/register",className:"text-violet-600 dark:text-violet-400 hover:underline",children:"Register here"})]})]})]})})]})}function FM(){const[n,e]=D.useState({fname:"",lname:"",email:"",password:"",confirmPassword:""}),[t,r]=D.useState(!1),[l,a]=D.useState(!1),[u,f]=D.useState(!1),[d,h]=D.useState(""),m=dr(),y=b=>{e(x=>({...x,[b.target.name]:b.target.value}))},v=async b=>{b.preventDefault(),h(""),f(!0);try{if(n.password!==n.confirmPassword)throw new Error("Passwords do not match");const x=await IM({fname:n.fname,lname:n.lname,email:n.email,password:n.password});if(!x.success)throw new Error(x.message);m("/dashboard")}catch(x){h(x.message)}finally{f(!1)}};return w.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex flex-col",children:[w.jsx(Ai,{}),w.jsx("div",{className:"flex-1 flex items-center justify-center px-4 sm:px-6 lg:px-8 py-12",children:w.jsxs("div",{className:"max-w-md w-full",children:[w.jsxs("div",{className:"text-center mb-8",children:[w.jsx("h2",{className:"text-3xl font-extrabold text-gray-900 dark:text-white",children:"Create Account"}),w.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-300",children:"Start your journey with us"})]}),d&&w.jsx("div",{className:"mb-4 p-4 bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300 rounded-lg",children:d}),w.jsxs("form",{onSubmit:v,className:"bg-white dark:bg-gray-800 shadow-xl rounded-lg px-8 pt-8 pb-10 mb-4",children:[w.jsxs("div",{className:"mb-4",children:[w.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700 dark:text-gray-300",children:"First Name"}),w.jsx("input",{name:"fname",value:n.fname,onChange:y,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-violet-600 dark:bg-gray-700 dark:text-white",placeholder:"Enter first name",required:!0})]}),w.jsxs("div",{className:"mb-4",children:[w.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700 dark:text-gray-300",children:"Last Name"}),w.jsx("input",{name:"lname",value:n.lname,onChange:y,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-violet-600 dark:bg-gray-700 dark:text-white",placeholder:"Enter last name",required:!0})]}),w.jsxs("div",{className:"mb-4",children:[w.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700 dark:text-gray-300",children:"Email"}),w.jsx("input",{name:"email",type:"email",value:n.email,onChange:y,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-violet-600 dark:bg-gray-700 dark:text-white",placeholder:"Enter email",required:!0})]}),w.jsxs("div",{className:"mb-4",children:[w.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700 dark:text-gray-300",children:"Password"}),w.jsxs("div",{className:"relative",children:[w.jsx("input",{name:"password",type:t?"text":"password",value:n.password,onChange:y,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-violet-600 dark:bg-gray-700 dark:text-white",placeholder:"Enter password",required:!0}),w.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-600 dark:text-gray-400",onClick:()=>r(!t),children:t?w.jsx(bp,{className:"h-5 w-5"}):w.jsx(xp,{className:"h-5 w-5"})})]})]}),w.jsxs("div",{className:"mb-6",children:[w.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-700 dark:text-gray-300",children:"Confirm Password"}),w.jsxs("div",{className:"relative",children:[w.jsx("input",{name:"confirmPassword",type:l?"text":"password",value:n.confirmPassword,onChange:y,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-violet-600 dark:bg-gray-700 dark:text-white",placeholder:"Confirm password",required:!0}),w.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-600 dark:text-gray-400",onClick:()=>a(!l),children:l?w.jsx(bp,{className:"h-5 w-5"}):w.jsx(xp,{className:"h-5 w-5"})})]})]}),w.jsx("button",{type:"submit",disabled:u,className:`w-full bg-gradient-to-r from-fuchsia-600 via-violet-600 to-indigo-600 hover:from-fuchsia-700 hover:via-violet-700 hover:to-indigo-700 text-white font-medium py-2.5 rounded-lg transition-all duration-300 transform hover:scale-[1.02] ${u?"opacity-70 cursor-not-allowed":""}`,children:u?w.jsxs("span",{className:"flex items-center justify-center",children:[w.jsx(Cl,{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white"}),"Processing..."]}):"Register"}),w.jsxs("p",{className:"text-center mt-6 text-gray-600 dark:text-gray-300",children:["Already have an account?"," ",w.jsx(Qt,{to:"/login",className:"text-violet-600 dark:text-violet-400 hover:underline",children:"Login here"})]})]})]})})]})}function XM(){const n=mn(),e=r=>n.pathname===r,t=[{name:"All Posts",href:"/dashboard/posts",icon:ux}];return w.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[w.jsx(Ai,{}),w.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[w.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-8",children:"Dashboard"}),w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[w.jsx(_h,{title:"Total Posts",value:"0"}),w.jsx(_h,{title:"Total Views",value:"< 500"}),w.jsx(_h,{title:"Total Followers",value:"0"})]}),w.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[w.jsx("div",{className:"w-full md:w-64 shrink-0",children:w.jsx("nav",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden",children:w.jsx("ul",{children:t.map(r=>w.jsx("li",{children:w.jsx(Qt,{to:r.href,className:`flex items-center justify-between px-4 py-3 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors ${e(r.href)?"bg-gray-100 dark:bg-gray-700 font-medium":"text-gray-700 dark:text-gray-300"}`,children:w.jsxs("div",{className:"flex items-center",children:[w.jsx(r.icon,{className:"h-5 w-5 mr-3 text-gray-500 dark:text-gray-400"}),w.jsx("span",{children:r.name})]})})},r.name))})})}),w.jsx("div",{className:"flex-1 bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:w.jsx(tC,{})})]})]})]})}function _h({title:n,value:e}){return w.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[w.jsx("div",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:e}),w.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:n})]})}const Vl="http://localhost:5005",JM=async n=>{try{const{token:e,username:t}=xt(),r=new FormData;r.append("title",n.title),r.append("description",n.description),r.append("username",t),n.image&&r.append("image",n.image);const l=await fetch(`${Vl}/posts`,{method:"POST",headers:{Authorization:`Bearer ${e}`},credentials:"include",body:r});if(!l.ok)throw await l.json();return{...await l.json(),username:t}}catch(e){throw e.error||{error:"Failed to create post"}}},QM=async()=>{try{const{token:n}=xt(),e=await fetch(`${Vl}/posts`,{headers:{Authorization:`Bearer ${n}`},credentials:"include"});if(!e.ok){const t=await e.json();throw new Error(t.message||"Failed to fetch posts")}return await e.json()}catch(n){throw n.message||{error:"Failed to fetch posts"}}},ZM=async n=>{try{const{token:e}=xt(),t=await fetch(`${Vl}/posts/${n}`,{headers:{Authorization:`Bearer ${e}`},credentials:"include"});if(!t.ok){const r=await t.json();throw new Error(r.message||"Failed to fetch user posts")}return await t.json()}catch(e){throw e.message||{error:"Failed to fetch user posts"}}},px=async n=>{try{const{token:e}=xt(),t=await fetch(`${Vl}/posts/post/${n}`,{headers:e?{Authorization:`Bearer ${e}`}:{},credentials:"include"});if(!t.ok){const r=await t.json();throw new Error(r.message||"Failed to fetch post")}return await t.json()}catch(e){throw e.message||{error:"Failed to fetch post"}}},WM=async n=>{const{token:e}=xt(),t=await fetch(`${Vl}/posts/${n}`,{method:"DELETE",headers:{Authorization:`Bearer ${e}`},credentials:"include"});if(!t.ok){const r=await t.json();throw new Error(r.message||"Failed to delete post")}return!0},e2=async(n,e)=>{const{token:t}=xt(),r=await fetch(`${Vl}/posts/${n}`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},credentials:"include",body:JSON.stringify(e)});if(!r.ok){const l=await r.json();throw new Error(l.error||"Failed to update post")}return await r.json()};function fm({post:n,onMouseEnter:e,onMouseLeave:t,onDelete:r,variant:l="view"}){const[a,u]=D.useState(!1),f=dr(),d=mn(),h=()=>{u(!0),typeof e=="function"&&e(n.id)},m=()=>{u(!1),typeof t=="function"&&t()},y=()=>{d.pathname.includes("/dashboard")||l==="manage"?f(`/post/${n.id}`):f(`/view/${n.id}`)},b=n.image_url||n.image||"https://images.unsplash.com/photo-1499750310107-5fef28a66643?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8YmxvZ3xlbnwwfHwwfHx8MA%3D%3D";function x(T){return T?T.replace(/<[^>]+>/g,""):""}let E="";if(n.description){const T=x(n.description);E=T.length>80?T.substring(0,80)+"...":T}else if(n.excerpt){const T=x(n.excerpt);E=T.length>80?T.substring(0,80)+"...":T}else if(n.content){const T=x(n.content);E=T.length>80?T.substring(0,80)+"...":T}return w.jsxs("div",{className:"group relative bg-white dark:bg-gray-800 rounded-xl overflow-hidden shadow-md transition-all duration-500 h-[280px] flex flex-col cursor-pointer",onMouseEnter:h,onMouseLeave:m,onClick:y,tabIndex:0,role:"button",children:[r&&w.jsx("button",{onClick:T=>{T.stopPropagation(),r()},className:"absolute top-2 right-2 bg-red-500 text-white rounded px-2 py-1 text-xs hover:bg-red-600 z-10",title:"Delete Post",children:"Delete"}),w.jsx("div",{className:"relative overflow-hidden h-40",children:w.jsx("img",{src:b,alt:n.title||"Blog post cover",className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"})}),w.jsxs("div",{className:"p-4 flex-1 flex flex-col",children:[w.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-1 group-hover:text-orange-600 dark:group-hover:text-orange-400 transition-colors duration-300 line-clamp-1",children:n.title}),(n.fname||n.lname)&&w.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-2",children:["By ",n.fname," ",n.lname]}),w.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 line-clamp-2",children:E}),w.jsx("div",{className:"flex items-center justify-end mt-auto",children:w.jsx("span",{className:"flex items-center text-gray-500 dark:text-gray-400 text-xs",children:w.jsx(wM,{className:"h-4 w-4 mr-1"})})})]})]})}function t2(){const[n,e]=D.useState([]),[t,r]=D.useState(!0),[l,a]=D.useState(""),u=dr();return D.useEffect(()=>{(async()=>{var d,h;try{const m=xt();if(!m){u("/login");return}const y=await ZM(m.id);e(Array.isArray(y)?y:[])}catch(m){if(console.error("Error fetching posts:",m),(d=m.message)!=null&&d.includes("not authenticated")||(h=m.message)!=null&&h.includes("Session expired")){u("/login");return}a(m.message||"Failed to fetch posts")}finally{r(!1)}})()},[u]),t?w.jsx("div",{className:"flex items-center justify-center h-64",children:w.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-violet-500"})}):w.jsxs("div",{children:[w.jsxs("div",{className:"flex justify-between items-center mb-6",children:[w.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"My Posts"}),w.jsxs(Qt,{to:"/create",className:"inline-flex items-center px-4 py-2 bg-violet-600 text-white rounded-lg hover:bg-violet-700 transition-colors",children:[w.jsx(cm,{className:"h-5 w-5 mr-2"}),"Create Post"]})]}),l&&w.jsx("div",{className:"mb-4 p-4 bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300 rounded-lg",children:l}),n.length===0?w.jsxs("div",{className:"text-center py-12",children:[w.jsx("div",{className:"text-gray-500 dark:text-gray-400 mb-4",children:"You haven't created any posts yet"}),w.jsx(Qt,{to:"/create",className:"text-violet-600 dark:text-violet-400 hover:underline",children:"Create your first post"})]}):w.jsx("div",{className:"grid gap-6",children:n.map(f=>w.jsx("div",{className:"relative flex flex-col group",children:w.jsx(fm,{post:{...f,image:f.image_url,excerpt:f.description,content:f.description,date:new Date(f.created_at).toLocaleDateString(),comments:f.comments||[],readTime:f.readTime||"",hideAuthor:!0},variant:"manage"})},f.id))})]})}function ib({children:n}){const e=mn();return!localStorage.getItem("authToken")?w.jsx(nx,{to:"/login",state:{from:e},replace:!0}):n}function n2(){const[n,e]=D.useState([]),[t,r]=D.useState(!1),[l,a]=D.useState(""),[u,f]=D.useState(""),[,d]=D.useState(null);D.useEffect(()=>{(async()=>{try{r(!0);const y=await QM();e(y)}catch(y){console.error("Error fetching posts:",y),a(y.message||"Failed to fetch posts")}finally{r(!1)}})()},[]);const h=n.filter(m=>{var y,v,b;return((y=m.title)==null?void 0:y.toLowerCase().includes(u.toLowerCase()))||((v=m.description)==null?void 0:v.toLowerCase().includes(u.toLowerCase()))||((b=m.content)==null?void 0:b.toLowerCase().includes(u.toLowerCase()))});return w.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[w.jsx(Ai,{}),w.jsx("main",{className:"container mx-auto px-4 py-24 sm:px-6 lg:px-8",children:w.jsxs("div",{className:"max-w-7xl mx-auto",children:[w.jsxs("div",{className:"flex flex-col items-center text-center mb-12",children:[w.jsx("h1",{className:"text-4xl md:text-5xl font-bold bg-gradient-to-r from-fuchsia-600 via-violet-600 to-indigo-600 bg-clip-text text-transparent mb-4",children:"Featured Stories"}),w.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300 max-w-2xl mb-8",children:"Explore our collection of thought-provoking articles from talented writers."}),w.jsx("div",{className:"w-full max-w-xl",children:w.jsxs("div",{className:"relative",children:[w.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:w.jsx(dx,{className:"h-5 w-5 text-gray-400"})}),w.jsx("input",{type:"text",value:u,onChange:m=>f(m.target.value),className:"block w-full pl-10 pr-3 py-3 border border-gray-300 dark:border-gray-700 rounded-xl bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-violet-600 focus:border-transparent transition-all duration-300",placeholder:"Search articles..."})]})})]}),l&&w.jsx("div",{className:"p-4 bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300 rounded-lg mb-8",children:l}),t?w.jsx("div",{className:"flex justify-center py-8",children:w.jsx(Cl,{className:"h-8 w-8 animate-spin text-violet-600"})}):h.length>0?w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:h.map(m=>w.jsx(fm,{post:m,onMouseEnter:()=>d(m.id),onMouseLeave:()=>d(null)},m.id))}):w.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"No posts found."})]})})]})}const r2="/assets/hero-evbdeJWy.png";function i2(){const[n,e]=D.useState(!1);return D.useEffect(()=>{e(!0)},[]),w.jsxs("div",{className:"relative min-h-screen flex items-center bg-white dark:bg-gray-900",children:[w.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[w.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-fuchsia-300 dark:bg-fuchsia-900 rounded-full opacity-20 dark:opacity-30 blur-3xl"}),w.jsx("div",{className:"absolute top-1/2 -left-20 w-60 h-60 bg-violet-300 dark:bg-violet-900 rounded-full opacity-20 dark:opacity-30 blur-3xl"}),w.jsx("div",{className:"absolute -bottom-40 right-1/4 w-72 h-72 bg-cyan-300 dark:bg-cyan-900 rounded-full opacity-20 dark:opacity-30 blur-3xl"})]}),w.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 relative z-10 py-16",children:w.jsxs("div",{className:"flex flex-col lg:flex-row items-center gap-12 lg:gap-20",children:[w.jsxs("div",{className:`w-full lg:w-1/2 text-center lg:text-left transition-all duration-1000 ease-out ${n?"translate-y-0 opacity-100":"translate-y-10 opacity-0"}`,children:[w.jsxs("h1",{className:"text-4xl sm:text-5xl md:text-6xl font-extrabold tracking-tight mb-6",children:[w.jsx("span",{className:"block text-gray-900 dark:text-white",children:"Share Your Story"}),w.jsx("span",{className:"block bg-gradient-to-r from-fuchsia-600 via-violet-600 to-indigo-600 text-transparent bg-clip-text",children:"With The World"})]}),w.jsx("p",{className:"text-lg sm:text-xl text-gray-700 dark:text-gray-300 mb-8 max-w-2xl mx-auto lg:mx-0 leading-relaxed",children:"Create, publish, and grow with our modern blogging platform designed for creators of all kinds."}),w.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center lg:justify-start",children:[w.jsxs(Qt,{to:"/register",className:"inline-flex items-center justify-center px-6 py-3.5 border border-transparent text-base font-medium rounded-lg text-white bg-gradient-to-r from-fuchsia-600 via-violet-600 to-indigo-600 hover:from-fuchsia-700 hover:via-violet-700 hover:to-indigo-700 transition-all duration-300 transform hover:scale-[1.03] active:scale-95 shadow-lg hover:shadow-xl",children:["Start Writing",w.jsx(GC,{className:"ml-2 h-5 w-5"})]}),w.jsx(Qt,{to:"/explore",className:"inline-flex items-center justify-center px-6 py-3.5 border-2 border-violet-600 dark:border-violet-500 text-base font-medium rounded-lg text-violet-600 dark:text-violet-400 bg-transparent hover:bg-violet-50/80 dark:hover:bg-gray-800/80 transition-all duration-300",children:"Explore Posts"})]}),w.jsxs("div",{className:"mt-12 grid grid-cols-3 gap-4 max-w-lg mx-auto lg:mx-0",children:[w.jsxs("div",{className:"bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm rounded-xl p-4 shadow-lg border border-gray-100 dark:border-gray-700 transform hover:scale-105 transition-all duration-300",children:[w.jsx("div",{className:"text-2xl font-bold text-violet-600 dark:text-violet-400",children:"10K+"}),w.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300 mt-1",children:"Active Writers"})]}),w.jsxs("div",{className:"bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm rounded-xl p-4 shadow-lg border border-gray-100 dark:border-gray-700 transform hover:scale-105 transition-all duration-300",children:[w.jsx("div",{className:"text-2xl font-bold text-fuchsia-600 dark:text-fuchsia-400",children:"5M+"}),w.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300 mt-1",children:"Monthly Readers"})]}),w.jsxs("div",{className:"bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm rounded-xl p-4 shadow-lg border border-gray-100 dark:border-gray-700 transform hover:scale-105 transition-all duration-300",children:[w.jsx("div",{className:"text-2xl font-bold text-indigo-600 dark:text-indigo-400",children:"100K+"}),w.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300 mt-1",children:"Published Articles"})]})]})]}),w.jsx("div",{className:`w-full lg:w-1/2 transition-all duration-1000 delay-200 ease-out ${n?"translate-y-0 opacity-100":"translate-y-10 opacity-0"}`,children:w.jsxs("div",{className:"relative",children:[w.jsx("div",{className:"bg-gradient-to-br from-violet-100 to-fuchsia-100 dark:from-gray-800 dark:to-gray-700 rounded-2xl shadow-2xl overflow-hidden transform rotate-1 hover:rotate-0 transition-transform duration-500",children:w.jsx("div",{className:"aspect-[4/3] md:aspect-[16/9] w-full bg-white dark:bg-gray-800 p-4",children:w.jsx("div",{className:"w-full h-full rounded-lg bg-gradient-to-br from-violet-50 to-fuchsia-50 dark:from-gray-700 dark:to-gray-600 flex items-center justify-center",children:w.jsx("img",{src:r2,alt:"Blog website",className:"w-full h-full object-cover rounded-lg"})})})}),w.jsx("div",{className:"absolute -left-6 top-1/4 bg-white dark:bg-gray-800 rounded-lg shadow-lg p-4 transform -rotate-6 hover:rotate-0 transition-transform duration-300 border border-gray-100 dark:border-gray-700",children:w.jsxs("div",{className:"flex items-center space-x-3",children:[w.jsx("div",{className:"bg-fuchsia-100 dark:bg-fuchsia-900/30 p-2 rounded-lg",children:w.jsx(kM,{className:"h-6 w-6 text-fuchsia-600 dark:text-fuchsia-400"})}),w.jsxs("div",{children:[w.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:"Easy Publishing"}),w.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Write once, publish everywhere"})]})]})}),w.jsx("div",{className:"absolute -right-6 bottom-1/4 bg-white dark:bg-gray-800 rounded-lg shadow-lg p-4 transform rotate-6 hover:rotate-0 transition-transform duration-300 border border-gray-100 dark:border-gray-700",children:w.jsxs("div",{className:"flex items-center space-x-3",children:[w.jsx("div",{className:"bg-violet-100 dark:bg-violet-900/30 p-2 rounded-lg",children:w.jsx(jM,{className:"h-6 w-6 text-violet-600 dark:text-violet-400"})}),w.jsxs("div",{children:[w.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:"Grow Audience"}),w.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Built-in SEO optimization"})]})]})})]})})]})})]})}function s2(){return w.jsxs("div",{children:[w.jsx(Ai,{}),w.jsx(i2,{})]})}function l2(){const[n,e]=D.useState([]),[t,r]=D.useState(null),[l,a]=D.useState([]),[u,f]=D.useState(!1),[d,h]=D.useState(""),[m,y]=D.useState(""),v=dr(),b=async()=>{f(!0),h("");try{const C=await YM();if(!Array.isArray(C))throw new Error("Invalid response format from server");e(C)}catch(C){console.error("Error fetching users:",C),h(C.message||"Failed to fetch users"),C.message.includes("Access denied")&&v("/")}finally{f(!1)}};D.useEffect(()=>{(async()=>{try{qM(),await b()}catch(j){console.error("Error initializing dashboard:",j),h(j.message),v(j.message.includes("Access denied")?"/":"/login")}})()},[v]),D.useEffect(()=>{(async()=>{if(t){f(!0),h("");try{const j=await KM(t.id);a(Array.isArray(j)?j:[])}catch(j){console.error("Error fetching user posts:",j),h(j.message),a([])}finally{f(!1)}}})()},[t]);const x=n.filter(C=>{var j,L,M;return((j=C.fname)==null?void 0:j.toLowerCase().includes(m.toLowerCase()))||((L=C.lname)==null?void 0:L.toLowerCase().includes(m.toLowerCase()))||((M=C.email)==null?void 0:M.toLowerCase().includes(m.toLowerCase()))}),E=()=>w.jsx("div",{className:"space-y-1 max-h-[600px] overflow-y-auto",children:u?w.jsx("div",{className:"flex justify-center py-4",children:w.jsx(Cl,{className:"h-6 w-6 animate-spin text-violet-600"})}):x.length===0?w.jsx("div",{className:"text-center py-4 text-gray-500 dark:text-gray-400",children:"No users found"}):x.map(C=>w.jsxs("button",{onClick:()=>r(C),className:`w-full flex items-center p-2 rounded-lg transition-colors ${(t==null?void 0:t.id)===C.id?"bg-violet-100 dark:bg-violet-900/30 text-violet-700 dark:text-violet-300":"hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300"}`,children:[w.jsx("div",{className:"flex-shrink-0 h-8 w-8 rounded-full bg-gray-200 dark:bg-gray-600 flex items-center justify-center",children:w.jsx(hx,{className:"h-5 w-5 text-gray-500 dark:text-gray-400"})}),w.jsxs("div",{className:"ml-2 text-left",children:[w.jsx("p",{className:"text-sm font-medium truncate",children:`${C.fname} ${C.lname}`}),w.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:C.email})]})]},C.id))}),T=()=>w.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6",children:t?w.jsxs(w.Fragment,{children:[w.jsx("div",{className:"flex items-center justify-between mb-6",children:w.jsxs("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:["Posts by ",`${t.fname} ${t.lname}`]})}),u?w.jsx("div",{className:"flex justify-center py-8",children:w.jsx(Cl,{className:"h-8 w-8 animate-spin text-violet-600"})}):l.length>0?w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:l.map(C=>w.jsx(fm,{post:{...C,author:{id:t.id,name:`${t.fname} ${t.lname}`,email:t.email}},variant:"manage"},C.id))}):w.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"No posts found for this user."})]}):w.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"Select a user to view their posts."})});return w.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[w.jsx(Ai,{}),w.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:w.jsxs("div",{className:"flex flex-col gap-8",children:[w.jsxs("div",{className:"flex flex-col gap-4",children:[w.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Admin Dashboard"}),w.jsxs("div",{className:"relative max-w-md",children:[w.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:w.jsx(dx,{className:"h-5 w-5 text-gray-400"})}),w.jsx("input",{type:"text",value:m,onChange:C=>y(C.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-violet-600 focus:border-transparent",placeholder:"Search users..."})]})]}),d&&w.jsx("div",{className:"p-4 bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300 rounded-lg",children:d}),w.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[w.jsx("div",{className:"lg:col-span-3",children:w.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-4",children:[w.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3",children:"Users"}),E()]})}),w.jsx("div",{className:"lg:col-span-9",children:T()})]})]})})]})}function Tt(n){this.content=n}Tt.prototype={constructor:Tt,find:function(n){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===n)return e;return-1},get:function(n){var e=this.find(n);return e==-1?void 0:this.content[e+1]},update:function(n,e,t){var r=t&&t!=n?this.remove(t):this,l=r.find(n),a=r.content.slice();return l==-1?a.push(t||n,e):(a[l+1]=e,t&&(a[l]=t)),new Tt(a)},remove:function(n){var e=this.find(n);if(e==-1)return this;var t=this.content.slice();return t.splice(e,2),new Tt(t)},addToStart:function(n,e){return new Tt([n,e].concat(this.remove(n).content))},addToEnd:function(n,e){var t=this.remove(n).content.slice();return t.push(n,e),new Tt(t)},addBefore:function(n,e,t){var r=this.remove(e),l=r.content.slice(),a=r.find(n);return l.splice(a==-1?l.length:a,0,e,t),new Tt(l)},forEach:function(n){for(var e=0;e<this.content.length;e+=2)n(this.content[e],this.content[e+1])},prepend:function(n){return n=Tt.from(n),n.size?new Tt(n.content.concat(this.subtract(n).content)):this},append:function(n){return n=Tt.from(n),n.size?new Tt(this.subtract(n).content.concat(n.content)):this},subtract:function(n){var e=this;n=Tt.from(n);for(var t=0;t<n.content.length;t+=2)e=e.remove(n.content[t]);return e},toObject:function(){var n={};return this.forEach(function(e,t){n[e]=t}),n},get size(){return this.content.length>>1}};Tt.from=function(n){if(n instanceof Tt)return n;var e=[];if(n)for(var t in n)e.push(t,n[t]);return new Tt(e)};function mx(n,e,t){for(let r=0;;r++){if(r==n.childCount||r==e.childCount)return n.childCount==e.childCount?null:t;let l=n.child(r),a=e.child(r);if(l==a){t+=l.nodeSize;continue}if(!l.sameMarkup(a))return t;if(l.isText&&l.text!=a.text){for(let u=0;l.text[u]==a.text[u];u++)t++;return t}if(l.content.size||a.content.size){let u=mx(l.content,a.content,t+1);if(u!=null)return u}t+=l.nodeSize}}function gx(n,e,t,r){for(let l=n.childCount,a=e.childCount;;){if(l==0||a==0)return l==a?null:{a:t,b:r};let u=n.child(--l),f=e.child(--a),d=u.nodeSize;if(u==f){t-=d,r-=d;continue}if(!u.sameMarkup(f))return{a:t,b:r};if(u.isText&&u.text!=f.text){let h=0,m=Math.min(u.text.length,f.text.length);for(;h<m&&u.text[u.text.length-h-1]==f.text[f.text.length-h-1];)h++,t--,r--;return{a:t,b:r}}if(u.content.size||f.content.size){let h=gx(u.content,f.content,t-1,r-1);if(h)return h}t-=d,r-=d}}class G{constructor(e,t){if(this.content=e,this.size=t||0,t==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,t,r,l=0,a){for(let u=0,f=0;f<t;u++){let d=this.content[u],h=f+d.nodeSize;if(h>e&&r(d,l+f,a||null,u)!==!1&&d.content.size){let m=f+1;d.nodesBetween(Math.max(0,e-m),Math.min(d.content.size,t-m),r,l+m)}f=h}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,t,r,l){let a="",u=!0;return this.nodesBetween(e,t,(f,d)=>{let h=f.isText?f.text.slice(Math.max(e,d)-d,t-d):f.isLeaf?l?typeof l=="function"?l(f):l:f.type.spec.leafText?f.type.spec.leafText(f):"":"";f.isBlock&&(f.isLeaf&&h||f.isTextblock)&&r&&(u?u=!1:a+=r),a+=h},0),a}append(e){if(!e.size)return this;if(!this.size)return e;let t=this.lastChild,r=e.firstChild,l=this.content.slice(),a=0;for(t.isText&&t.sameMarkup(r)&&(l[l.length-1]=t.withText(t.text+r.text),a=1);a<e.content.length;a++)l.push(e.content[a]);return new G(l,this.size+e.size)}cut(e,t=this.size){if(e==0&&t==this.size)return this;let r=[],l=0;if(t>e)for(let a=0,u=0;u<t;a++){let f=this.content[a],d=u+f.nodeSize;d>e&&((u<e||d>t)&&(f.isText?f=f.cut(Math.max(0,e-u),Math.min(f.text.length,t-u)):f=f.cut(Math.max(0,e-u-1),Math.min(f.content.size,t-u-1))),r.push(f),l+=f.nodeSize),u=d}return new G(r,l)}cutByIndex(e,t){return e==t?G.empty:e==0&&t==this.content.length?this:new G(this.content.slice(e,t))}replaceChild(e,t){let r=this.content[e];if(r==t)return this;let l=this.content.slice(),a=this.size+t.nodeSize-r.nodeSize;return l[e]=t,new G(l,a)}addToStart(e){return new G([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new G(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let t=0;t<this.content.length;t++)if(!this.content[t].eq(e.content[t]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let t=this.content[e];if(!t)throw new RangeError("Index "+e+" out of range for "+this);return t}maybeChild(e){return this.content[e]||null}forEach(e){for(let t=0,r=0;t<this.content.length;t++){let l=this.content[t];e(l,r,t),r+=l.nodeSize}}findDiffStart(e,t=0){return mx(this,e,t)}findDiffEnd(e,t=this.size,r=e.size){return gx(this,e,t,r)}findIndex(e,t=-1){if(e==0)return Pu(0,e);if(e==this.size)return Pu(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let r=0,l=0;;r++){let a=this.child(r),u=l+a.nodeSize;if(u>=e)return u==e||t>0?Pu(r+1,u):Pu(r,l);l=u}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,t){if(!t)return G.empty;if(!Array.isArray(t))throw new RangeError("Invalid input for Fragment.fromJSON");return new G(t.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return G.empty;let t,r=0;for(let l=0;l<e.length;l++){let a=e[l];r+=a.nodeSize,l&&a.isText&&e[l-1].sameMarkup(a)?(t||(t=e.slice(0,l)),t[t.length-1]=a.withText(t[t.length-1].text+a.text)):t&&t.push(a)}return new G(t||e,r)}static from(e){if(!e)return G.empty;if(e instanceof G)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new G([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}G.empty=new G([],0);const Uh={index:0,offset:0};function Pu(n,e){return Uh.index=n,Uh.offset=e,Uh}function cc(n,e){if(n===e)return!0;if(!(n&&typeof n=="object")||!(e&&typeof e=="object"))return!1;let t=Array.isArray(n);if(Array.isArray(e)!=t)return!1;if(t){if(n.length!=e.length)return!1;for(let r=0;r<n.length;r++)if(!cc(n[r],e[r]))return!1}else{for(let r in n)if(!(r in e)||!cc(n[r],e[r]))return!1;for(let r in e)if(!(r in n))return!1}return!0}let Ie=class wp{constructor(e,t){this.type=e,this.attrs=t}addToSet(e){let t,r=!1;for(let l=0;l<e.length;l++){let a=e[l];if(this.eq(a))return e;if(this.type.excludes(a.type))t||(t=e.slice(0,l));else{if(a.type.excludes(this.type))return e;!r&&a.type.rank>this.type.rank&&(t||(t=e.slice(0,l)),t.push(this),r=!0),t&&t.push(a)}}return t||(t=e.slice()),r||t.push(this),t}removeFromSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return e.slice(0,t).concat(e.slice(t+1));return e}isInSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return!0;return!1}eq(e){return this==e||this.type==e.type&&cc(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[t.type];if(!r)throw new RangeError(`There is no mark type ${t.type} in this schema`);let l=r.create(t.attrs);return r.checkAttrs(l.attrs),l}static sameSet(e,t){if(e==t)return!0;if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(t[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return wp.none;if(e instanceof wp)return[e];let t=e.slice();return t.sort((r,l)=>r.type.rank-l.type.rank),t}};Ie.none=[];class fc extends Error{}class ee{constructor(e,t,r){this.content=e,this.openStart=t,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,t){let r=vx(this.content,e+this.openStart,t);return r&&new ee(r,this.openStart,this.openEnd)}removeBetween(e,t){return new ee(yx(this.content,e+this.openStart,t+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,t){if(!t)return ee.empty;let r=t.openStart||0,l=t.openEnd||0;if(typeof r!="number"||typeof l!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new ee(G.fromJSON(e,t.content),r,l)}static maxOpen(e,t=!0){let r=0,l=0;for(let a=e.firstChild;a&&!a.isLeaf&&(t||!a.type.spec.isolating);a=a.firstChild)r++;for(let a=e.lastChild;a&&!a.isLeaf&&(t||!a.type.spec.isolating);a=a.lastChild)l++;return new ee(e,r,l)}}ee.empty=new ee(G.empty,0,0);function yx(n,e,t){let{index:r,offset:l}=n.findIndex(e),a=n.maybeChild(r),{index:u,offset:f}=n.findIndex(t);if(l==e||a.isText){if(f!=t&&!n.child(u).isText)throw new RangeError("Removing non-flat range");return n.cut(0,e).append(n.cut(t))}if(r!=u)throw new RangeError("Removing non-flat range");return n.replaceChild(r,a.copy(yx(a.content,e-l-1,t-l-1)))}function vx(n,e,t,r){let{index:l,offset:a}=n.findIndex(e),u=n.maybeChild(l);if(a==e||u.isText)return n.cut(0,e).append(t).append(n.cut(e));let f=vx(u.content,e-a-1,t);return f&&n.replaceChild(l,u.copy(f))}function a2(n,e,t){if(t.openStart>n.depth)throw new fc("Inserted content deeper than insertion position");if(n.depth-t.openStart!=e.depth-t.openEnd)throw new fc("Inconsistent open depths");return bx(n,e,t,0)}function bx(n,e,t,r){let l=n.index(r),a=n.node(r);if(l==e.index(r)&&r<n.depth-t.openStart){let u=bx(n,e,t,r+1);return a.copy(a.content.replaceChild(l,u))}else if(t.content.size)if(!t.openStart&&!t.openEnd&&n.depth==r&&e.depth==r){let u=n.parent,f=u.content;return ds(u,f.cut(0,n.parentOffset).append(t.content).append(f.cut(e.parentOffset)))}else{let{start:u,end:f}=o2(t,n);return ds(a,Sx(n,u,f,e,r))}else return ds(a,dc(n,e,r))}function xx(n,e){if(!e.type.compatibleContent(n.type))throw new fc("Cannot join "+e.type.name+" onto "+n.type.name)}function Ep(n,e,t){let r=n.node(t);return xx(r,e.node(t)),r}function fs(n,e){let t=e.length-1;t>=0&&n.isText&&n.sameMarkup(e[t])?e[t]=n.withText(e[t].text+n.text):e.push(n)}function Xa(n,e,t,r){let l=(e||n).node(t),a=0,u=e?e.index(t):l.childCount;n&&(a=n.index(t),n.depth>t?a++:n.textOffset&&(fs(n.nodeAfter,r),a++));for(let f=a;f<u;f++)fs(l.child(f),r);e&&e.depth==t&&e.textOffset&&fs(e.nodeBefore,r)}function ds(n,e){return n.type.checkContent(e),n.copy(e)}function Sx(n,e,t,r,l){let a=n.depth>l&&Ep(n,e,l+1),u=r.depth>l&&Ep(t,r,l+1),f=[];return Xa(null,n,l,f),a&&u&&e.index(l)==t.index(l)?(xx(a,u),fs(ds(a,Sx(n,e,t,r,l+1)),f)):(a&&fs(ds(a,dc(n,e,l+1)),f),Xa(e,t,l,f),u&&fs(ds(u,dc(t,r,l+1)),f)),Xa(r,null,l,f),new G(f)}function dc(n,e,t){let r=[];if(Xa(null,n,t,r),n.depth>t){let l=Ep(n,e,t+1);fs(ds(l,dc(n,e,t+1)),r)}return Xa(e,null,t,r),new G(r)}function o2(n,e){let t=e.depth-n.openStart,l=e.node(t).copy(n.content);for(let a=t-1;a>=0;a--)l=e.node(a).copy(G.from(l));return{start:l.resolveNoCache(n.openStart+t),end:l.resolveNoCache(l.content.size-n.openEnd-t)}}class oo{constructor(e,t,r){this.pos=e,this.path=t,this.parentOffset=r,this.depth=t.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,t=this.index(this.depth);if(t==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],l=e.child(t);return r?e.child(t).cut(r):l}get nodeBefore(){let e=this.index(this.depth),t=this.pos-this.path[this.path.length-1];return t?this.parent.child(e).cut(0,t):e==0?null:this.parent.child(e-1)}posAtIndex(e,t){t=this.resolveDepth(t);let r=this.path[t*3],l=t==0?0:this.path[t*3-1]+1;for(let a=0;a<e;a++)l+=r.child(a).nodeSize;return l}marks(){let e=this.parent,t=this.index();if(e.content.size==0)return Ie.none;if(this.textOffset)return e.child(t).marks;let r=e.maybeChild(t-1),l=e.maybeChild(t);if(!r){let f=r;r=l,l=f}let a=r.marks;for(var u=0;u<a.length;u++)a[u].type.spec.inclusive===!1&&(!l||!a[u].isInSet(l.marks))&&(a=a[u--].removeFromSet(a));return a}marksAcross(e){let t=this.parent.maybeChild(this.index());if(!t||!t.isInline)return null;let r=t.marks,l=e.parent.maybeChild(e.index());for(var a=0;a<r.length;a++)r[a].type.spec.inclusive===!1&&(!l||!r[a].isInSet(l.marks))&&(r=r[a--].removeFromSet(r));return r}sharedDepth(e){for(let t=this.depth;t>0;t--)if(this.start(t)<=e&&this.end(t)>=e)return t;return 0}blockRange(e=this,t){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!t||t(this.node(r))))return new hc(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let t=1;t<=this.depth;t++)e+=(e?"/":"")+this.node(t).type.name+"_"+this.index(t-1);return e+":"+this.parentOffset}static resolve(e,t){if(!(t>=0&&t<=e.content.size))throw new RangeError("Position "+t+" out of range");let r=[],l=0,a=t;for(let u=e;;){let{index:f,offset:d}=u.content.findIndex(a),h=a-d;if(r.push(u,f,l+d),!h||(u=u.child(f),u.isText))break;a=h-1,l+=d+1}return new oo(t,r,a)}static resolveCached(e,t){let r=sb.get(e);if(r)for(let a=0;a<r.elts.length;a++){let u=r.elts[a];if(u.pos==t)return u}else sb.set(e,r=new u2);let l=r.elts[r.i]=oo.resolve(e,t);return r.i=(r.i+1)%c2,l}}class u2{constructor(){this.elts=[],this.i=0}}const c2=12,sb=new WeakMap;class hc{constructor(e,t,r){this.$from=e,this.$to=t,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const f2=Object.create(null);let ki=class kp{constructor(e,t,r,l=Ie.none){this.type=e,this.attrs=t,this.marks=l,this.content=r||G.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,t,r,l=0){this.content.nodesBetween(e,t,r,l,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,t,r,l){return this.content.textBetween(e,t,r,l)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,t,r){return this.type==e&&cc(this.attrs,t||e.defaultAttrs||f2)&&Ie.sameSet(this.marks,r||Ie.none)}copy(e=null){return e==this.content?this:new kp(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new kp(this.type,this.attrs,this.content,e)}cut(e,t=this.content.size){return e==0&&t==this.content.size?this:this.copy(this.content.cut(e,t))}slice(e,t=this.content.size,r=!1){if(e==t)return ee.empty;let l=this.resolve(e),a=this.resolve(t),u=r?0:l.sharedDepth(t),f=l.start(u),h=l.node(u).content.cut(l.pos-f,a.pos-f);return new ee(h,l.depth-u,a.depth-u)}replace(e,t,r){return a2(this.resolve(e),this.resolve(t),r)}nodeAt(e){for(let t=this;;){let{index:r,offset:l}=t.content.findIndex(e);if(t=t.maybeChild(r),!t)return null;if(l==e||t.isText)return t;e-=l+1}}childAfter(e){let{index:t,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(t),index:t,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:t,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(t),index:t,offset:r};let l=this.content.child(t-1);return{node:l,index:t-1,offset:r-l.nodeSize}}resolve(e){return oo.resolveCached(this,e)}resolveNoCache(e){return oo.resolve(this,e)}rangeHasMark(e,t,r){let l=!1;return t>e&&this.nodesBetween(e,t,a=>(r.isInSet(a.marks)&&(l=!0),!l)),l}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),wx(this.marks,e)}contentMatchAt(e){let t=this.type.contentMatch.matchFragment(this.content,0,e);if(!t)throw new Error("Called contentMatchAt on a node with invalid content");return t}canReplace(e,t,r=G.empty,l=0,a=r.childCount){let u=this.contentMatchAt(e).matchFragment(r,l,a),f=u&&u.matchFragment(this.content,t);if(!f||!f.validEnd)return!1;for(let d=l;d<a;d++)if(!this.type.allowsMarks(r.child(d).marks))return!1;return!0}canReplaceWith(e,t,r,l){if(l&&!this.type.allowsMarks(l))return!1;let a=this.contentMatchAt(e).matchType(r),u=a&&a.matchFragment(this.content,t);return u?u.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=Ie.none;for(let t=0;t<this.marks.length;t++){let r=this.marks[t];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!Ie.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(t=>t.type.name)}`);this.content.forEach(t=>t.check())}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(t=>t.toJSON())),e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Node.fromJSON");let r;if(t.marks){if(!Array.isArray(t.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=t.marks.map(e.markFromJSON)}if(t.type=="text"){if(typeof t.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(t.text,r)}let l=G.fromJSON(e,t.content),a=e.nodeType(t.type).create(t.attrs,l,r);return a.type.checkAttrs(a.attrs),a}};ki.prototype.text=void 0;class pc extends ki{constructor(e,t,r,l){if(super(e,t,null,l),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):wx(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,t){return this.text.slice(e,t)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new pc(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new pc(this.type,this.attrs,e,this.marks)}cut(e=0,t=this.text.length){return e==0&&t==this.text.length?this:this.withText(this.text.slice(e,t))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function wx(n,e){for(let t=n.length-1;t>=0;t--)e=n[t].type.name+"("+e+")";return e}class ys{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,t){let r=new d2(e,t);if(r.next==null)return ys.empty;let l=Ex(r);r.next&&r.err("Unexpected trailing text");let a=b2(v2(l));return x2(a,r),a}matchType(e){for(let t=0;t<this.next.length;t++)if(this.next[t].type==e)return this.next[t].next;return null}matchFragment(e,t=0,r=e.childCount){let l=this;for(let a=t;l&&a<r;a++)l=l.matchType(e.child(a).type);return l}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:t}=this.next[e];if(!(t.isText||t.hasRequiredAttrs()))return t}return null}compatible(e){for(let t=0;t<this.next.length;t++)for(let r=0;r<e.next.length;r++)if(this.next[t].type==e.next[r].type)return!0;return!1}fillBefore(e,t=!1,r=0){let l=[this];function a(u,f){let d=u.matchFragment(e,r);if(d&&(!t||d.validEnd))return G.from(f.map(h=>h.createAndFill()));for(let h=0;h<u.next.length;h++){let{type:m,next:y}=u.next[h];if(!(m.isText||m.hasRequiredAttrs())&&l.indexOf(y)==-1){l.push(y);let v=a(y,f.concat(m));if(v)return v}}return null}return a(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let t=this.computeWrapping(e);return this.wrapCache.push(e,t),t}computeWrapping(e){let t=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let l=r.shift(),a=l.match;if(a.matchType(e)){let u=[];for(let f=l;f.type;f=f.via)u.push(f.type);return u.reverse()}for(let u=0;u<a.next.length;u++){let{type:f,next:d}=a.next[u];!f.isLeaf&&!f.hasRequiredAttrs()&&!(f.name in t)&&(!l.type||d.validEnd)&&(r.push({match:f.contentMatch,type:f,via:l}),t[f.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function t(r){e.push(r);for(let l=0;l<r.next.length;l++)e.indexOf(r.next[l].next)==-1&&t(r.next[l].next)}return t(this),e.map((r,l)=>{let a=l+(r.validEnd?"*":" ")+" ";for(let u=0;u<r.next.length;u++)a+=(u?", ":"")+r.next[u].type.name+"->"+e.indexOf(r.next[u].next);return a}).join(`
`)}}ys.empty=new ys(!0);class d2{constructor(e,t){this.string=e,this.nodeTypes=t,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function Ex(n){let e=[];do e.push(h2(n));while(n.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function h2(n){let e=[];do e.push(p2(n));while(n.next&&n.next!=")"&&n.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function p2(n){let e=y2(n);for(;;)if(n.eat("+"))e={type:"plus",expr:e};else if(n.eat("*"))e={type:"star",expr:e};else if(n.eat("?"))e={type:"opt",expr:e};else if(n.eat("{"))e=m2(n,e);else break;return e}function lb(n){/\D/.test(n.next)&&n.err("Expected number, got '"+n.next+"'");let e=Number(n.next);return n.pos++,e}function m2(n,e){let t=lb(n),r=t;return n.eat(",")&&(n.next!="}"?r=lb(n):r=-1),n.eat("}")||n.err("Unclosed braced range"),{type:"range",min:t,max:r,expr:e}}function g2(n,e){let t=n.nodeTypes,r=t[e];if(r)return[r];let l=[];for(let a in t){let u=t[a];u.isInGroup(e)&&l.push(u)}return l.length==0&&n.err("No node type or group '"+e+"' found"),l}function y2(n){if(n.eat("(")){let e=Ex(n);return n.eat(")")||n.err("Missing closing paren"),e}else if(/\W/.test(n.next))n.err("Unexpected token '"+n.next+"'");else{let e=g2(n,n.next).map(t=>(n.inline==null?n.inline=t.isInline:n.inline!=t.isInline&&n.err("Mixing inline and block content"),{type:"name",value:t}));return n.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function v2(n){let e=[[]];return l(a(n,0),t()),e;function t(){return e.push([])-1}function r(u,f,d){let h={term:d,to:f};return e[u].push(h),h}function l(u,f){u.forEach(d=>d.to=f)}function a(u,f){if(u.type=="choice")return u.exprs.reduce((d,h)=>d.concat(a(h,f)),[]);if(u.type=="seq")for(let d=0;;d++){let h=a(u.exprs[d],f);if(d==u.exprs.length-1)return h;l(h,f=t())}else if(u.type=="star"){let d=t();return r(f,d),l(a(u.expr,d),d),[r(d)]}else if(u.type=="plus"){let d=t();return l(a(u.expr,f),d),l(a(u.expr,d),d),[r(d)]}else{if(u.type=="opt")return[r(f)].concat(a(u.expr,f));if(u.type=="range"){let d=f;for(let h=0;h<u.min;h++){let m=t();l(a(u.expr,d),m),d=m}if(u.max==-1)l(a(u.expr,d),d);else for(let h=u.min;h<u.max;h++){let m=t();r(d,m),l(a(u.expr,d),m),d=m}return[r(d)]}else{if(u.type=="name")return[r(f,void 0,u.value)];throw new Error("Unknown expr type")}}}}function kx(n,e){return e-n}function ab(n,e){let t=[];return r(e),t.sort(kx);function r(l){let a=n[l];if(a.length==1&&!a[0].term)return r(a[0].to);t.push(l);for(let u=0;u<a.length;u++){let{term:f,to:d}=a[u];!f&&t.indexOf(d)==-1&&r(d)}}}function b2(n){let e=Object.create(null);return t(ab(n,0));function t(r){let l=[];r.forEach(u=>{n[u].forEach(({term:f,to:d})=>{if(!f)return;let h;for(let m=0;m<l.length;m++)l[m][0]==f&&(h=l[m][1]);ab(n,d).forEach(m=>{h||l.push([f,h=[]]),h.indexOf(m)==-1&&h.push(m)})})});let a=e[r.join(",")]=new ys(r.indexOf(n.length-1)>-1);for(let u=0;u<l.length;u++){let f=l[u][1].sort(kx);a.next.push({type:l[u][0],next:e[f.join(",")]||t(f)})}return a}}function x2(n,e){for(let t=0,r=[n];t<r.length;t++){let l=r[t],a=!l.validEnd,u=[];for(let f=0;f<l.next.length;f++){let{type:d,next:h}=l.next[f];u.push(d.name),a&&!(d.isText||d.hasRequiredAttrs())&&(a=!1),r.indexOf(h)==-1&&r.push(h)}a&&e.err("Only non-generatable nodes ("+u.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function Tx(n){let e=Object.create(null);for(let t in n){let r=n[t];if(!r.hasDefault)return null;e[t]=r.default}return e}function Cx(n,e){let t=Object.create(null);for(let r in n){let l=e&&e[r];if(l===void 0){let a=n[r];if(a.hasDefault)l=a.default;else throw new RangeError("No value supplied for attribute "+r)}t[r]=l}return t}function Mx(n,e,t,r){for(let l in e)if(!(l in n))throw new RangeError(`Unsupported attribute ${l} for ${t} of type ${l}`);for(let l in n){let a=n[l];a.validate&&a.validate(e[l])}}function Ox(n,e){let t=Object.create(null);if(e)for(let r in e)t[r]=new w2(n,r,e[r]);return t}let ob=class Nx{constructor(e,t,r){this.name=e,this.schema=t,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=Ox(e,r.attrs),this.defaultAttrs=Tx(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==ys.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:Cx(this.attrs,e)}create(e=null,t,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new ki(this,this.computeAttrs(e),G.from(t),Ie.setFrom(r))}createChecked(e=null,t,r){return t=G.from(t),this.checkContent(t),new ki(this,this.computeAttrs(e),t,Ie.setFrom(r))}createAndFill(e=null,t,r){if(e=this.computeAttrs(e),t=G.from(t),t.size){let u=this.contentMatch.fillBefore(t);if(!u)return null;t=u.append(t)}let l=this.contentMatch.matchFragment(t),a=l&&l.fillBefore(G.empty,!0);return a?new ki(this,e,t.append(a),Ie.setFrom(r)):null}validContent(e){let t=this.contentMatch.matchFragment(e);if(!t||!t.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){Mx(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let t=0;t<e.length;t++)if(!this.allowsMarkType(e[t].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let t;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?t&&t.push(e[r]):t||(t=e.slice(0,r));return t?t.length?t:Ie.none:e}static compile(e,t){let r=Object.create(null);e.forEach((a,u)=>r[a]=new Nx(a,t,u));let l=t.spec.topNode||"doc";if(!r[l])throw new RangeError("Schema is missing its top node type ('"+l+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let a in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function S2(n,e,t){let r=t.split("|");return l=>{let a=l===null?"null":typeof l;if(r.indexOf(a)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${n}, got ${a}`)}}class w2{constructor(e,t,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?S2(e,t,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class tf{constructor(e,t,r,l){this.name=e,this.rank=t,this.schema=r,this.spec=l,this.attrs=Ox(e,l.attrs),this.excluded=null;let a=Tx(this.attrs);this.instance=a?new Ie(this,a):null}create(e=null){return!e&&this.instance?this.instance:new Ie(this,Cx(this.attrs,e))}static compile(e,t){let r=Object.create(null),l=0;return e.forEach((a,u)=>r[a]=new tf(a,l++,t,u)),r}removeFromSet(e){for(var t=0;t<e.length;t++)e[t].type==this&&(e=e.slice(0,t).concat(e.slice(t+1)),t--);return e}isInSet(e){for(let t=0;t<e.length;t++)if(e[t].type==this)return e[t]}checkAttrs(e){Mx(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class Ax{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let t=this.spec={};for(let l in e)t[l]=e[l];t.nodes=Tt.from(e.nodes),t.marks=Tt.from(e.marks||{}),this.nodes=ob.compile(this.spec.nodes,this),this.marks=tf.compile(this.spec.marks,this);let r=Object.create(null);for(let l in this.nodes){if(l in this.marks)throw new RangeError(l+" can not be both a node and a mark");let a=this.nodes[l],u=a.spec.content||"",f=a.spec.marks;if(a.contentMatch=r[u]||(r[u]=ys.parse(u,this.nodes)),a.inlineContent=a.contentMatch.inlineContent,a.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!a.isInline||!a.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=a}a.markSet=f=="_"?null:f?ub(this,f.split(" ")):f==""||!a.inlineContent?[]:null}for(let l in this.marks){let a=this.marks[l],u=a.spec.excludes;a.excluded=u==null?[a]:u==""?[]:ub(this,u.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,t=null,r,l){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof ob){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(t,r,l)}text(e,t){let r=this.nodes.text;return new pc(r,r.defaultAttrs,e,Ie.setFrom(t))}mark(e,t){return typeof e=="string"&&(e=this.marks[e]),e.create(t)}nodeFromJSON(e){return ki.fromJSON(this,e)}markFromJSON(e){return Ie.fromJSON(this,e)}nodeType(e){let t=this.nodes[e];if(!t)throw new RangeError("Unknown node type: "+e);return t}}function ub(n,e){let t=[];for(let r=0;r<e.length;r++){let l=e[r],a=n.marks[l],u=a;if(a)t.push(a);else for(let f in n.marks){let d=n.marks[f];(l=="_"||d.spec.group&&d.spec.group.split(" ").indexOf(l)>-1)&&t.push(u=d)}if(!u)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return t}function E2(n){return n.tag!=null}function k2(n){return n.style!=null}class Ti{constructor(e,t){this.schema=e,this.rules=t,this.tags=[],this.styles=[];let r=this.matchedStyles=[];t.forEach(l=>{if(E2(l))this.tags.push(l);else if(k2(l)){let a=/[^=]*/.exec(l.style)[0];r.indexOf(a)<0&&r.push(a),this.styles.push(l)}}),this.normalizeLists=!this.tags.some(l=>{if(!/^(ul|ol)\b/.test(l.tag)||!l.node)return!1;let a=e.nodes[l.node];return a.contentMatch.matchType(a)})}parse(e,t={}){let r=new fb(this,t,!1);return r.addAll(e,Ie.none,t.from,t.to),r.finish()}parseSlice(e,t={}){let r=new fb(this,t,!0);return r.addAll(e,Ie.none,t.from,t.to),ee.maxOpen(r.finish())}matchTag(e,t,r){for(let l=r?this.tags.indexOf(r)+1:0;l<this.tags.length;l++){let a=this.tags[l];if(M2(e,a.tag)&&(a.namespace===void 0||e.namespaceURI==a.namespace)&&(!a.context||t.matchesContext(a.context))){if(a.getAttrs){let u=a.getAttrs(e);if(u===!1)continue;a.attrs=u||void 0}return a}}}matchStyle(e,t,r,l){for(let a=l?this.styles.indexOf(l)+1:0;a<this.styles.length;a++){let u=this.styles[a],f=u.style;if(!(f.indexOf(e)!=0||u.context&&!r.matchesContext(u.context)||f.length>e.length&&(f.charCodeAt(e.length)!=61||f.slice(e.length+1)!=t))){if(u.getAttrs){let d=u.getAttrs(t);if(d===!1)continue;u.attrs=d||void 0}return u}}}static schemaRules(e){let t=[];function r(l){let a=l.priority==null?50:l.priority,u=0;for(;u<t.length;u++){let f=t[u];if((f.priority==null?50:f.priority)<a)break}t.splice(u,0,l)}for(let l in e.marks){let a=e.marks[l].spec.parseDOM;a&&a.forEach(u=>{r(u=db(u)),u.mark||u.ignore||u.clearMark||(u.mark=l)})}for(let l in e.nodes){let a=e.nodes[l].spec.parseDOM;a&&a.forEach(u=>{r(u=db(u)),u.node||u.ignore||u.mark||(u.node=l)})}return t}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new Ti(e,Ti.schemaRules(e)))}}const Dx={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},T2={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},Rx={ol:!0,ul:!0},uo=1,Tp=2,nc=4;function cb(n,e,t){return e!=null?(e?uo:0)|(e==="full"?Tp:0):n&&n.whitespace=="pre"?uo|Tp:t&-5}class Iu{constructor(e,t,r,l,a,u){this.type=e,this.attrs=t,this.marks=r,this.solid=l,this.options=u,this.content=[],this.activeMarks=Ie.none,this.match=a||(u&nc?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let t=this.type.contentMatch.fillBefore(G.from(e));if(t)this.match=this.type.contentMatch.matchFragment(t);else{let r=this.type.contentMatch,l;return(l=r.findWrapping(e.type))?(this.match=r,l):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&uo)){let r=this.content[this.content.length-1],l;if(r&&r.isText&&(l=/[ \t\r\n\u000c]+$/.exec(r.text))){let a=r;r.text.length==l[0].length?this.content.pop():this.content[this.content.length-1]=a.withText(a.text.slice(0,a.text.length-l[0].length))}}let t=G.from(this.content);return!e&&this.match&&(t=t.append(this.match.fillBefore(G.empty,!0))),this.type?this.type.create(this.attrs,t,this.marks):t}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!Dx.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class fb{constructor(e,t,r){this.parser=e,this.options=t,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let l=t.topNode,a,u=cb(null,t.preserveWhitespace,0)|(r?nc:0);l?a=new Iu(l.type,l.attrs,Ie.none,!0,t.topMatch||l.type.contentMatch,u):r?a=new Iu(null,null,Ie.none,!0,null,u):a=new Iu(e.schema.topNodeType,null,Ie.none,!0,null,u),this.nodes=[a],this.find=t.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,t){e.nodeType==3?this.addTextNode(e,t):e.nodeType==1&&this.addElement(e,t)}addTextNode(e,t){let r=e.nodeValue,l=this.top,a=l.options&Tp?"full":this.localPreserveWS||(l.options&uo)>0;if(a==="full"||l.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(a)a!=="full"?r=r.replace(/\r?\n|\r/g," "):r=r.replace(/\r\n?/g,`
`);else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let u=l.content[l.content.length-1],f=e.previousSibling;(!u||f&&f.nodeName=="BR"||u.isText&&/[ \t\r\n\u000c]$/.test(u.text))&&(r=r.slice(1))}r&&this.insertNode(this.parser.schema.text(r),t,!/\S/.test(r)),this.findInText(e)}else this.findInside(e)}addElement(e,t,r){let l=this.localPreserveWS,a=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let u=e.nodeName.toLowerCase(),f;Rx.hasOwnProperty(u)&&this.parser.normalizeLists&&C2(e);let d=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(f=this.parser.matchTag(e,this,r));e:if(d?d.ignore:T2.hasOwnProperty(u))this.findInside(e),this.ignoreFallback(e,t);else if(!d||d.skip||d.closeParent){d&&d.closeParent?this.open=Math.max(0,this.open-1):d&&d.skip.nodeType&&(e=d.skip);let h,m=this.needsBlock;if(Dx.hasOwnProperty(u))a.content.length&&a.content[0].isInline&&this.open&&(this.open--,a=this.top),h=!0,a.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,t);break e}let y=d&&d.skip?t:this.readStyles(e,t);y&&this.addAll(e,y),h&&this.sync(a),this.needsBlock=m}else{let h=this.readStyles(e,t);h&&this.addElementByRule(e,d,h,d.consuming===!1?f:void 0)}this.localPreserveWS=l}leafFallback(e,t){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),t)}ignoreFallback(e,t){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),t,!0)}readStyles(e,t){let r=e.style;if(r&&r.length)for(let l=0;l<this.parser.matchedStyles.length;l++){let a=this.parser.matchedStyles[l],u=r.getPropertyValue(a);if(u)for(let f=void 0;;){let d=this.parser.matchStyle(a,u,this,f);if(!d)break;if(d.ignore)return null;if(d.clearMark?t=t.filter(h=>!d.clearMark(h)):t=t.concat(this.parser.schema.marks[d.mark].create(d.attrs)),d.consuming===!1)f=d;else break}}return t}addElementByRule(e,t,r,l){let a,u;if(t.node)if(u=this.parser.schema.nodes[t.node],u.isLeaf)this.insertNode(u.create(t.attrs),r,e.nodeName=="BR")||this.leafFallback(e,r);else{let d=this.enter(u,t.attrs||null,r,t.preserveWhitespace);d&&(a=!0,r=d)}else{let d=this.parser.schema.marks[t.mark];r=r.concat(d.create(t.attrs))}let f=this.top;if(u&&u.isLeaf)this.findInside(e);else if(l)this.addElement(e,r,l);else if(t.getContent)this.findInside(e),t.getContent(e,this.parser.schema).forEach(d=>this.insertNode(d,r,!1));else{let d=e;typeof t.contentElement=="string"?d=e.querySelector(t.contentElement):typeof t.contentElement=="function"?d=t.contentElement(e):t.contentElement&&(d=t.contentElement),this.findAround(e,d,!0),this.addAll(d,r),this.findAround(e,d,!1)}a&&this.sync(f)&&this.open--}addAll(e,t,r,l){let a=r||0;for(let u=r?e.childNodes[r]:e.firstChild,f=l==null?null:e.childNodes[l];u!=f;u=u.nextSibling,++a)this.findAtPoint(e,a),this.addDOM(u,t);this.findAtPoint(e,a)}findPlace(e,t,r){let l,a;for(let u=this.open,f=0;u>=0;u--){let d=this.nodes[u],h=d.findWrapping(e);if(h&&(!l||l.length>h.length+f)&&(l=h,a=d,!h.length))break;if(d.solid){if(r)break;f+=2}}if(!l)return null;this.sync(a);for(let u=0;u<l.length;u++)t=this.enterInner(l[u],null,t,!1);return t}insertNode(e,t,r){if(e.isInline&&this.needsBlock&&!this.top.type){let a=this.textblockFromContext();a&&(t=this.enterInner(a,null,t))}let l=this.findPlace(e,t,r);if(l){this.closeExtra();let a=this.top;a.match&&(a.match=a.match.matchType(e.type));let u=Ie.none;for(let f of l.concat(e.marks))(a.type?a.type.allowsMarkType(f.type):hb(f.type,e.type))&&(u=f.addToSet(u));return a.content.push(e.mark(u)),!0}return!1}enter(e,t,r,l){let a=this.findPlace(e.create(t),r,!1);return a&&(a=this.enterInner(e,t,r,!0,l)),a}enterInner(e,t,r,l=!1,a){this.closeExtra();let u=this.top;u.match=u.match&&u.match.matchType(e);let f=cb(e,a,u.options);u.options&nc&&u.content.length==0&&(f|=nc);let d=Ie.none;return r=r.filter(h=>(u.type?u.type.allowsMarkType(h.type):hb(h.type,e))?(d=h.addToSet(d),!1):!0),this.nodes.push(new Iu(e,t,d,l,null,f)),this.open++,r}closeExtra(e=!1){let t=this.nodes.length-1;if(t>this.open){for(;t>this.open;t--)this.nodes[t-1].content.push(this.nodes[t].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let t=this.open;t>=0;t--){if(this.nodes[t]==e)return this.open=t,!0;this.localPreserveWS&&(this.nodes[t].options|=uo)}return!1}get currentPos(){this.closeExtra();let e=0;for(let t=this.open;t>=0;t--){let r=this.nodes[t].content;for(let l=r.length-1;l>=0;l--)e+=r[l].nodeSize;t&&e++}return e}findAtPoint(e,t){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==t&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].pos==null&&e.nodeType==1&&e.contains(this.find[t].node)&&(this.find[t].pos=this.currentPos)}findAround(e,t,r){if(e!=t&&this.find)for(let l=0;l<this.find.length;l++)this.find[l].pos==null&&e.nodeType==1&&e.contains(this.find[l].node)&&t.compareDocumentPosition(this.find[l].node)&(r?2:4)&&(this.find[l].pos=this.currentPos)}findInText(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].node==e&&(this.find[t].pos=this.currentPos-(e.nodeValue.length-this.find[t].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let t=e.split("/"),r=this.options.context,l=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),a=-(r?r.depth+1:0)+(l?0:1),u=(f,d)=>{for(;f>=0;f--){let h=t[f];if(h==""){if(f==t.length-1||f==0)continue;for(;d>=a;d--)if(u(f-1,d))return!0;return!1}else{let m=d>0||d==0&&l?this.nodes[d].type:r&&d>=a?r.node(d-a).type:null;if(!m||m.name!=h&&!m.isInGroup(h))return!1;d--}}return!0};return u(t.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let t=e.depth;t>=0;t--){let r=e.node(t).contentMatchAt(e.indexAfter(t)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let t in this.parser.schema.nodes){let r=this.parser.schema.nodes[t];if(r.isTextblock&&r.defaultAttrs)return r}}}function C2(n){for(let e=n.firstChild,t=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&Rx.hasOwnProperty(r)&&t?(t.appendChild(e),e=t):r=="li"?t=e:r&&(t=null)}}function M2(n,e){return(n.matches||n.msMatchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector).call(n,e)}function db(n){let e={};for(let t in n)e[t]=n[t];return e}function hb(n,e){let t=e.schema.nodes;for(let r in t){let l=t[r];if(!l.allowsMarkType(n))continue;let a=[],u=f=>{a.push(f);for(let d=0;d<f.edgeCount;d++){let{type:h,next:m}=f.edge(d);if(h==e||a.indexOf(m)<0&&u(m))return!0}};if(u(l.contentMatch))return!0}}class Es{constructor(e,t){this.nodes=e,this.marks=t}serializeFragment(e,t={},r){r||(r=Vh(t).createDocumentFragment());let l=r,a=[];return e.forEach(u=>{if(a.length||u.marks.length){let f=0,d=0;for(;f<a.length&&d<u.marks.length;){let h=u.marks[d];if(!this.marks[h.type.name]){d++;continue}if(!h.eq(a[f][0])||h.type.spec.spanning===!1)break;f++,d++}for(;f<a.length;)l=a.pop()[1];for(;d<u.marks.length;){let h=u.marks[d++],m=this.serializeMark(h,u.isInline,t);m&&(a.push([h,l]),l.appendChild(m.dom),l=m.contentDOM||m.dom)}}l.appendChild(this.serializeNodeInner(u,t))}),r}serializeNodeInner(e,t){let{dom:r,contentDOM:l}=rc(Vh(t),this.nodes[e.type.name](e),null,e.attrs);if(l){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,t,l)}return r}serializeNode(e,t={}){let r=this.serializeNodeInner(e,t);for(let l=e.marks.length-1;l>=0;l--){let a=this.serializeMark(e.marks[l],e.isInline,t);a&&((a.contentDOM||a.dom).appendChild(r),r=a.dom)}return r}serializeMark(e,t,r={}){let l=this.marks[e.type.name];return l&&rc(Vh(r),l(e,t),null,e.attrs)}static renderSpec(e,t,r=null,l){return rc(e,t,r,l)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new Es(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let t=pb(e.nodes);return t.text||(t.text=r=>r.text),t}static marksFromSchema(e){return pb(e.marks)}}function pb(n){let e={};for(let t in n){let r=n[t].spec.toDOM;r&&(e[t]=r)}return e}function Vh(n){return n.document||window.document}const mb=new WeakMap;function O2(n){let e=mb.get(n);return e===void 0&&mb.set(n,e=N2(n)),e}function N2(n){let e=null;function t(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let l=0;l<r.length;l++)t(r[l]);else for(let l in r)t(r[l])}return t(n),e}function rc(n,e,t,r){if(typeof e=="string")return{dom:n.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let l=e[0],a;if(typeof l!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(a=O2(r))&&a.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let u=l.indexOf(" ");u>0&&(t=l.slice(0,u),l=l.slice(u+1));let f,d=t?n.createElementNS(t,l):n.createElement(l),h=e[1],m=1;if(h&&typeof h=="object"&&h.nodeType==null&&!Array.isArray(h)){m=2;for(let y in h)if(h[y]!=null){let v=y.indexOf(" ");v>0?d.setAttributeNS(y.slice(0,v),y.slice(v+1),h[y]):d.setAttribute(y,h[y])}}for(let y=m;y<e.length;y++){let v=e[y];if(v===0){if(y<e.length-1||y>m)throw new RangeError("Content hole must be the only child of its parent node");return{dom:d,contentDOM:d}}else{let{dom:b,contentDOM:x}=rc(n,v,t,r);if(d.appendChild(b),x){if(f)throw new RangeError("Multiple content holes");f=x}}}return{dom:d,contentDOM:f}}const jx=65535,Lx=Math.pow(2,16);function A2(n,e){return n+e*Lx}function gb(n){return n&jx}function D2(n){return(n-(n&jx))/Lx}const zx=1,Bx=2,ic=4,Hx=8;class Cp{constructor(e,t,r){this.pos=e,this.delInfo=t,this.recover=r}get deleted(){return(this.delInfo&Hx)>0}get deletedBefore(){return(this.delInfo&(zx|ic))>0}get deletedAfter(){return(this.delInfo&(Bx|ic))>0}get deletedAcross(){return(this.delInfo&ic)>0}}class dn{constructor(e,t=!1){if(this.ranges=e,this.inverted=t,!e.length&&dn.empty)return dn.empty}recover(e){let t=0,r=gb(e);if(!this.inverted)for(let l=0;l<r;l++)t+=this.ranges[l*3+2]-this.ranges[l*3+1];return this.ranges[r*3]+t+D2(e)}mapResult(e,t=1){return this._map(e,t,!1)}map(e,t=1){return this._map(e,t,!0)}_map(e,t,r){let l=0,a=this.inverted?2:1,u=this.inverted?1:2;for(let f=0;f<this.ranges.length;f+=3){let d=this.ranges[f]-(this.inverted?l:0);if(d>e)break;let h=this.ranges[f+a],m=this.ranges[f+u],y=d+h;if(e<=y){let v=h?e==d?-1:e==y?1:t:t,b=d+l+(v<0?0:m);if(r)return b;let x=e==(t<0?d:y)?null:A2(f/3,e-d),E=e==d?Bx:e==y?zx:ic;return(t<0?e!=d:e!=y)&&(E|=Hx),new Cp(b,E,x)}l+=m-h}return r?e+l:new Cp(e+l,0,null)}touches(e,t){let r=0,l=gb(t),a=this.inverted?2:1,u=this.inverted?1:2;for(let f=0;f<this.ranges.length;f+=3){let d=this.ranges[f]-(this.inverted?r:0);if(d>e)break;let h=this.ranges[f+a],m=d+h;if(e<=m&&f==l*3)return!0;r+=this.ranges[f+u]-h}return!1}forEach(e){let t=this.inverted?2:1,r=this.inverted?1:2;for(let l=0,a=0;l<this.ranges.length;l+=3){let u=this.ranges[l],f=u-(this.inverted?a:0),d=u+(this.inverted?0:a),h=this.ranges[l+t],m=this.ranges[l+r];e(f,f+h,d,d+m),a+=m-h}}invert(){return new dn(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?dn.empty:new dn(e<0?[0,-e,0]:[0,0,e])}}dn.empty=new dn([]);class co{constructor(e,t,r=0,l=e?e.length:0){this.mirror=t,this.from=r,this.to=l,this._maps=e||[],this.ownData=!(e||t)}get maps(){return this._maps}slice(e=0,t=this.maps.length){return new co(this._maps,this.mirror,e,t)}appendMap(e,t){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),t!=null&&this.setMirror(this._maps.length-1,t)}appendMapping(e){for(let t=0,r=this._maps.length;t<e._maps.length;t++){let l=e.getMirror(t);this.appendMap(e._maps[t],l!=null&&l<t?r+l:void 0)}}getMirror(e){if(this.mirror){for(let t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]}}setMirror(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)}appendMappingInverted(e){for(let t=e.maps.length-1,r=this._maps.length+e._maps.length;t>=0;t--){let l=e.getMirror(t);this.appendMap(e._maps[t].invert(),l!=null&&l>t?r-l-1:void 0)}}invert(){let e=new co;return e.appendMappingInverted(this),e}map(e,t=1){if(this.mirror)return this._map(e,t,!0);for(let r=this.from;r<this.to;r++)e=this._maps[r].map(e,t);return e}mapResult(e,t=1){return this._map(e,t,!1)}_map(e,t,r){let l=0;for(let a=this.from;a<this.to;a++){let u=this._maps[a],f=u.mapResult(e,t);if(f.recover!=null){let d=this.getMirror(a);if(d!=null&&d>a&&d<this.to){a=d,e=this._maps[d].recover(f.recover);continue}}l|=f.delInfo,e=f.pos}return r?e:new Cp(e,l,null)}}const qh=Object.create(null);class Bt{getMap(){return dn.empty}merge(e){return null}static fromJSON(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=qh[t.stepType];if(!r)throw new RangeError(`No step type ${t.stepType} defined`);return r.fromJSON(e,t)}static jsonID(e,t){if(e in qh)throw new RangeError("Duplicate use of step JSON ID "+e);return qh[e]=t,t.prototype.jsonID=e,t}}class st{constructor(e,t){this.doc=e,this.failed=t}static ok(e){return new st(e,null)}static fail(e){return new st(null,e)}static fromReplace(e,t,r,l){try{return st.ok(e.replace(t,r,l))}catch(a){if(a instanceof fc)return st.fail(a.message);throw a}}}function dm(n,e,t){let r=[];for(let l=0;l<n.childCount;l++){let a=n.child(l);a.content.size&&(a=a.copy(dm(a.content,e,a))),a.isInline&&(a=e(a,t,l)),r.push(a)}return G.fromArray(r)}class Si extends Bt{constructor(e,t,r){super(),this.from=e,this.to=t,this.mark=r}apply(e){let t=e.slice(this.from,this.to),r=e.resolve(this.from),l=r.node(r.sharedDepth(this.to)),a=new ee(dm(t.content,(u,f)=>!u.isAtom||!f.type.allowsMarkType(this.mark.type)?u:u.mark(this.mark.addToSet(u.marks)),l),t.openStart,t.openEnd);return st.fromReplace(e,this.from,this.to,a)}invert(){return new lr(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deleted&&r.deleted||t.pos>=r.pos?null:new Si(t.pos,r.pos,this.mark)}merge(e){return e instanceof Si&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Si(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Si(t.from,t.to,e.markFromJSON(t.mark))}}Bt.jsonID("addMark",Si);class lr extends Bt{constructor(e,t,r){super(),this.from=e,this.to=t,this.mark=r}apply(e){let t=e.slice(this.from,this.to),r=new ee(dm(t.content,l=>l.mark(this.mark.removeFromSet(l.marks)),e),t.openStart,t.openEnd);return st.fromReplace(e,this.from,this.to,r)}invert(){return new Si(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deleted&&r.deleted||t.pos>=r.pos?null:new lr(t.pos,r.pos,this.mark)}merge(e){return e instanceof lr&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new lr(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new lr(t.from,t.to,e.markFromJSON(t.mark))}}Bt.jsonID("removeMark",lr);class wi extends Bt{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return st.fail("No node at mark step's position");let r=t.type.create(t.attrs,null,this.mark.addToSet(t.marks));return st.fromReplace(e,this.pos,this.pos+1,new ee(G.from(r),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);if(t){let r=this.mark.addToSet(t.marks);if(r.length==t.marks.length){for(let l=0;l<t.marks.length;l++)if(!t.marks[l].isInSet(r))return new wi(this.pos,t.marks[l]);return new wi(this.pos,this.mark)}}return new vs(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new wi(t.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new wi(t.pos,e.markFromJSON(t.mark))}}Bt.jsonID("addNodeMark",wi);class vs extends Bt{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return st.fail("No node at mark step's position");let r=t.type.create(t.attrs,null,this.mark.removeFromSet(t.marks));return st.fromReplace(e,this.pos,this.pos+1,new ee(G.from(r),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);return!t||!this.mark.isInSet(t.marks)?this:new wi(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new vs(t.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new vs(t.pos,e.markFromJSON(t.mark))}}Bt.jsonID("removeNodeMark",vs);class gt extends Bt{constructor(e,t,r,l=!1){super(),this.from=e,this.to=t,this.slice=r,this.structure=l}apply(e){return this.structure&&Mp(e,this.from,this.to)?st.fail("Structure replace would overwrite content"):st.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new dn([this.from,this.to-this.from,this.slice.size])}invert(e){return new gt(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deletedAcross&&r.deletedAcross?null:new gt(t.pos,Math.max(t.pos,r.pos),this.slice,this.structure)}merge(e){if(!(e instanceof gt)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let t=this.slice.size+e.slice.size==0?ee.empty:new ee(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new gt(this.from,this.to+(e.to-e.from),t,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let t=this.slice.size+e.slice.size==0?ee.empty:new ee(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new gt(e.from,this.to,t,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new gt(t.from,t.to,ee.fromJSON(e,t.slice),!!t.structure)}}Bt.jsonID("replace",gt);class yt extends Bt{constructor(e,t,r,l,a,u,f=!1){super(),this.from=e,this.to=t,this.gapFrom=r,this.gapTo=l,this.slice=a,this.insert=u,this.structure=f}apply(e){if(this.structure&&(Mp(e,this.from,this.gapFrom)||Mp(e,this.gapTo,this.to)))return st.fail("Structure gap-replace would overwrite content");let t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return st.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,t.content);return r?st.fromReplace(e,this.from,this.to,r):st.fail("Content does not fit in gap")}getMap(){return new dn([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let t=this.gapTo-this.gapFrom;return new yt(this.from,this.from+this.slice.size+t,this.from+this.insert,this.from+this.insert+t,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),l=this.from==this.gapFrom?t.pos:e.map(this.gapFrom,-1),a=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return t.deletedAcross&&r.deletedAcross||l<t.pos||a>r.pos?null:new yt(t.pos,r.pos,l,a,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number"||typeof t.gapFrom!="number"||typeof t.gapTo!="number"||typeof t.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new yt(t.from,t.to,t.gapFrom,t.gapTo,ee.fromJSON(e,t.slice),t.insert,!!t.structure)}}Bt.jsonID("replaceAround",yt);function Mp(n,e,t){let r=n.resolve(e),l=t-e,a=r.depth;for(;l>0&&a>0&&r.indexAfter(a)==r.node(a).childCount;)a--,l--;if(l>0){let u=r.node(a).maybeChild(r.indexAfter(a));for(;l>0;){if(!u||u.isLeaf)return!0;u=u.firstChild,l--}}return!1}function R2(n,e,t,r){let l=[],a=[],u,f;n.doc.nodesBetween(e,t,(d,h,m)=>{if(!d.isInline)return;let y=d.marks;if(!r.isInSet(y)&&m.type.allowsMarkType(r.type)){let v=Math.max(h,e),b=Math.min(h+d.nodeSize,t),x=r.addToSet(y);for(let E=0;E<y.length;E++)y[E].isInSet(x)||(u&&u.to==v&&u.mark.eq(y[E])?u.to=b:l.push(u=new lr(v,b,y[E])));f&&f.to==v?f.to=b:a.push(f=new Si(v,b,r))}}),l.forEach(d=>n.step(d)),a.forEach(d=>n.step(d))}function j2(n,e,t,r){let l=[],a=0;n.doc.nodesBetween(e,t,(u,f)=>{if(!u.isInline)return;a++;let d=null;if(r instanceof tf){let h=u.marks,m;for(;m=r.isInSet(h);)(d||(d=[])).push(m),h=m.removeFromSet(h)}else r?r.isInSet(u.marks)&&(d=[r]):d=u.marks;if(d&&d.length){let h=Math.min(f+u.nodeSize,t);for(let m=0;m<d.length;m++){let y=d[m],v;for(let b=0;b<l.length;b++){let x=l[b];x.step==a-1&&y.eq(l[b].style)&&(v=x)}v?(v.to=h,v.step=a):l.push({style:y,from:Math.max(f,e),to:h,step:a})}}}),l.forEach(u=>n.step(new lr(u.from,u.to,u.style)))}function hm(n,e,t,r=t.contentMatch,l=!0){let a=n.doc.nodeAt(e),u=[],f=e+1;for(let d=0;d<a.childCount;d++){let h=a.child(d),m=f+h.nodeSize,y=r.matchType(h.type);if(!y)u.push(new gt(f,m,ee.empty));else{r=y;for(let v=0;v<h.marks.length;v++)t.allowsMarkType(h.marks[v].type)||n.step(new lr(f,m,h.marks[v]));if(l&&h.isText&&t.whitespace!="pre"){let v,b=/\r?\n|\r/g,x;for(;v=b.exec(h.text);)x||(x=new ee(G.from(t.schema.text(" ",t.allowedMarks(h.marks))),0,0)),u.push(new gt(f+v.index,f+v.index+v[0].length,x))}}f=m}if(!r.validEnd){let d=r.fillBefore(G.empty,!0);n.replace(f,f,new ee(d,0,0))}for(let d=u.length-1;d>=0;d--)n.step(u[d])}function L2(n,e,t){return(e==0||n.canReplace(e,n.childCount))&&(t==n.childCount||n.canReplace(0,t))}function ql(n){let t=n.parent.content.cutByIndex(n.startIndex,n.endIndex);for(let r=n.depth;;--r){let l=n.$from.node(r),a=n.$from.index(r),u=n.$to.indexAfter(r);if(r<n.depth&&l.canReplace(a,u,t))return r;if(r==0||l.type.spec.isolating||!L2(l,a,u))break}return null}function z2(n,e,t){let{$from:r,$to:l,depth:a}=e,u=r.before(a+1),f=l.after(a+1),d=u,h=f,m=G.empty,y=0;for(let x=a,E=!1;x>t;x--)E||r.index(x)>0?(E=!0,m=G.from(r.node(x).copy(m)),y++):d--;let v=G.empty,b=0;for(let x=a,E=!1;x>t;x--)E||l.after(x+1)<l.end(x)?(E=!0,v=G.from(l.node(x).copy(v)),b++):h++;n.step(new yt(d,h,u,f,new ee(m.append(v),y,b),m.size-y,!0))}function pm(n,e,t=null,r=n){let l=B2(n,e),a=l&&H2(r,e);return a?l.map(yb).concat({type:e,attrs:t}).concat(a.map(yb)):null}function yb(n){return{type:n,attrs:null}}function B2(n,e){let{parent:t,startIndex:r,endIndex:l}=n,a=t.contentMatchAt(r).findWrapping(e);if(!a)return null;let u=a.length?a[0]:e;return t.canReplaceWith(r,l,u)?a:null}function H2(n,e){let{parent:t,startIndex:r,endIndex:l}=n,a=t.child(r),u=e.contentMatch.findWrapping(a.type);if(!u)return null;let d=(u.length?u[u.length-1]:e).contentMatch;for(let h=r;d&&h<l;h++)d=d.matchType(t.child(h).type);return!d||!d.validEnd?null:u}function _2(n,e,t){let r=G.empty;for(let u=t.length-1;u>=0;u--){if(r.size){let f=t[u].type.contentMatch.matchFragment(r);if(!f||!f.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=G.from(t[u].type.create(t[u].attrs,r))}let l=e.start,a=e.end;n.step(new yt(l,a,l,a,new ee(r,0,0),t.length,!0))}function U2(n,e,t,r,l){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let a=n.steps.length;n.doc.nodesBetween(e,t,(u,f)=>{let d=typeof l=="function"?l(u):l;if(u.isTextblock&&!u.hasMarkup(r,d)&&V2(n.doc,n.mapping.slice(a).map(f),r)){let h=null;if(r.schema.linebreakReplacement){let b=r.whitespace=="pre",x=!!r.contentMatch.matchType(r.schema.linebreakReplacement);b&&!x?h=!1:!b&&x&&(h=!0)}h===!1&&Ux(n,u,f,a),hm(n,n.mapping.slice(a).map(f,1),r,void 0,h===null);let m=n.mapping.slice(a),y=m.map(f,1),v=m.map(f+u.nodeSize,1);return n.step(new yt(y,v,y+1,v-1,new ee(G.from(r.create(d,null,u.marks)),0,0),1,!0)),h===!0&&_x(n,u,f,a),!1}})}function _x(n,e,t,r){e.forEach((l,a)=>{if(l.isText){let u,f=/\r?\n|\r/g;for(;u=f.exec(l.text);){let d=n.mapping.slice(r).map(t+1+a+u.index);n.replaceWith(d,d+1,e.type.schema.linebreakReplacement.create())}}})}function Ux(n,e,t,r){e.forEach((l,a)=>{if(l.type==l.type.schema.linebreakReplacement){let u=n.mapping.slice(r).map(t+1+a);n.replaceWith(u,u+1,e.type.schema.text(`
`))}})}function V2(n,e,t){let r=n.resolve(e),l=r.index();return r.parent.canReplaceWith(l,l+1,t)}function q2(n,e,t,r,l){let a=n.doc.nodeAt(e);if(!a)throw new RangeError("No node at given position");t||(t=a.type);let u=t.create(r,null,l||a.marks);if(a.isLeaf)return n.replaceWith(e,e+a.nodeSize,u);if(!t.validContent(a.content))throw new RangeError("Invalid content for node type "+t.name);n.step(new yt(e,e+a.nodeSize,e+1,e+a.nodeSize-1,new ee(G.from(u),0,0),1,!0))}function _r(n,e,t=1,r){let l=n.resolve(e),a=l.depth-t,u=r&&r[r.length-1]||l.parent;if(a<0||l.parent.type.spec.isolating||!l.parent.canReplace(l.index(),l.parent.childCount)||!u.type.validContent(l.parent.content.cutByIndex(l.index(),l.parent.childCount)))return!1;for(let h=l.depth-1,m=t-2;h>a;h--,m--){let y=l.node(h),v=l.index(h);if(y.type.spec.isolating)return!1;let b=y.content.cutByIndex(v,y.childCount),x=r&&r[m+1];x&&(b=b.replaceChild(0,x.type.create(x.attrs)));let E=r&&r[m]||y;if(!y.canReplace(v+1,y.childCount)||!E.type.validContent(b))return!1}let f=l.indexAfter(a),d=r&&r[0];return l.node(a).canReplaceWith(f,f,d?d.type:l.node(a+1).type)}function P2(n,e,t=1,r){let l=n.doc.resolve(e),a=G.empty,u=G.empty;for(let f=l.depth,d=l.depth-t,h=t-1;f>d;f--,h--){a=G.from(l.node(f).copy(a));let m=r&&r[h];u=G.from(m?m.type.create(m.attrs,u):l.node(f).copy(u))}n.step(new gt(e,e,new ee(a.append(u),t,t),!0))}function Di(n,e){let t=n.resolve(e),r=t.index();return Vx(t.nodeBefore,t.nodeAfter)&&t.parent.canReplace(r,r+1)}function I2(n,e){e.content.size||n.type.compatibleContent(e.type);let t=n.contentMatchAt(n.childCount),{linebreakReplacement:r}=n.type.schema;for(let l=0;l<e.childCount;l++){let a=e.child(l),u=a.type==r?n.type.schema.nodes.text:a.type;if(t=t.matchType(u),!t||!n.type.allowsMarks(a.marks))return!1}return t.validEnd}function Vx(n,e){return!!(n&&e&&!n.isLeaf&&I2(n,e))}function nf(n,e,t=-1){let r=n.resolve(e);for(let l=r.depth;;l--){let a,u,f=r.index(l);if(l==r.depth?(a=r.nodeBefore,u=r.nodeAfter):t>0?(a=r.node(l+1),f++,u=r.node(l).maybeChild(f)):(a=r.node(l).maybeChild(f-1),u=r.node(l+1)),a&&!a.isTextblock&&Vx(a,u)&&r.node(l).canReplace(f,f+1))return e;if(l==0)break;e=t<0?r.before(l):r.after(l)}}function $2(n,e,t){let r=null,{linebreakReplacement:l}=n.doc.type.schema,a=n.doc.resolve(e-t),u=a.node().type;if(l&&u.inlineContent){let m=u.whitespace=="pre",y=!!u.contentMatch.matchType(l);m&&!y?r=!1:!m&&y&&(r=!0)}let f=n.steps.length;if(r===!1){let m=n.doc.resolve(e+t);Ux(n,m.node(),m.before(),f)}u.inlineContent&&hm(n,e+t-1,u,a.node().contentMatchAt(a.index()),r==null);let d=n.mapping.slice(f),h=d.map(e-t);if(n.step(new gt(h,d.map(e+t,-1),ee.empty,!0)),r===!0){let m=n.doc.resolve(h);_x(n,m.node(),m.before(),n.steps.length)}return n}function Y2(n,e,t){let r=n.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),t))return e;if(r.parentOffset==0)for(let l=r.depth-1;l>=0;l--){let a=r.index(l);if(r.node(l).canReplaceWith(a,a,t))return r.before(l+1);if(a>0)return null}if(r.parentOffset==r.parent.content.size)for(let l=r.depth-1;l>=0;l--){let a=r.indexAfter(l);if(r.node(l).canReplaceWith(a,a,t))return r.after(l+1);if(a<r.node(l).childCount)return null}return null}function qx(n,e,t){let r=n.resolve(e);if(!t.content.size)return e;let l=t.content;for(let a=0;a<t.openStart;a++)l=l.firstChild.content;for(let a=1;a<=(t.openStart==0&&t.size?2:1);a++)for(let u=r.depth;u>=0;u--){let f=u==r.depth?0:r.pos<=(r.start(u+1)+r.end(u+1))/2?-1:1,d=r.index(u)+(f>0?1:0),h=r.node(u),m=!1;if(a==1)m=h.canReplace(d,d,l);else{let y=h.contentMatchAt(d).findWrapping(l.firstChild.type);m=y&&h.canReplaceWith(d,d,y[0])}if(m)return f==0?r.pos:f<0?r.before(u+1):r.after(u+1)}return null}function rf(n,e,t=e,r=ee.empty){if(e==t&&!r.size)return null;let l=n.resolve(e),a=n.resolve(t);return Px(l,a,r)?new gt(e,t,r):new K2(l,a,r).fit()}function Px(n,e,t){return!t.openStart&&!t.openEnd&&n.start()==e.start()&&n.parent.canReplace(n.index(),e.index(),t.content)}class K2{constructor(e,t,r){this.$from=e,this.$to=t,this.unplaced=r,this.frontier=[],this.placed=G.empty;for(let l=0;l<=e.depth;l++){let a=e.node(l);this.frontier.push({type:a.type,match:a.contentMatchAt(e.indexAfter(l))})}for(let l=e.depth;l>0;l--)this.placed=G.from(e.node(l).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let h=this.findFittable();h?this.placeNodes(h):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),t=this.placed.size-this.depth-this.$from.depth,r=this.$from,l=this.close(e<0?this.$to:r.doc.resolve(e));if(!l)return null;let a=this.placed,u=r.depth,f=l.depth;for(;u&&f&&a.childCount==1;)a=a.firstChild.content,u--,f--;let d=new ee(a,u,f);return e>-1?new yt(r.pos,e,this.$to.pos,this.$to.end(),d,t):d.size||r.pos!=this.$to.pos?new gt(r.pos,l.pos,d):null}findFittable(){let e=this.unplaced.openStart;for(let t=this.unplaced.content,r=0,l=this.unplaced.openEnd;r<e;r++){let a=t.firstChild;if(t.childCount>1&&(l=0),a.type.spec.isolating&&l<=r){e=r;break}t=a.content}for(let t=1;t<=2;t++)for(let r=t==1?e:this.unplaced.openStart;r>=0;r--){let l,a=null;r?(a=Ph(this.unplaced.content,r-1).firstChild,l=a.content):l=this.unplaced.content;let u=l.firstChild;for(let f=this.depth;f>=0;f--){let{type:d,match:h}=this.frontier[f],m,y=null;if(t==1&&(u?h.matchType(u.type)||(y=h.fillBefore(G.from(u),!1)):a&&d.compatibleContent(a.type)))return{sliceDepth:r,frontierDepth:f,parent:a,inject:y};if(t==2&&u&&(m=h.findWrapping(u.type)))return{sliceDepth:r,frontierDepth:f,parent:a,wrap:m};if(a&&h.matchType(a.type))break}}}openMore(){let{content:e,openStart:t,openEnd:r}=this.unplaced,l=Ph(e,t);return!l.childCount||l.firstChild.isLeaf?!1:(this.unplaced=new ee(e,t+1,Math.max(r,l.size+t>=e.size-r?t+1:0)),!0)}dropNode(){let{content:e,openStart:t,openEnd:r}=this.unplaced,l=Ph(e,t);if(l.childCount<=1&&t>0){let a=e.size-t<=t+l.size;this.unplaced=new ee(Ya(e,t-1,1),t-1,a?t-1:r)}else this.unplaced=new ee(Ya(e,t,1),t,r)}placeNodes({sliceDepth:e,frontierDepth:t,parent:r,inject:l,wrap:a}){for(;this.depth>t;)this.closeFrontierNode();if(a)for(let E=0;E<a.length;E++)this.openFrontierNode(a[E]);let u=this.unplaced,f=r?r.content:u.content,d=u.openStart-e,h=0,m=[],{match:y,type:v}=this.frontier[t];if(l){for(let E=0;E<l.childCount;E++)m.push(l.child(E));y=y.matchFragment(l)}let b=f.size+e-(u.content.size-u.openEnd);for(;h<f.childCount;){let E=f.child(h),T=y.matchType(E.type);if(!T)break;h++,(h>1||d==0||E.content.size)&&(y=T,m.push(Ix(E.mark(v.allowedMarks(E.marks)),h==1?d:0,h==f.childCount?b:-1)))}let x=h==f.childCount;x||(b=-1),this.placed=Ka(this.placed,t,G.from(m)),this.frontier[t].match=y,x&&b<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let E=0,T=f;E<b;E++){let C=T.lastChild;this.frontier.push({type:C.type,match:C.contentMatchAt(C.childCount)}),T=C.content}this.unplaced=x?e==0?ee.empty:new ee(Ya(u.content,e-1,1),e-1,b<0?u.openEnd:e-1):new ee(Ya(u.content,e,h),u.openStart,u.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],t;if(!e.type.isTextblock||!Ih(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(t=this.findCloseLevel(this.$to))&&t.depth==this.depth)return-1;let{depth:r}=this.$to,l=this.$to.after(r);for(;r>1&&l==this.$to.end(--r);)++l;return l}findCloseLevel(e){e:for(let t=Math.min(this.depth,e.depth);t>=0;t--){let{match:r,type:l}=this.frontier[t],a=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),u=Ih(e,t,l,r,a);if(u){for(let f=t-1;f>=0;f--){let{match:d,type:h}=this.frontier[f],m=Ih(e,f,h,d,!0);if(!m||m.childCount)continue e}return{depth:t,fit:u,move:a?e.doc.resolve(e.after(t+1)):e}}}}close(e){let t=this.findCloseLevel(e);if(!t)return null;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=Ka(this.placed,t.depth,t.fit)),e=t.move;for(let r=t.depth+1;r<=e.depth;r++){let l=e.node(r),a=l.type.contentMatch.fillBefore(l.content,!0,e.index(r));this.openFrontierNode(l.type,l.attrs,a)}return e}openFrontierNode(e,t=null,r){let l=this.frontier[this.depth];l.match=l.match.matchType(e),this.placed=Ka(this.placed,this.depth,G.from(e.create(t,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let t=this.frontier.pop().match.fillBefore(G.empty,!0);t.childCount&&(this.placed=Ka(this.placed,this.frontier.length,t))}}function Ya(n,e,t){return e==0?n.cutByIndex(t,n.childCount):n.replaceChild(0,n.firstChild.copy(Ya(n.firstChild.content,e-1,t)))}function Ka(n,e,t){return e==0?n.append(t):n.replaceChild(n.childCount-1,n.lastChild.copy(Ka(n.lastChild.content,e-1,t)))}function Ph(n,e){for(let t=0;t<e;t++)n=n.firstChild.content;return n}function Ix(n,e,t){if(e<=0)return n;let r=n.content;return e>1&&(r=r.replaceChild(0,Ix(r.firstChild,e-1,r.childCount==1?t-1:0))),e>0&&(r=n.type.contentMatch.fillBefore(r).append(r),t<=0&&(r=r.append(n.type.contentMatch.matchFragment(r).fillBefore(G.empty,!0)))),n.copy(r)}function Ih(n,e,t,r,l){let a=n.node(e),u=l?n.indexAfter(e):n.index(e);if(u==a.childCount&&!t.compatibleContent(a.type))return null;let f=r.fillBefore(a.content,!0,u);return f&&!G2(t,a.content,u)?f:null}function G2(n,e,t){for(let r=t;r<e.childCount;r++)if(!n.allowsMarks(e.child(r).marks))return!0;return!1}function F2(n){return n.spec.defining||n.spec.definingForContent}function X2(n,e,t,r){if(!r.size)return n.deleteRange(e,t);let l=n.doc.resolve(e),a=n.doc.resolve(t);if(Px(l,a,r))return n.step(new gt(e,t,r));let u=Yx(l,n.doc.resolve(t));u[u.length-1]==0&&u.pop();let f=-(l.depth+1);u.unshift(f);for(let v=l.depth,b=l.pos-1;v>0;v--,b--){let x=l.node(v).type.spec;if(x.defining||x.definingAsContext||x.isolating)break;u.indexOf(v)>-1?f=v:l.before(v)==b&&u.splice(1,0,-v)}let d=u.indexOf(f),h=[],m=r.openStart;for(let v=r.content,b=0;;b++){let x=v.firstChild;if(h.push(x),b==r.openStart)break;v=x.content}for(let v=m-1;v>=0;v--){let b=h[v],x=F2(b.type);if(x&&!b.sameMarkup(l.node(Math.abs(f)-1)))m=v;else if(x||!b.type.isTextblock)break}for(let v=r.openStart;v>=0;v--){let b=(v+m+1)%(r.openStart+1),x=h[b];if(x)for(let E=0;E<u.length;E++){let T=u[(E+d)%u.length],C=!0;T<0&&(C=!1,T=-T);let j=l.node(T-1),L=l.index(T-1);if(j.canReplaceWith(L,L,x.type,x.marks))return n.replace(l.before(T),C?a.after(T):t,new ee($x(r.content,0,r.openStart,b),b,r.openEnd))}}let y=n.steps.length;for(let v=u.length-1;v>=0&&(n.replace(e,t,r),!(n.steps.length>y));v--){let b=u[v];b<0||(e=l.before(b),t=a.after(b))}}function $x(n,e,t,r,l){if(e<t){let a=n.firstChild;n=n.replaceChild(0,a.copy($x(a.content,e+1,t,r,a)))}if(e>r){let a=l.contentMatchAt(0),u=a.fillBefore(n).append(n);n=u.append(a.matchFragment(u).fillBefore(G.empty,!0))}return n}function J2(n,e,t,r){if(!r.isInline&&e==t&&n.doc.resolve(e).parent.content.size){let l=Y2(n.doc,e,r.type);l!=null&&(e=t=l)}n.replaceRange(e,t,new ee(G.from(r),0,0))}function Q2(n,e,t){let r=n.doc.resolve(e),l=n.doc.resolve(t),a=Yx(r,l);for(let u=0;u<a.length;u++){let f=a[u],d=u==a.length-1;if(d&&f==0||r.node(f).type.contentMatch.validEnd)return n.delete(r.start(f),l.end(f));if(f>0&&(d||r.node(f-1).canReplace(r.index(f-1),l.indexAfter(f-1))))return n.delete(r.before(f),l.after(f))}for(let u=1;u<=r.depth&&u<=l.depth;u++)if(e-r.start(u)==r.depth-u&&t>r.end(u)&&l.end(u)-t!=l.depth-u&&r.start(u-1)==l.start(u-1)&&r.node(u-1).canReplace(r.index(u-1),l.index(u-1)))return n.delete(r.before(u),t);n.delete(e,t)}function Yx(n,e){let t=[],r=Math.min(n.depth,e.depth);for(let l=r;l>=0;l--){let a=n.start(l);if(a<n.pos-(n.depth-l)||e.end(l)>e.pos+(e.depth-l)||n.node(l).type.spec.isolating||e.node(l).type.spec.isolating)break;(a==e.start(l)||l==n.depth&&l==e.depth&&n.parent.inlineContent&&e.parent.inlineContent&&l&&e.start(l-1)==a-1)&&t.push(l)}return t}class kl extends Bt{constructor(e,t,r){super(),this.pos=e,this.attr=t,this.value=r}apply(e){let t=e.nodeAt(this.pos);if(!t)return st.fail("No node at attribute step's position");let r=Object.create(null);for(let a in t.attrs)r[a]=t.attrs[a];r[this.attr]=this.value;let l=t.type.create(r,null,t.marks);return st.fromReplace(e,this.pos,this.pos+1,new ee(G.from(l),0,t.isLeaf?0:1))}getMap(){return dn.empty}invert(e){return new kl(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new kl(t.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.pos!="number"||typeof t.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new kl(t.pos,t.attr,t.value)}}Bt.jsonID("attr",kl);class fo extends Bt{constructor(e,t){super(),this.attr=e,this.value=t}apply(e){let t=Object.create(null);for(let l in e.attrs)t[l]=e.attrs[l];t[this.attr]=this.value;let r=e.type.create(t,e.content,e.marks);return st.ok(r)}getMap(){return dn.empty}invert(e){return new fo(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new fo(t.attr,t.value)}}Bt.jsonID("docAttr",fo);let Ml=class extends Error{};Ml=function n(e){let t=Error.call(this,e);return t.__proto__=n.prototype,t};Ml.prototype=Object.create(Error.prototype);Ml.prototype.constructor=Ml;Ml.prototype.name="TransformError";class Kx{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new co}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let t=this.maybeStep(e);if(t.failed)throw new Ml(t.failed);return this}maybeStep(e){let t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t}get docChanged(){return this.steps.length>0}addStep(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t}replace(e,t=e,r=ee.empty){let l=rf(this.doc,e,t,r);return l&&this.step(l),this}replaceWith(e,t,r){return this.replace(e,t,new ee(G.from(r),0,0))}delete(e,t){return this.replace(e,t,ee.empty)}insert(e,t){return this.replaceWith(e,e,t)}replaceRange(e,t,r){return X2(this,e,t,r),this}replaceRangeWith(e,t,r){return J2(this,e,t,r),this}deleteRange(e,t){return Q2(this,e,t),this}lift(e,t){return z2(this,e,t),this}join(e,t=1){return $2(this,e,t),this}wrap(e,t){return _2(this,e,t),this}setBlockType(e,t=e,r,l=null){return U2(this,e,t,r,l),this}setNodeMarkup(e,t,r=null,l){return q2(this,e,t,r,l),this}setNodeAttribute(e,t,r){return this.step(new kl(e,t,r)),this}setDocAttribute(e,t){return this.step(new fo(e,t)),this}addNodeMark(e,t){return this.step(new wi(e,t)),this}removeNodeMark(e,t){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(t instanceof Ie)t.isInSet(r.marks)&&this.step(new vs(e,t));else{let l=r.marks,a,u=[];for(;a=t.isInSet(l);)u.push(new vs(e,a)),l=a.removeFromSet(l);for(let f=u.length-1;f>=0;f--)this.step(u[f])}return this}split(e,t=1,r){return P2(this,e,t,r),this}addMark(e,t,r){return R2(this,e,t,r),this}removeMark(e,t,r){return j2(this,e,t,r),this}clearIncompatible(e,t,r){return hm(this,e,t,r),this}}const $h=Object.create(null);class be{constructor(e,t,r){this.$anchor=e,this.$head=t,this.ranges=r||[new Z2(e.min(t),e.max(t))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let t=0;t<e.length;t++)if(e[t].$from.pos!=e[t].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,t=ee.empty){let r=t.content.lastChild,l=null;for(let f=0;f<t.openEnd;f++)l=r,r=r.lastChild;let a=e.steps.length,u=this.ranges;for(let f=0;f<u.length;f++){let{$from:d,$to:h}=u[f],m=e.mapping.slice(a);e.replaceRange(m.map(d.pos),m.map(h.pos),f?ee.empty:t),f==0&&xb(e,a,(r?r.isInline:l&&l.isTextblock)?-1:1)}}replaceWith(e,t){let r=e.steps.length,l=this.ranges;for(let a=0;a<l.length;a++){let{$from:u,$to:f}=l[a],d=e.mapping.slice(r),h=d.map(u.pos),m=d.map(f.pos);a?e.deleteRange(h,m):(e.replaceRangeWith(h,m,t),xb(e,r,t.isInline?-1:1))}}static findFrom(e,t,r=!1){let l=e.parent.inlineContent?new ge(e):vl(e.node(0),e.parent,e.pos,e.index(),t,r);if(l)return l;for(let a=e.depth-1;a>=0;a--){let u=t<0?vl(e.node(0),e.node(a),e.before(a+1),e.index(a),t,r):vl(e.node(0),e.node(a),e.after(a+1),e.index(a)+1,t,r);if(u)return u}return null}static near(e,t=1){return this.findFrom(e,t)||this.findFrom(e,-t)||new hn(e.node(0))}static atStart(e){return vl(e,e,0,0,1)||new hn(e)}static atEnd(e){return vl(e,e,e.content.size,e.childCount,-1)||new hn(e)}static fromJSON(e,t){if(!t||!t.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=$h[t.type];if(!r)throw new RangeError(`No selection type ${t.type} defined`);return r.fromJSON(e,t)}static jsonID(e,t){if(e in $h)throw new RangeError("Duplicate use of selection JSON ID "+e);return $h[e]=t,t.prototype.jsonID=e,t}getBookmark(){return ge.between(this.$anchor,this.$head).getBookmark()}}be.prototype.visible=!0;class Z2{constructor(e,t){this.$from=e,this.$to=t}}let vb=!1;function bb(n){!vb&&!n.parent.inlineContent&&(vb=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+n.parent.type.name+")"))}class ge extends be{constructor(e,t=e){bb(e),bb(t),super(e,t)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,t){let r=e.resolve(t.map(this.head));if(!r.parent.inlineContent)return be.near(r);let l=e.resolve(t.map(this.anchor));return new ge(l.parent.inlineContent?l:r,r)}replace(e,t=ee.empty){if(super.replace(e,t),t==ee.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof ge&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new sf(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,t){if(typeof t.anchor!="number"||typeof t.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new ge(e.resolve(t.anchor),e.resolve(t.head))}static create(e,t,r=t){let l=e.resolve(t);return new this(l,r==t?l:e.resolve(r))}static between(e,t,r){let l=e.pos-t.pos;if((!r||l)&&(r=l>=0?1:-1),!t.parent.inlineContent){let a=be.findFrom(t,r,!0)||be.findFrom(t,-r,!0);if(a)t=a.$head;else return be.near(t,r)}return e.parent.inlineContent||(l==0?e=t:(e=(be.findFrom(e,-r,!0)||be.findFrom(e,r,!0)).$anchor,e.pos<t.pos!=l<0&&(e=t))),new ge(e,t)}}be.jsonID("text",ge);class sf{constructor(e,t){this.anchor=e,this.head=t}map(e){return new sf(e.map(this.anchor),e.map(this.head))}resolve(e){return ge.between(e.resolve(this.anchor),e.resolve(this.head))}}class ue extends be{constructor(e){let t=e.nodeAfter,r=e.node(0).resolve(e.pos+t.nodeSize);super(e,r),this.node=t}map(e,t){let{deleted:r,pos:l}=t.mapResult(this.anchor),a=e.resolve(l);return r?be.near(a):new ue(a)}content(){return new ee(G.from(this.node),0,0)}eq(e){return e instanceof ue&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new mm(this.anchor)}static fromJSON(e,t){if(typeof t.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new ue(e.resolve(t.anchor))}static create(e,t){return new ue(e.resolve(t))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}ue.prototype.visible=!1;be.jsonID("node",ue);class mm{constructor(e){this.anchor=e}map(e){let{deleted:t,pos:r}=e.mapResult(this.anchor);return t?new sf(r,r):new mm(r)}resolve(e){let t=e.resolve(this.anchor),r=t.nodeAfter;return r&&ue.isSelectable(r)?new ue(t):be.near(t)}}class hn extends be{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,t=ee.empty){if(t==ee.empty){e.delete(0,e.doc.content.size);let r=be.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,t)}toJSON(){return{type:"all"}}static fromJSON(e){return new hn(e)}map(e){return new hn(e)}eq(e){return e instanceof hn}getBookmark(){return W2}}be.jsonID("all",hn);const W2={map(){return this},resolve(n){return new hn(n)}};function vl(n,e,t,r,l,a=!1){if(e.inlineContent)return ge.create(n,t);for(let u=r-(l>0?0:1);l>0?u<e.childCount:u>=0;u+=l){let f=e.child(u);if(f.isAtom){if(!a&&ue.isSelectable(f))return ue.create(n,t-(l<0?f.nodeSize:0))}else{let d=vl(n,f,t+l,l<0?f.childCount:0,l,a);if(d)return d}t+=f.nodeSize*l}return null}function xb(n,e,t){let r=n.steps.length-1;if(r<e)return;let l=n.steps[r];if(!(l instanceof gt||l instanceof yt))return;let a=n.mapping.maps[r],u;a.forEach((f,d,h,m)=>{u==null&&(u=m)}),n.setSelection(be.near(n.doc.resolve(u),t))}const Sb=1,wb=2,Eb=4;class eO extends Kx{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|Sb)&-3,this.storedMarks=null,this}get selectionSet(){return(this.updated&Sb)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=wb,this}ensureMarks(e){return Ie.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&wb)>0}addStep(e,t){super.addStep(e,t),this.updated=this.updated&-3,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,t=!0){let r=this.selection;return t&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||Ie.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,t,r){let l=this.doc.type.schema;if(t==null)return e?this.replaceSelectionWith(l.text(e),!0):this.deleteSelection();{if(r==null&&(r=t),r=r??t,!e)return this.deleteRange(t,r);let a=this.storedMarks;if(!a){let u=this.doc.resolve(t);a=r==t?u.marks():u.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(t,r,l.text(e,a)),this.selection.empty||this.setSelection(be.near(this.selection.$to)),this}}setMeta(e,t){return this.meta[typeof e=="string"?e:e.key]=t,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=Eb,this}get scrolledIntoView(){return(this.updated&Eb)>0}}function kb(n,e){return!e||!n?n:n.bind(e)}class Ga{constructor(e,t,r){this.name=e,this.init=kb(t.init,r),this.apply=kb(t.apply,r)}}const tO=[new Ga("doc",{init(n){return n.doc||n.schema.topNodeType.createAndFill()},apply(n){return n.doc}}),new Ga("selection",{init(n,e){return n.selection||be.atStart(e.doc)},apply(n){return n.selection}}),new Ga("storedMarks",{init(n){return n.storedMarks||null},apply(n,e,t,r){return r.selection.$cursor?n.storedMarks:null}}),new Ga("scrollToSelection",{init(){return 0},apply(n,e){return n.scrolledIntoView?e+1:e}})];class Yh{constructor(e,t){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=tO.slice(),t&&t.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new Ga(r.key,r.spec.state,r))})}}class wl{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,t=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=t){let l=this.config.plugins[r];if(l.spec.filterTransaction&&!l.spec.filterTransaction.call(l,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let t=[e],r=this.applyInner(e),l=null;for(;;){let a=!1;for(let u=0;u<this.config.plugins.length;u++){let f=this.config.plugins[u];if(f.spec.appendTransaction){let d=l?l[u].n:0,h=l?l[u].state:this,m=d<t.length&&f.spec.appendTransaction.call(f,d?t.slice(d):t,h,r);if(m&&r.filterTransaction(m,u)){if(m.setMeta("appendedTransaction",e),!l){l=[];for(let y=0;y<this.config.plugins.length;y++)l.push(y<u?{state:r,n:t.length}:{state:this,n:0})}t.push(m),r=r.applyInner(m),a=!0}l&&(l[u]={state:r,n:t.length})}}if(!a)return{state:r,transactions:t}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let t=new wl(this.config),r=this.config.fields;for(let l=0;l<r.length;l++){let a=r[l];t[a.name]=a.apply(e,this[a.name],this,t)}return t}get tr(){return new eO(this)}static create(e){let t=new Yh(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new wl(t);for(let l=0;l<t.fields.length;l++)r[t.fields[l].name]=t.fields[l].init(e,r);return r}reconfigure(e){let t=new Yh(this.schema,e.plugins),r=t.fields,l=new wl(t);for(let a=0;a<r.length;a++){let u=r[a].name;l[u]=this.hasOwnProperty(u)?this[u]:r[a].init(e,l)}return l}toJSON(e){let t={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(t.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let l=e[r],a=l.spec.state;a&&a.toJSON&&(t[r]=a.toJSON.call(l,this[l.key]))}return t}static fromJSON(e,t,r){if(!t)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let l=new Yh(e.schema,e.plugins),a=new wl(l);return l.fields.forEach(u=>{if(u.name=="doc")a.doc=ki.fromJSON(e.schema,t.doc);else if(u.name=="selection")a.selection=be.fromJSON(a.doc,t.selection);else if(u.name=="storedMarks")t.storedMarks&&(a.storedMarks=t.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let f in r){let d=r[f],h=d.spec.state;if(d.key==u.name&&h&&h.fromJSON&&Object.prototype.hasOwnProperty.call(t,f)){a[u.name]=h.fromJSON.call(d,e,t[f],a);return}}a[u.name]=u.init(e,a)}}),a}}function Gx(n,e,t){for(let r in n){let l=n[r];l instanceof Function?l=l.bind(e):r=="handleDOMEvents"&&(l=Gx(l,e,{})),t[r]=l}return t}class St{constructor(e){this.spec=e,this.props={},e.props&&Gx(e.props,this,this.props),this.key=e.key?e.key.key:Fx("plugin")}getState(e){return e[this.key]}}const Kh=Object.create(null);function Fx(n){return n in Kh?n+"$"+ ++Kh[n]:(Kh[n]=0,n+"$")}class tn{constructor(e="key"){this.key=Fx(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const Mt=function(n){for(var e=0;;e++)if(n=n.previousSibling,!n)return e},Ol=function(n){let e=n.assignedSlot||n.parentNode;return e&&e.nodeType==11?e.host:e};let Op=null;const Lr=function(n,e,t){let r=Op||(Op=document.createRange());return r.setEnd(n,t??n.nodeValue.length),r.setStart(n,e||0),r},nO=function(){Op=null},bs=function(n,e,t,r){return t&&(Tb(n,e,t,r,-1)||Tb(n,e,t,r,1))},rO=/^(img|br|input|textarea|hr)$/i;function Tb(n,e,t,r,l){for(;;){if(n==t&&e==r)return!0;if(e==(l<0?0:Dn(n))){let a=n.parentNode;if(!a||a.nodeType!=1||To(n)||rO.test(n.nodeName)||n.contentEditable=="false")return!1;e=Mt(n)+(l<0?0:1),n=a}else if(n.nodeType==1){if(n=n.childNodes[e+(l<0?-1:0)],n.contentEditable=="false")return!1;e=l<0?Dn(n):0}else return!1}}function Dn(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function iO(n,e){for(;;){if(n.nodeType==3&&e)return n;if(n.nodeType==1&&e>0){if(n.contentEditable=="false")return null;n=n.childNodes[e-1],e=Dn(n)}else if(n.parentNode&&!To(n))e=Mt(n),n=n.parentNode;else return null}}function sO(n,e){for(;;){if(n.nodeType==3&&e<n.nodeValue.length)return n;if(n.nodeType==1&&e<n.childNodes.length){if(n.contentEditable=="false")return null;n=n.childNodes[e],e=0}else if(n.parentNode&&!To(n))e=Mt(n)+1,n=n.parentNode;else return null}}function lO(n,e,t){for(let r=e==0,l=e==Dn(n);r||l;){if(n==t)return!0;let a=Mt(n);if(n=n.parentNode,!n)return!1;r=r&&a==0,l=l&&a==Dn(n)}}function To(n){let e;for(let t=n;t&&!(e=t.pmViewDesc);t=t.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==n||e.contentDOM==n)}const lf=function(n){return n.focusNode&&bs(n.focusNode,n.focusOffset,n.anchorNode,n.anchorOffset)};function ss(n,e){let t=document.createEvent("Event");return t.initEvent("keydown",!0,!0),t.keyCode=n,t.key=t.code=e,t}function aO(n){let e=n.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function oO(n,e,t){if(n.caretPositionFromPoint)try{let r=n.caretPositionFromPoint(e,t);if(r)return{node:r.offsetNode,offset:Math.min(Dn(r.offsetNode),r.offset)}}catch{}if(n.caretRangeFromPoint){let r=n.caretRangeFromPoint(e,t);if(r)return{node:r.startContainer,offset:Math.min(Dn(r.startContainer),r.startOffset)}}}const or=typeof navigator<"u"?navigator:null,Cb=typeof document<"u"?document:null,Ri=or&&or.userAgent||"",Np=/Edge\/(\d+)/.exec(Ri),Xx=/MSIE \d/.exec(Ri),Ap=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Ri),Zt=!!(Xx||Ap||Np),Ci=Xx?document.documentMode:Ap?+Ap[1]:Np?+Np[1]:0,Yn=!Zt&&/gecko\/(\d+)/i.test(Ri);Yn&&+(/Firefox\/(\d+)/.exec(Ri)||[0,0])[1];const Dp=!Zt&&/Chrome\/(\d+)/.exec(Ri),Lt=!!Dp,Jx=Dp?+Dp[1]:0,qt=!Zt&&!!or&&/Apple Computer/.test(or.vendor),Nl=qt&&(/Mobile\/\w+/.test(Ri)||!!or&&or.maxTouchPoints>2),An=Nl||(or?/Mac/.test(or.platform):!1),uO=or?/Win/.test(or.platform):!1,zr=/Android \d/.test(Ri),Co=!!Cb&&"webkitFontSmoothing"in Cb.documentElement.style,cO=Co?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function fO(n){let e=n.defaultView&&n.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:n.documentElement.clientWidth,top:0,bottom:n.documentElement.clientHeight}}function Ar(n,e){return typeof n=="number"?n:n[e]}function dO(n){let e=n.getBoundingClientRect(),t=e.width/n.offsetWidth||1,r=e.height/n.offsetHeight||1;return{left:e.left,right:e.left+n.clientWidth*t,top:e.top,bottom:e.top+n.clientHeight*r}}function Mb(n,e,t){let r=n.someProp("scrollThreshold")||0,l=n.someProp("scrollMargin")||5,a=n.dom.ownerDocument;for(let u=t||n.dom;u;){if(u.nodeType!=1){u=Ol(u);continue}let f=u,d=f==a.body,h=d?fO(a):dO(f),m=0,y=0;if(e.top<h.top+Ar(r,"top")?y=-(h.top-e.top+Ar(l,"top")):e.bottom>h.bottom-Ar(r,"bottom")&&(y=e.bottom-e.top>h.bottom-h.top?e.top+Ar(l,"top")-h.top:e.bottom-h.bottom+Ar(l,"bottom")),e.left<h.left+Ar(r,"left")?m=-(h.left-e.left+Ar(l,"left")):e.right>h.right-Ar(r,"right")&&(m=e.right-h.right+Ar(l,"right")),m||y)if(d)a.defaultView.scrollBy(m,y);else{let b=f.scrollLeft,x=f.scrollTop;y&&(f.scrollTop+=y),m&&(f.scrollLeft+=m);let E=f.scrollLeft-b,T=f.scrollTop-x;e={left:e.left-E,top:e.top-T,right:e.right-E,bottom:e.bottom-T}}let v=d?"fixed":getComputedStyle(u).position;if(/^(fixed|sticky)$/.test(v))break;u=v=="absolute"?u.offsetParent:Ol(u)}}function hO(n){let e=n.dom.getBoundingClientRect(),t=Math.max(0,e.top),r,l;for(let a=(e.left+e.right)/2,u=t+1;u<Math.min(innerHeight,e.bottom);u+=5){let f=n.root.elementFromPoint(a,u);if(!f||f==n.dom||!n.dom.contains(f))continue;let d=f.getBoundingClientRect();if(d.top>=t-20){r=f,l=d.top;break}}return{refDOM:r,refTop:l,stack:Qx(n.dom)}}function Qx(n){let e=[],t=n.ownerDocument;for(let r=n;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),n!=t);r=Ol(r));return e}function pO({refDOM:n,refTop:e,stack:t}){let r=n?n.getBoundingClientRect().top:0;Zx(t,r==0?0:r-e)}function Zx(n,e){for(let t=0;t<n.length;t++){let{dom:r,top:l,left:a}=n[t];r.scrollTop!=l+e&&(r.scrollTop=l+e),r.scrollLeft!=a&&(r.scrollLeft=a)}}let gl=null;function mO(n){if(n.setActive)return n.setActive();if(gl)return n.focus(gl);let e=Qx(n);n.focus(gl==null?{get preventScroll(){return gl={preventScroll:!0},!0}}:void 0),gl||(gl=!1,Zx(e,0))}function Wx(n,e){let t,r=2e8,l,a=0,u=e.top,f=e.top,d,h;for(let m=n.firstChild,y=0;m;m=m.nextSibling,y++){let v;if(m.nodeType==1)v=m.getClientRects();else if(m.nodeType==3)v=Lr(m).getClientRects();else continue;for(let b=0;b<v.length;b++){let x=v[b];if(x.top<=u&&x.bottom>=f){u=Math.max(x.bottom,u),f=Math.min(x.top,f);let E=x.left>e.left?x.left-e.left:x.right<e.left?e.left-x.right:0;if(E<r){t=m,r=E,l=E&&t.nodeType==3?{left:x.right<e.left?x.right:x.left,top:e.top}:e,m.nodeType==1&&E&&(a=y+(e.left>=(x.left+x.right)/2?1:0));continue}}else x.top>e.top&&!d&&x.left<=e.left&&x.right>=e.left&&(d=m,h={left:Math.max(x.left,Math.min(x.right,e.left)),top:x.top});!t&&(e.left>=x.right&&e.top>=x.top||e.left>=x.left&&e.top>=x.bottom)&&(a=y+1)}}return!t&&d&&(t=d,l=h,r=0),t&&t.nodeType==3?gO(t,l):!t||r&&t.nodeType==1?{node:n,offset:a}:Wx(t,l)}function gO(n,e){let t=n.nodeValue.length,r=document.createRange();for(let l=0;l<t;l++){r.setEnd(n,l+1),r.setStart(n,l);let a=mi(r,1);if(a.top!=a.bottom&&gm(e,a))return{node:n,offset:l+(e.left>=(a.left+a.right)/2?1:0)}}return{node:n,offset:0}}function gm(n,e){return n.left>=e.left-1&&n.left<=e.right+1&&n.top>=e.top-1&&n.top<=e.bottom+1}function yO(n,e){let t=n.parentNode;return t&&/^li$/i.test(t.nodeName)&&e.left<n.getBoundingClientRect().left?t:n}function vO(n,e,t){let{node:r,offset:l}=Wx(e,t),a=-1;if(r.nodeType==1&&!r.firstChild){let u=r.getBoundingClientRect();a=u.left!=u.right&&t.left>(u.left+u.right)/2?1:-1}return n.docView.posFromDOM(r,l,a)}function bO(n,e,t,r){let l=-1;for(let a=e,u=!1;a!=n.dom;){let f=n.docView.nearestDesc(a,!0),d;if(!f)return null;if(f.dom.nodeType==1&&(f.node.isBlock&&f.parent||!f.contentDOM)&&((d=f.dom.getBoundingClientRect()).width||d.height)&&(f.node.isBlock&&f.parent&&(!u&&d.left>r.left||d.top>r.top?l=f.posBefore:(!u&&d.right<r.left||d.bottom<r.top)&&(l=f.posAfter),u=!0),!f.contentDOM&&l<0&&!f.node.isText))return(f.node.isBlock?r.top<(d.top+d.bottom)/2:r.left<(d.left+d.right)/2)?f.posBefore:f.posAfter;a=f.dom.parentNode}return l>-1?l:n.docView.posFromDOM(e,t,-1)}function eS(n,e,t){let r=n.childNodes.length;if(r&&t.top<t.bottom)for(let l=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-t.top)/(t.bottom-t.top))-2)),a=l;;){let u=n.childNodes[a];if(u.nodeType==1){let f=u.getClientRects();for(let d=0;d<f.length;d++){let h=f[d];if(gm(e,h))return eS(u,e,h)}}if((a=(a+1)%r)==l)break}return n}function xO(n,e){let t=n.dom.ownerDocument,r,l=0,a=oO(t,e.left,e.top);a&&({node:r,offset:l}=a);let u=(n.root.elementFromPoint?n.root:t).elementFromPoint(e.left,e.top),f;if(!u||!n.dom.contains(u.nodeType!=1?u.parentNode:u)){let h=n.dom.getBoundingClientRect();if(!gm(e,h)||(u=eS(n.dom,e,h),!u))return null}if(qt)for(let h=u;r&&h;h=Ol(h))h.draggable&&(r=void 0);if(u=yO(u,e),r){if(Yn&&r.nodeType==1&&(l=Math.min(l,r.childNodes.length),l<r.childNodes.length)){let m=r.childNodes[l],y;m.nodeName=="IMG"&&(y=m.getBoundingClientRect()).right<=e.left&&y.bottom>e.top&&l++}let h;Co&&l&&r.nodeType==1&&(h=r.childNodes[l-1]).nodeType==1&&h.contentEditable=="false"&&h.getBoundingClientRect().top>=e.top&&l--,r==n.dom&&l==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?f=n.state.doc.content.size:(l==0||r.nodeType!=1||r.childNodes[l-1].nodeName!="BR")&&(f=bO(n,r,l,e))}f==null&&(f=vO(n,u,e));let d=n.docView.nearestDesc(u,!0);return{pos:f,inside:d?d.posAtStart-d.border:-1}}function Ob(n){return n.top<n.bottom||n.left<n.right}function mi(n,e){let t=n.getClientRects();if(t.length){let r=t[e<0?0:t.length-1];if(Ob(r))return r}return Array.prototype.find.call(t,Ob)||n.getBoundingClientRect()}const SO=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function tS(n,e,t){let{node:r,offset:l,atom:a}=n.docView.domFromPos(e,t<0?-1:1),u=Co||Yn;if(r.nodeType==3)if(u&&(SO.test(r.nodeValue)||(t<0?!l:l==r.nodeValue.length))){let d=mi(Lr(r,l,l),t);if(Yn&&l&&/\s/.test(r.nodeValue[l-1])&&l<r.nodeValue.length){let h=mi(Lr(r,l-1,l-1),-1);if(h.top==d.top){let m=mi(Lr(r,l,l+1),-1);if(m.top!=d.top)return qa(m,m.left<h.left)}}return d}else{let d=l,h=l,m=t<0?1:-1;return t<0&&!l?(h++,m=-1):t>=0&&l==r.nodeValue.length?(d--,m=1):t<0?d--:h++,qa(mi(Lr(r,d,h),m),m<0)}if(!n.state.doc.resolve(e-(a||0)).parent.inlineContent){if(a==null&&l&&(t<0||l==Dn(r))){let d=r.childNodes[l-1];if(d.nodeType==1)return Gh(d.getBoundingClientRect(),!1)}if(a==null&&l<Dn(r)){let d=r.childNodes[l];if(d.nodeType==1)return Gh(d.getBoundingClientRect(),!0)}return Gh(r.getBoundingClientRect(),t>=0)}if(a==null&&l&&(t<0||l==Dn(r))){let d=r.childNodes[l-1],h=d.nodeType==3?Lr(d,Dn(d)-(u?0:1)):d.nodeType==1&&(d.nodeName!="BR"||!d.nextSibling)?d:null;if(h)return qa(mi(h,1),!1)}if(a==null&&l<Dn(r)){let d=r.childNodes[l];for(;d.pmViewDesc&&d.pmViewDesc.ignoreForCoords;)d=d.nextSibling;let h=d?d.nodeType==3?Lr(d,0,u?0:1):d.nodeType==1?d:null:null;if(h)return qa(mi(h,-1),!0)}return qa(mi(r.nodeType==3?Lr(r):r,-t),t>=0)}function qa(n,e){if(n.width==0)return n;let t=e?n.left:n.right;return{top:n.top,bottom:n.bottom,left:t,right:t}}function Gh(n,e){if(n.height==0)return n;let t=e?n.top:n.bottom;return{top:t,bottom:t,left:n.left,right:n.right}}function nS(n,e,t){let r=n.state,l=n.root.activeElement;r!=e&&n.updateState(e),l!=n.dom&&n.focus();try{return t()}finally{r!=e&&n.updateState(r),l!=n.dom&&l&&l.focus()}}function wO(n,e,t){let r=e.selection,l=t=="up"?r.$from:r.$to;return nS(n,e,()=>{let{node:a}=n.docView.domFromPos(l.pos,t=="up"?-1:1);for(;;){let f=n.docView.nearestDesc(a,!0);if(!f)break;if(f.node.isBlock){a=f.contentDOM||f.dom;break}a=f.dom.parentNode}let u=tS(n,l.pos,1);for(let f=a.firstChild;f;f=f.nextSibling){let d;if(f.nodeType==1)d=f.getClientRects();else if(f.nodeType==3)d=Lr(f,0,f.nodeValue.length).getClientRects();else continue;for(let h=0;h<d.length;h++){let m=d[h];if(m.bottom>m.top+1&&(t=="up"?u.top-m.top>(m.bottom-u.top)*2:m.bottom-u.bottom>(u.bottom-m.top)*2))return!1}}return!0})}const EO=/[\u0590-\u08ac]/;function kO(n,e,t){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let l=r.parentOffset,a=!l,u=l==r.parent.content.size,f=n.domSelection();return f?!EO.test(r.parent.textContent)||!f.modify?t=="left"||t=="backward"?a:u:nS(n,e,()=>{let{focusNode:d,focusOffset:h,anchorNode:m,anchorOffset:y}=n.domSelectionRange(),v=f.caretBidiLevel;f.modify("move",t,"character");let b=r.depth?n.docView.domAfterPos(r.before()):n.dom,{focusNode:x,focusOffset:E}=n.domSelectionRange(),T=x&&!b.contains(x.nodeType==1?x:x.parentNode)||d==x&&h==E;try{f.collapse(m,y),d&&(d!=m||h!=y)&&f.extend&&f.extend(d,h)}catch{}return v!=null&&(f.caretBidiLevel=v),T}):r.pos==r.start()||r.pos==r.end()}let Nb=null,Ab=null,Db=!1;function TO(n,e,t){return Nb==e&&Ab==t?Db:(Nb=e,Ab=t,Db=t=="up"||t=="down"?wO(n,e,t):kO(n,e,t))}const jn=0,Rb=1,as=2,ur=3;class Mo{constructor(e,t,r,l){this.parent=e,this.children=t,this.dom=r,this.contentDOM=l,this.dirty=jn,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,t,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let t=0;t<this.children.length;t++)e+=this.children[t].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let t=0,r=this.posAtStart;;t++){let l=this.children[t];if(l==e)return r;r+=l.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,t,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let a,u;if(e==this.contentDOM)a=e.childNodes[t-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;a=e.previousSibling}for(;a&&!((u=a.pmViewDesc)&&u.parent==this);)a=a.previousSibling;return a?this.posBeforeChild(u)+u.size:this.posAtStart}else{let a,u;if(e==this.contentDOM)a=e.childNodes[t];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;a=e.nextSibling}for(;a&&!((u=a.pmViewDesc)&&u.parent==this);)a=a.nextSibling;return a?this.posBeforeChild(u):this.posAtEnd}let l;if(e==this.dom&&this.contentDOM)l=t>Mt(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))l=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(t==0)for(let a=e;;a=a.parentNode){if(a==this.dom){l=!1;break}if(a.previousSibling)break}if(l==null&&t==e.childNodes.length)for(let a=e;;a=a.parentNode){if(a==this.dom){l=!0;break}if(a.nextSibling)break}}return l??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,t=!1){for(let r=!0,l=e;l;l=l.parentNode){let a=this.getDesc(l),u;if(a&&(!t||a.node))if(r&&(u=a.nodeDOM)&&!(u.nodeType==1?u.contains(e.nodeType==1?e:e.parentNode):u==e))r=!1;else return a}}getDesc(e){let t=e.pmViewDesc;for(let r=t;r;r=r.parent)if(r==this)return t}posFromDOM(e,t,r){for(let l=e;l;l=l.parentNode){let a=this.getDesc(l);if(a)return a.localPosFromDOM(e,t,r)}return-1}descAt(e){for(let t=0,r=0;t<this.children.length;t++){let l=this.children[t],a=r+l.size;if(r==e&&a!=r){for(;!l.border&&l.children.length;)for(let u=0;u<l.children.length;u++){let f=l.children[u];if(f.size){l=f;break}}return l}if(e<a)return l.descAt(e-r-l.border);r=a}}domFromPos(e,t){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,l=0;for(let a=0;r<this.children.length;r++){let u=this.children[r],f=a+u.size;if(f>e||u instanceof iS){l=e-a;break}a=f}if(l)return this.children[r].domFromPos(l-this.children[r].border,t);for(let a;r&&!(a=this.children[r-1]).size&&a instanceof rS&&a.side>=0;r--);if(t<=0){let a,u=!0;for(;a=r?this.children[r-1]:null,!(!a||a.dom.parentNode==this.contentDOM);r--,u=!1);return a&&t&&u&&!a.border&&!a.domAtom?a.domFromPos(a.size,t):{node:this.contentDOM,offset:a?Mt(a.dom)+1:0}}else{let a,u=!0;for(;a=r<this.children.length?this.children[r]:null,!(!a||a.dom.parentNode==this.contentDOM);r++,u=!1);return a&&u&&!a.border&&!a.domAtom?a.domFromPos(0,t):{node:this.contentDOM,offset:a?Mt(a.dom):this.contentDOM.childNodes.length}}}parseRange(e,t,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let l=-1,a=-1;for(let u=r,f=0;;f++){let d=this.children[f],h=u+d.size;if(l==-1&&e<=h){let m=u+d.border;if(e>=m&&t<=h-d.border&&d.node&&d.contentDOM&&this.contentDOM.contains(d.contentDOM))return d.parseRange(e,t,m);e=u;for(let y=f;y>0;y--){let v=this.children[y-1];if(v.size&&v.dom.parentNode==this.contentDOM&&!v.emptyChildAt(1)){l=Mt(v.dom)+1;break}e-=v.size}l==-1&&(l=0)}if(l>-1&&(h>t||f==this.children.length-1)){t=h;for(let m=f+1;m<this.children.length;m++){let y=this.children[m];if(y.size&&y.dom.parentNode==this.contentDOM&&!y.emptyChildAt(-1)){a=Mt(y.dom);break}t+=y.size}a==-1&&(a=this.contentDOM.childNodes.length);break}u=h}return{node:this.contentDOM,from:e,to:t,fromOffset:l,toOffset:a}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let t=this.children[e<0?0:this.children.length-1];return t.size==0||t.emptyChildAt(e)}domAfterPos(e){let{node:t,offset:r}=this.domFromPos(e,0);if(t.nodeType!=1||r==t.childNodes.length)throw new RangeError("No node after pos "+e);return t.childNodes[r]}setSelection(e,t,r,l=!1){let a=Math.min(e,t),u=Math.max(e,t);for(let b=0,x=0;b<this.children.length;b++){let E=this.children[b],T=x+E.size;if(a>x&&u<T)return E.setSelection(e-x-E.border,t-x-E.border,r,l);x=T}let f=this.domFromPos(e,e?-1:1),d=t==e?f:this.domFromPos(t,t?-1:1),h=r.root.getSelection(),m=r.domSelectionRange(),y=!1;if((Yn||qt)&&e==t){let{node:b,offset:x}=f;if(b.nodeType==3){if(y=!!(x&&b.nodeValue[x-1]==`
`),y&&x==b.nodeValue.length)for(let E=b,T;E;E=E.parentNode){if(T=E.nextSibling){T.nodeName=="BR"&&(f=d={node:T.parentNode,offset:Mt(T)+1});break}let C=E.pmViewDesc;if(C&&C.node&&C.node.isBlock)break}}else{let E=b.childNodes[x-1];y=E&&(E.nodeName=="BR"||E.contentEditable=="false")}}if(Yn&&m.focusNode&&m.focusNode!=d.node&&m.focusNode.nodeType==1){let b=m.focusNode.childNodes[m.focusOffset];b&&b.contentEditable=="false"&&(l=!0)}if(!(l||y&&qt)&&bs(f.node,f.offset,m.anchorNode,m.anchorOffset)&&bs(d.node,d.offset,m.focusNode,m.focusOffset))return;let v=!1;if((h.extend||e==t)&&!y){h.collapse(f.node,f.offset);try{e!=t&&h.extend(d.node,d.offset),v=!0}catch{}}if(!v){if(e>t){let x=f;f=d,d=x}let b=document.createRange();b.setEnd(d.node,d.offset),b.setStart(f.node,f.offset),h.removeAllRanges(),h.addRange(b)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,t){for(let r=0,l=0;l<this.children.length;l++){let a=this.children[l],u=r+a.size;if(r==u?e<=u&&t>=r:e<u&&t>r){let f=r+a.border,d=u-a.border;if(e>=f&&t<=d){this.dirty=e==r||t==u?as:Rb,e==f&&t==d&&(a.contentLost||a.dom.parentNode!=this.contentDOM)?a.dirty=ur:a.markDirty(e-f,t-f);return}else a.dirty=a.dom==a.contentDOM&&a.dom.parentNode==this.contentDOM&&!a.children.length?as:ur}r=u}this.dirty=as}markParentsDirty(){let e=1;for(let t=this.parent;t;t=t.parent,e++){let r=e==1?as:Rb;t.dirty<r&&(t.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}isText(e){return!1}}class rS extends Mo{constructor(e,t,r,l){let a,u=t.type.toDOM;if(typeof u=="function"&&(u=u(r,()=>{if(!a)return l;if(a.parent)return a.parent.posBeforeChild(a)})),!t.type.spec.raw){if(u.nodeType!=1){let f=document.createElement("span");f.appendChild(u),u=f}u.contentEditable="false",u.classList.add("ProseMirror-widget")}super(e,[],u,null),this.widget=t,this.widget=t,a=this}matchesWidget(e){return this.dirty==jn&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let t=this.widget.spec.stopEvent;return t?t(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class CO extends Mo{constructor(e,t,r,l){super(e,[],t,null),this.textDOM=r,this.text=l}get size(){return this.text.length}localPosFromDOM(e,t){return e!=this.textDOM?this.posAtStart+(t?this.size:0):this.posAtStart+t}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class xs extends Mo{constructor(e,t,r,l,a){super(e,[],r,l),this.mark=t,this.spec=a}static create(e,t,r,l){let a=l.nodeViews[t.type.name],u=a&&a(t,l,r);return(!u||!u.dom)&&(u=Es.renderSpec(document,t.type.spec.toDOM(t,r),null,t.attrs)),new xs(e,t,u.dom,u.contentDOM||u.dom,u)}parseRule(){return this.dirty&ur||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=ur&&this.mark.eq(e)}markDirty(e,t){if(super.markDirty(e,t),this.dirty!=jn){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=jn}}slice(e,t,r){let l=xs.create(this.parent,this.mark,!0,r),a=this.children,u=this.size;t<u&&(a=jp(a,t,u,r)),e>0&&(a=jp(a,0,e,r));for(let f=0;f<a.length;f++)a[f].parent=l;return l.children=a,l}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class Mi extends Mo{constructor(e,t,r,l,a,u,f,d,h){super(e,[],a,u),this.node=t,this.outerDeco=r,this.innerDeco=l,this.nodeDOM=f}static create(e,t,r,l,a,u){let f=a.nodeViews[t.type.name],d,h=f&&f(t,a,()=>{if(!d)return u;if(d.parent)return d.parent.posBeforeChild(d)},r,l),m=h&&h.dom,y=h&&h.contentDOM;if(t.isText){if(!m)m=document.createTextNode(t.text);else if(m.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else m||({dom:m,contentDOM:y}=Es.renderSpec(document,t.type.spec.toDOM(t),null,t.attrs));!y&&!t.isText&&m.nodeName!="BR"&&(m.hasAttribute("contenteditable")||(m.contentEditable="false"),t.type.spec.draggable&&(m.draggable=!0));let v=m;return m=aS(m,r,t),h?d=new MO(e,t,r,l,m,y||null,v,h,a,u+1):t.isText?new af(e,t,r,l,m,v,a):new Mi(e,t,r,l,m,y||null,v,a,u+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let t=this.children.length-1;t>=0;t--){let r=this.children[t];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>G.empty)}return e}matchesNode(e,t,r){return this.dirty==jn&&e.eq(this.node)&&mc(t,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,t){let r=this.node.inlineContent,l=t,a=e.composing?this.localCompositionInfo(e,t):null,u=a&&a.pos>-1?a:null,f=a&&a.pos<0,d=new NO(this,u&&u.node,e);RO(this.node,this.innerDeco,(h,m,y)=>{h.spec.marks?d.syncToMarks(h.spec.marks,r,e):h.type.side>=0&&!y&&d.syncToMarks(m==this.node.childCount?Ie.none:this.node.child(m).marks,r,e),d.placeWidget(h,e,l)},(h,m,y,v)=>{d.syncToMarks(h.marks,r,e);let b;d.findNodeMatch(h,m,y,v)||f&&e.state.selection.from>l&&e.state.selection.to<l+h.nodeSize&&(b=d.findIndexWithChild(a.node))>-1&&d.updateNodeAt(h,m,y,b,e)||d.updateNextNode(h,m,y,e,v,l)||d.addNode(h,m,y,e,l),l+=h.nodeSize}),d.syncToMarks([],r,e),this.node.isTextblock&&d.addTextblockHacks(),d.destroyRest(),(d.changed||this.dirty==as)&&(u&&this.protectLocalComposition(e,u),sS(this.contentDOM,this.children,e),Nl&&jO(this.dom))}localCompositionInfo(e,t){let{from:r,to:l}=e.state.selection;if(!(e.state.selection instanceof ge)||r<t||l>t+this.node.content.size)return null;let a=e.input.compositionNode;if(!a||!this.dom.contains(a.parentNode))return null;if(this.node.inlineContent){let u=a.nodeValue,f=LO(this.node.content,u,r-t,l-t);return f<0?null:{node:a,pos:f,text:u}}else return{node:a,pos:-1,text:""}}protectLocalComposition(e,{node:t,pos:r,text:l}){if(this.getDesc(t))return;let a=t;for(;a.parentNode!=this.contentDOM;a=a.parentNode){for(;a.previousSibling;)a.parentNode.removeChild(a.previousSibling);for(;a.nextSibling;)a.parentNode.removeChild(a.nextSibling);a.pmViewDesc&&(a.pmViewDesc=void 0)}let u=new CO(this,a,t,l);e.input.compositionNodes.push(u),this.children=jp(this.children,r,r+l.length,e,u)}update(e,t,r,l){return this.dirty==ur||!e.sameMarkup(this.node)?!1:(this.updateInner(e,t,r,l),!0)}updateInner(e,t,r,l){this.updateOuterDeco(t),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(l,this.posAtStart),this.dirty=jn}updateOuterDeco(e){if(mc(e,this.outerDeco))return;let t=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=lS(this.dom,this.nodeDOM,Rp(this.outerDeco,this.node,t),Rp(e,this.node,t)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function jb(n,e,t,r,l){aS(r,e,n);let a=new Mi(void 0,n,e,t,r,r,r,l,0);return a.contentDOM&&a.updateChildren(l,0),a}class af extends Mi{constructor(e,t,r,l,a,u,f){super(e,t,r,l,a,null,u,f,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,t,r,l){return this.dirty==ur||this.dirty!=jn&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(t),(this.dirty!=jn||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,l.trackWrites==this.nodeDOM&&(l.trackWrites=null)),this.node=e,this.dirty=jn,!0)}inParent(){let e=this.parent.contentDOM;for(let t=this.nodeDOM;t;t=t.parentNode)if(t==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,t,r){return e==this.nodeDOM?this.posAtStart+Math.min(t,this.node.text.length):super.localPosFromDOM(e,t,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,t,r){let l=this.node.cut(e,t),a=document.createTextNode(l.text);return new af(this.parent,l,this.outerDeco,this.innerDeco,a,a,r)}markDirty(e,t){super.markDirty(e,t),this.dom!=this.nodeDOM&&(e==0||t==this.nodeDOM.nodeValue.length)&&(this.dirty=ur)}get domAtom(){return!1}isText(e){return this.node.text==e}}class iS extends Mo{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==jn&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class MO extends Mi{constructor(e,t,r,l,a,u,f,d,h,m){super(e,t,r,l,a,u,f,h,m),this.spec=d}update(e,t,r,l){if(this.dirty==ur)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let a=this.spec.update(e,t,r);return a&&this.updateInner(e,t,r,l),a}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,t,r,l)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,t,r,l){this.spec.setSelection?this.spec.setSelection(e,t,r.root):super.setSelection(e,t,r,l)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function sS(n,e,t){let r=n.firstChild,l=!1;for(let a=0;a<e.length;a++){let u=e[a],f=u.dom;if(f.parentNode==n){for(;f!=r;)r=Lb(r),l=!0;r=r.nextSibling}else l=!0,n.insertBefore(f,r);if(u instanceof xs){let d=r?r.previousSibling:n.lastChild;sS(u.contentDOM,u.children,t),r=d?d.nextSibling:n.firstChild}}for(;r;)r=Lb(r),l=!0;l&&t.trackWrites==n&&(t.trackWrites=null)}const Ja=function(n){n&&(this.nodeName=n)};Ja.prototype=Object.create(null);const us=[new Ja];function Rp(n,e,t){if(n.length==0)return us;let r=t?us[0]:new Ja,l=[r];for(let a=0;a<n.length;a++){let u=n[a].type.attrs;if(u){u.nodeName&&l.push(r=new Ja(u.nodeName));for(let f in u){let d=u[f];d!=null&&(t&&l.length==1&&l.push(r=new Ja(e.isInline?"span":"div")),f=="class"?r.class=(r.class?r.class+" ":"")+d:f=="style"?r.style=(r.style?r.style+";":"")+d:f!="nodeName"&&(r[f]=d))}}}return l}function lS(n,e,t,r){if(t==us&&r==us)return e;let l=e;for(let a=0;a<r.length;a++){let u=r[a],f=t[a];if(a){let d;f&&f.nodeName==u.nodeName&&l!=n&&(d=l.parentNode)&&d.nodeName.toLowerCase()==u.nodeName||(d=document.createElement(u.nodeName),d.pmIsDeco=!0,d.appendChild(l),f=us[0]),l=d}OO(l,f||us[0],u)}return l}function OO(n,e,t){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in t)&&n.removeAttribute(r);for(let r in t)r!="class"&&r!="style"&&r!="nodeName"&&t[r]!=e[r]&&n.setAttribute(r,t[r]);if(e.class!=t.class){let r=e.class?e.class.split(" ").filter(Boolean):[],l=t.class?t.class.split(" ").filter(Boolean):[];for(let a=0;a<r.length;a++)l.indexOf(r[a])==-1&&n.classList.remove(r[a]);for(let a=0;a<l.length;a++)r.indexOf(l[a])==-1&&n.classList.add(l[a]);n.classList.length==0&&n.removeAttribute("class")}if(e.style!=t.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,l;for(;l=r.exec(e.style);)n.style.removeProperty(l[1])}t.style&&(n.style.cssText+=t.style)}}function aS(n,e,t){return lS(n,n,us,Rp(e,t,n.nodeType!=1))}function mc(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(!n[t].type.eq(e[t].type))return!1;return!0}function Lb(n){let e=n.nextSibling;return n.parentNode.removeChild(n),e}class NO{constructor(e,t,r){this.lock=t,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=AO(e.node.content,e)}destroyBetween(e,t){if(e!=t){for(let r=e;r<t;r++)this.top.children[r].destroy();this.top.children.splice(e,t-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,t,r){let l=0,a=this.stack.length>>1,u=Math.min(a,e.length);for(;l<u&&(l==a-1?this.top:this.stack[l+1<<1]).matchesMark(e[l])&&e[l].type.spec.spanning!==!1;)l++;for(;l<a;)this.destroyRest(),this.top.dirty=jn,this.index=this.stack.pop(),this.top=this.stack.pop(),a--;for(;a<e.length;){this.stack.push(this.top,this.index+1);let f=-1;for(let d=this.index;d<Math.min(this.index+3,this.top.children.length);d++){let h=this.top.children[d];if(h.matchesMark(e[a])&&!this.isLocked(h.dom)){f=d;break}}if(f>-1)f>this.index&&(this.changed=!0,this.destroyBetween(this.index,f)),this.top=this.top.children[this.index];else{let d=xs.create(this.top,e[a],t,r);this.top.children.splice(this.index,0,d),this.top=d,this.changed=!0}this.index=0,a++}}findNodeMatch(e,t,r,l){let a=-1,u;if(l>=this.preMatch.index&&(u=this.preMatch.matches[l-this.preMatch.index]).parent==this.top&&u.matchesNode(e,t,r))a=this.top.children.indexOf(u,this.index);else for(let f=this.index,d=Math.min(this.top.children.length,f+5);f<d;f++){let h=this.top.children[f];if(h.matchesNode(e,t,r)&&!this.preMatch.matched.has(h)){a=f;break}}return a<0?!1:(this.destroyBetween(this.index,a),this.index++,!0)}updateNodeAt(e,t,r,l,a){let u=this.top.children[l];return u.dirty==ur&&u.dom==u.contentDOM&&(u.dirty=as),u.update(e,t,r,a)?(this.destroyBetween(this.index,l),this.index++,!0):!1}findIndexWithChild(e){for(;;){let t=e.parentNode;if(!t)return-1;if(t==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let l=this.index;l<this.top.children.length;l++)if(this.top.children[l]==r)return l}return-1}e=t}}updateNextNode(e,t,r,l,a,u){for(let f=this.index;f<this.top.children.length;f++){let d=this.top.children[f];if(d instanceof Mi){let h=this.preMatch.matched.get(d);if(h!=null&&h!=a)return!1;let m=d.dom,y,v=this.isLocked(m)&&!(e.isText&&d.node&&d.node.isText&&d.nodeDOM.nodeValue==e.text&&d.dirty!=ur&&mc(t,d.outerDeco));if(!v&&d.update(e,t,r,l))return this.destroyBetween(this.index,f),d.dom!=m&&(this.changed=!0),this.index++,!0;if(!v&&(y=this.recreateWrapper(d,e,t,r,l,u)))return this.destroyBetween(this.index,f),this.top.children[this.index]=y,y.contentDOM&&(y.dirty=as,y.updateChildren(l,u+1),y.dirty=jn),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,t,r,l,a,u){if(e.dirty||t.isAtom||!e.children.length||!e.node.content.eq(t.content)||!mc(r,e.outerDeco)||!l.eq(e.innerDeco))return null;let f=Mi.create(this.top,t,r,l,a,u);if(f.contentDOM){f.children=e.children,e.children=[];for(let d of f.children)d.parent=f}return e.destroy(),f}addNode(e,t,r,l,a){let u=Mi.create(this.top,e,t,r,l,a);u.contentDOM&&u.updateChildren(l,a+1),this.top.children.splice(this.index++,0,u),this.changed=!0}placeWidget(e,t,r){let l=this.index<this.top.children.length?this.top.children[this.index]:null;if(l&&l.matchesWidget(e)&&(e==l.widget||!l.widget.type.toDOM.parentNode))this.index++;else{let a=new rS(this.top,e,t,r);this.top.children.splice(this.index++,0,a),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],t=this.top;for(;e instanceof xs;)t=e,e=t.children[t.children.length-1];(!e||!(e instanceof af)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((qt||Lt)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",t),this.addHackNode("BR",this.top))}addHackNode(e,t){if(t==this.top&&this.index<t.children.length&&t.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let l=new iS(this.top,[],r,null);t!=this.top?t.children.push(l):t.children.splice(this.index++,0,l),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function AO(n,e){let t=e,r=t.children.length,l=n.childCount,a=new Map,u=[];e:for(;l>0;){let f;for(;;)if(r){let h=t.children[r-1];if(h instanceof xs)t=h,r=h.children.length;else{f=h,r--;break}}else{if(t==e)break e;r=t.parent.children.indexOf(t),t=t.parent}let d=f.node;if(d){if(d!=n.child(l-1))break;--l,a.set(f,l),u.push(f)}}return{index:l,matched:a,matches:u.reverse()}}function DO(n,e){return n.type.side-e.type.side}function RO(n,e,t,r){let l=e.locals(n),a=0;if(l.length==0){for(let h=0;h<n.childCount;h++){let m=n.child(h);r(m,l,e.forChild(a,m),h),a+=m.nodeSize}return}let u=0,f=[],d=null;for(let h=0;;){let m,y;for(;u<l.length&&l[u].to==a;){let T=l[u++];T.widget&&(m?(y||(y=[m])).push(T):m=T)}if(m)if(y){y.sort(DO);for(let T=0;T<y.length;T++)t(y[T],h,!!d)}else t(m,h,!!d);let v,b;if(d)b=-1,v=d,d=null;else if(h<n.childCount)b=h,v=n.child(h++);else break;for(let T=0;T<f.length;T++)f[T].to<=a&&f.splice(T--,1);for(;u<l.length&&l[u].from<=a&&l[u].to>a;)f.push(l[u++]);let x=a+v.nodeSize;if(v.isText){let T=x;u<l.length&&l[u].from<T&&(T=l[u].from);for(let C=0;C<f.length;C++)f[C].to<T&&(T=f[C].to);T<x&&(d=v.cut(T-a),v=v.cut(0,T-a),x=T,b=-1)}else for(;u<l.length&&l[u].to<x;)u++;let E=v.isInline&&!v.isLeaf?f.filter(T=>!T.inline):f.slice();r(v,E,e.forChild(a,v),b),a=x}}function jO(n){if(n.nodeName=="UL"||n.nodeName=="OL"){let e=n.style.cssText;n.style.cssText=e+"; list-style: square !important",window.getComputedStyle(n).listStyle,n.style.cssText=e}}function LO(n,e,t,r){for(let l=0,a=0;l<n.childCount&&a<=r;){let u=n.child(l++),f=a;if(a+=u.nodeSize,!u.isText)continue;let d=u.text;for(;l<n.childCount;){let h=n.child(l++);if(a+=h.nodeSize,!h.isText)break;d+=h.text}if(a>=t){if(a>=r&&d.slice(r-e.length-f,r-f)==e)return r-e.length;let h=f<r?d.lastIndexOf(e,r-f-1):-1;if(h>=0&&h+e.length+f>=t)return f+h;if(t==r&&d.length>=r+e.length-f&&d.slice(r-f,r-f+e.length)==e)return r}}return-1}function jp(n,e,t,r,l){let a=[];for(let u=0,f=0;u<n.length;u++){let d=n[u],h=f,m=f+=d.size;h>=t||m<=e?a.push(d):(h<e&&a.push(d.slice(0,e-h,r)),l&&(a.push(l),l=void 0),m>t&&a.push(d.slice(t-h,d.size,r)))}return a}function ym(n,e=null){let t=n.domSelectionRange(),r=n.state.doc;if(!t.focusNode)return null;let l=n.docView.nearestDesc(t.focusNode),a=l&&l.size==0,u=n.docView.posFromDOM(t.focusNode,t.focusOffset,1);if(u<0)return null;let f=r.resolve(u),d,h;if(lf(t)){for(d=u;l&&!l.node;)l=l.parent;let y=l.node;if(l&&y.isAtom&&ue.isSelectable(y)&&l.parent&&!(y.isInline&&lO(t.focusNode,t.focusOffset,l.dom))){let v=l.posBefore;h=new ue(u==v?f:r.resolve(v))}}else{if(t instanceof n.dom.ownerDocument.defaultView.Selection&&t.rangeCount>1){let y=u,v=u;for(let b=0;b<t.rangeCount;b++){let x=t.getRangeAt(b);y=Math.min(y,n.docView.posFromDOM(x.startContainer,x.startOffset,1)),v=Math.max(v,n.docView.posFromDOM(x.endContainer,x.endOffset,-1))}if(y<0)return null;[d,u]=v==n.state.selection.anchor?[v,y]:[y,v],f=r.resolve(u)}else d=n.docView.posFromDOM(t.anchorNode,t.anchorOffset,1);if(d<0)return null}let m=r.resolve(d);if(!h){let y=e=="pointer"||n.state.selection.head<f.pos&&!a?1:-1;h=vm(n,m,f,y)}return h}function oS(n){return n.editable?n.hasFocus():cS(n)&&document.activeElement&&document.activeElement.contains(n.dom)}function Ur(n,e=!1){let t=n.state.selection;if(uS(n,t),!!oS(n)){if(!e&&n.input.mouseDown&&n.input.mouseDown.allowDefault&&Lt){let r=n.domSelectionRange(),l=n.domObserver.currentSelection;if(r.anchorNode&&l.anchorNode&&bs(r.anchorNode,r.anchorOffset,l.anchorNode,l.anchorOffset)){n.input.mouseDown.delayedSelectionSync=!0,n.domObserver.setCurSelection();return}}if(n.domObserver.disconnectSelection(),n.cursorWrapper)BO(n);else{let{anchor:r,head:l}=t,a,u;zb&&!(t instanceof ge)&&(t.$from.parent.inlineContent||(a=Bb(n,t.from)),!t.empty&&!t.$from.parent.inlineContent&&(u=Bb(n,t.to))),n.docView.setSelection(r,l,n,e),zb&&(a&&Hb(a),u&&Hb(u)),t.visible?n.dom.classList.remove("ProseMirror-hideselection"):(n.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&zO(n))}n.domObserver.setCurSelection(),n.domObserver.connectSelection()}}const zb=qt||Lt&&Jx<63;function Bb(n,e){let{node:t,offset:r}=n.docView.domFromPos(e,0),l=r<t.childNodes.length?t.childNodes[r]:null,a=r?t.childNodes[r-1]:null;if(qt&&l&&l.contentEditable=="false")return Fh(l);if((!l||l.contentEditable=="false")&&(!a||a.contentEditable=="false")){if(l)return Fh(l);if(a)return Fh(a)}}function Fh(n){return n.contentEditable="true",qt&&n.draggable&&(n.draggable=!1,n.wasDraggable=!0),n}function Hb(n){n.contentEditable="false",n.wasDraggable&&(n.draggable=!0,n.wasDraggable=null)}function zO(n){let e=n.dom.ownerDocument;e.removeEventListener("selectionchange",n.input.hideSelectionGuard);let t=n.domSelectionRange(),r=t.anchorNode,l=t.anchorOffset;e.addEventListener("selectionchange",n.input.hideSelectionGuard=()=>{(t.anchorNode!=r||t.anchorOffset!=l)&&(e.removeEventListener("selectionchange",n.input.hideSelectionGuard),setTimeout(()=>{(!oS(n)||n.state.selection.visible)&&n.dom.classList.remove("ProseMirror-hideselection")},20))})}function BO(n){let e=n.domSelection(),t=document.createRange();if(!e)return;let r=n.cursorWrapper.dom,l=r.nodeName=="IMG";l?t.setStart(r.parentNode,Mt(r)+1):t.setStart(r,0),t.collapse(!0),e.removeAllRanges(),e.addRange(t),!l&&!n.state.selection.visible&&Zt&&Ci<=11&&(r.disabled=!0,r.disabled=!1)}function uS(n,e){if(e instanceof ue){let t=n.docView.descAt(e.from);t!=n.lastSelectedViewDesc&&(_b(n),t&&t.selectNode(),n.lastSelectedViewDesc=t)}else _b(n)}function _b(n){n.lastSelectedViewDesc&&(n.lastSelectedViewDesc.parent&&n.lastSelectedViewDesc.deselectNode(),n.lastSelectedViewDesc=void 0)}function vm(n,e,t,r){return n.someProp("createSelectionBetween",l=>l(n,e,t))||ge.between(e,t,r)}function Ub(n){return n.editable&&!n.hasFocus()?!1:cS(n)}function cS(n){let e=n.domSelectionRange();if(!e.anchorNode)return!1;try{return n.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(n.editable||n.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function HO(n){let e=n.docView.domFromPos(n.state.selection.anchor,0),t=n.domSelectionRange();return bs(e.node,e.offset,t.anchorNode,t.anchorOffset)}function Lp(n,e){let{$anchor:t,$head:r}=n.selection,l=e>0?t.max(r):t.min(r),a=l.parent.inlineContent?l.depth?n.doc.resolve(e>0?l.after():l.before()):null:l;return a&&be.findFrom(a,e)}function gi(n,e){return n.dispatch(n.state.tr.setSelection(e).scrollIntoView()),!0}function Vb(n,e,t){let r=n.state.selection;if(r instanceof ge)if(t.indexOf("s")>-1){let{$head:l}=r,a=l.textOffset?null:e<0?l.nodeBefore:l.nodeAfter;if(!a||a.isText||!a.isLeaf)return!1;let u=n.state.doc.resolve(l.pos+a.nodeSize*(e<0?-1:1));return gi(n,new ge(r.$anchor,u))}else if(r.empty){if(n.endOfTextblock(e>0?"forward":"backward")){let l=Lp(n.state,e);return l&&l instanceof ue?gi(n,l):!1}else if(!(An&&t.indexOf("m")>-1)){let l=r.$head,a=l.textOffset?null:e<0?l.nodeBefore:l.nodeAfter,u;if(!a||a.isText)return!1;let f=e<0?l.pos-a.nodeSize:l.pos;return a.isAtom||(u=n.docView.descAt(f))&&!u.contentDOM?ue.isSelectable(a)?gi(n,new ue(e<0?n.state.doc.resolve(l.pos-a.nodeSize):l)):Co?gi(n,new ge(n.state.doc.resolve(e<0?f:f+a.nodeSize))):!1:!1}}else return!1;else{if(r instanceof ue&&r.node.isInline)return gi(n,new ge(e>0?r.$to:r.$from));{let l=Lp(n.state,e);return l?gi(n,l):!1}}}function gc(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function Qa(n,e){let t=n.pmViewDesc;return t&&t.size==0&&(e<0||n.nextSibling||n.nodeName!="BR")}function yl(n,e){return e<0?_O(n):UO(n)}function _O(n){let e=n.domSelectionRange(),t=e.focusNode,r=e.focusOffset;if(!t)return;let l,a,u=!1;for(Yn&&t.nodeType==1&&r<gc(t)&&Qa(t.childNodes[r],-1)&&(u=!0);;)if(r>0){if(t.nodeType!=1)break;{let f=t.childNodes[r-1];if(Qa(f,-1))l=t,a=--r;else if(f.nodeType==3)t=f,r=t.nodeValue.length;else break}}else{if(fS(t))break;{let f=t.previousSibling;for(;f&&Qa(f,-1);)l=t.parentNode,a=Mt(f),f=f.previousSibling;if(f)t=f,r=gc(t);else{if(t=t.parentNode,t==n.dom)break;r=0}}}u?zp(n,t,r):l&&zp(n,l,a)}function UO(n){let e=n.domSelectionRange(),t=e.focusNode,r=e.focusOffset;if(!t)return;let l=gc(t),a,u;for(;;)if(r<l){if(t.nodeType!=1)break;let f=t.childNodes[r];if(Qa(f,1))a=t,u=++r;else break}else{if(fS(t))break;{let f=t.nextSibling;for(;f&&Qa(f,1);)a=f.parentNode,u=Mt(f)+1,f=f.nextSibling;if(f)t=f,r=0,l=gc(t);else{if(t=t.parentNode,t==n.dom)break;r=l=0}}}a&&zp(n,a,u)}function fS(n){let e=n.pmViewDesc;return e&&e.node&&e.node.isBlock}function VO(n,e){for(;n&&e==n.childNodes.length&&!To(n);)e=Mt(n)+1,n=n.parentNode;for(;n&&e<n.childNodes.length;){let t=n.childNodes[e];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;n=t,e=0}}function qO(n,e){for(;n&&!e&&!To(n);)e=Mt(n),n=n.parentNode;for(;n&&e;){let t=n.childNodes[e-1];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;n=t,e=n.childNodes.length}}function zp(n,e,t){if(e.nodeType!=3){let a,u;(u=VO(e,t))?(e=u,t=0):(a=qO(e,t))&&(e=a,t=a.nodeValue.length)}let r=n.domSelection();if(!r)return;if(lf(r)){let a=document.createRange();a.setEnd(e,t),a.setStart(e,t),r.removeAllRanges(),r.addRange(a)}else r.extend&&r.extend(e,t);n.domObserver.setCurSelection();let{state:l}=n;setTimeout(()=>{n.state==l&&Ur(n)},50)}function qb(n,e){let t=n.state.doc.resolve(e);if(!(Lt||uO)&&t.parent.inlineContent){let l=n.coordsAtPos(e);if(e>t.start()){let a=n.coordsAtPos(e-1),u=(a.top+a.bottom)/2;if(u>l.top&&u<l.bottom&&Math.abs(a.left-l.left)>1)return a.left<l.left?"ltr":"rtl"}if(e<t.end()){let a=n.coordsAtPos(e+1),u=(a.top+a.bottom)/2;if(u>l.top&&u<l.bottom&&Math.abs(a.left-l.left)>1)return a.left>l.left?"ltr":"rtl"}}return getComputedStyle(n.dom).direction=="rtl"?"rtl":"ltr"}function Pb(n,e,t){let r=n.state.selection;if(r instanceof ge&&!r.empty||t.indexOf("s")>-1||An&&t.indexOf("m")>-1)return!1;let{$from:l,$to:a}=r;if(!l.parent.inlineContent||n.endOfTextblock(e<0?"up":"down")){let u=Lp(n.state,e);if(u&&u instanceof ue)return gi(n,u)}if(!l.parent.inlineContent){let u=e<0?l:a,f=r instanceof hn?be.near(u,e):be.findFrom(u,e);return f?gi(n,f):!1}return!1}function Ib(n,e){if(!(n.state.selection instanceof ge))return!0;let{$head:t,$anchor:r,empty:l}=n.state.selection;if(!t.sameParent(r))return!0;if(!l)return!1;if(n.endOfTextblock(e>0?"forward":"backward"))return!0;let a=!t.textOffset&&(e<0?t.nodeBefore:t.nodeAfter);if(a&&!a.isText){let u=n.state.tr;return e<0?u.delete(t.pos-a.nodeSize,t.pos):u.delete(t.pos,t.pos+a.nodeSize),n.dispatch(u),!0}return!1}function $b(n,e,t){n.domObserver.stop(),e.contentEditable=t,n.domObserver.start()}function PO(n){if(!qt||n.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:t}=n.domSelectionRange();if(e&&e.nodeType==1&&t==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;$b(n,r,"true"),setTimeout(()=>$b(n,r,"false"),20)}return!1}function IO(n){let e="";return n.ctrlKey&&(e+="c"),n.metaKey&&(e+="m"),n.altKey&&(e+="a"),n.shiftKey&&(e+="s"),e}function $O(n,e){let t=e.keyCode,r=IO(e);if(t==8||An&&t==72&&r=="c")return Ib(n,-1)||yl(n,-1);if(t==46&&!e.shiftKey||An&&t==68&&r=="c")return Ib(n,1)||yl(n,1);if(t==13||t==27)return!0;if(t==37||An&&t==66&&r=="c"){let l=t==37?qb(n,n.state.selection.from)=="ltr"?-1:1:-1;return Vb(n,l,r)||yl(n,l)}else if(t==39||An&&t==70&&r=="c"){let l=t==39?qb(n,n.state.selection.from)=="ltr"?1:-1:1;return Vb(n,l,r)||yl(n,l)}else{if(t==38||An&&t==80&&r=="c")return Pb(n,-1,r)||yl(n,-1);if(t==40||An&&t==78&&r=="c")return PO(n)||Pb(n,1,r)||yl(n,1);if(r==(An?"m":"c")&&(t==66||t==73||t==89||t==90))return!0}return!1}function bm(n,e){n.someProp("transformCopied",b=>{e=b(e,n)});let t=[],{content:r,openStart:l,openEnd:a}=e;for(;l>1&&a>1&&r.childCount==1&&r.firstChild.childCount==1;){l--,a--;let b=r.firstChild;t.push(b.type.name,b.attrs!=b.type.defaultAttrs?b.attrs:null),r=b.content}let u=n.someProp("clipboardSerializer")||Es.fromSchema(n.state.schema),f=yS(),d=f.createElement("div");d.appendChild(u.serializeFragment(r,{document:f}));let h=d.firstChild,m,y=0;for(;h&&h.nodeType==1&&(m=gS[h.nodeName.toLowerCase()]);){for(let b=m.length-1;b>=0;b--){let x=f.createElement(m[b]);for(;d.firstChild;)x.appendChild(d.firstChild);d.appendChild(x),y++}h=d.firstChild}h&&h.nodeType==1&&h.setAttribute("data-pm-slice",`${l} ${a}${y?` -${y}`:""} ${JSON.stringify(t)}`);let v=n.someProp("clipboardTextSerializer",b=>b(e,n))||e.content.textBetween(0,e.content.size,`

`);return{dom:d,text:v,slice:e}}function dS(n,e,t,r,l){let a=l.parent.type.spec.code,u,f;if(!t&&!e)return null;let d=e&&(r||a||!t);if(d){if(n.someProp("transformPastedText",v=>{e=v(e,a||r,n)}),a)return e?new ee(G.from(n.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):ee.empty;let y=n.someProp("clipboardTextParser",v=>v(e,l,r,n));if(y)f=y;else{let v=l.marks(),{schema:b}=n.state,x=Es.fromSchema(b);u=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(E=>{let T=u.appendChild(document.createElement("p"));E&&T.appendChild(x.serializeNode(b.text(E,v)))})}}else n.someProp("transformPastedHTML",y=>{t=y(t,n)}),u=FO(t),Co&&XO(u);let h=u&&u.querySelector("[data-pm-slice]"),m=h&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(h.getAttribute("data-pm-slice")||"");if(m&&m[3])for(let y=+m[3];y>0;y--){let v=u.firstChild;for(;v&&v.nodeType!=1;)v=v.nextSibling;if(!v)break;u=v}if(f||(f=(n.someProp("clipboardParser")||n.someProp("domParser")||Ti.fromSchema(n.state.schema)).parseSlice(u,{preserveWhitespace:!!(d||m),context:l,ruleFromNode(v){return v.nodeName=="BR"&&!v.nextSibling&&v.parentNode&&!YO.test(v.parentNode.nodeName)?{ignore:!0}:null}})),m)f=JO(Yb(f,+m[1],+m[2]),m[4]);else if(f=ee.maxOpen(KO(f.content,l),!0),f.openStart||f.openEnd){let y=0,v=0;for(let b=f.content.firstChild;y<f.openStart&&!b.type.spec.isolating;y++,b=b.firstChild);for(let b=f.content.lastChild;v<f.openEnd&&!b.type.spec.isolating;v++,b=b.lastChild);f=Yb(f,y,v)}return n.someProp("transformPasted",y=>{f=y(f,n)}),f}const YO=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function KO(n,e){if(n.childCount<2)return n;for(let t=e.depth;t>=0;t--){let l=e.node(t).contentMatchAt(e.index(t)),a,u=[];if(n.forEach(f=>{if(!u)return;let d=l.findWrapping(f.type),h;if(!d)return u=null;if(h=u.length&&a.length&&pS(d,a,f,u[u.length-1],0))u[u.length-1]=h;else{u.length&&(u[u.length-1]=mS(u[u.length-1],a.length));let m=hS(f,d);u.push(m),l=l.matchType(m.type),a=d}}),u)return G.from(u)}return n}function hS(n,e,t=0){for(let r=e.length-1;r>=t;r--)n=e[r].create(null,G.from(n));return n}function pS(n,e,t,r,l){if(l<n.length&&l<e.length&&n[l]==e[l]){let a=pS(n,e,t,r.lastChild,l+1);if(a)return r.copy(r.content.replaceChild(r.childCount-1,a));if(r.contentMatchAt(r.childCount).matchType(l==n.length-1?t.type:n[l+1]))return r.copy(r.content.append(G.from(hS(t,n,l+1))))}}function mS(n,e){if(e==0)return n;let t=n.content.replaceChild(n.childCount-1,mS(n.lastChild,e-1)),r=n.contentMatchAt(n.childCount).fillBefore(G.empty,!0);return n.copy(t.append(r))}function Bp(n,e,t,r,l,a){let u=e<0?n.firstChild:n.lastChild,f=u.content;return n.childCount>1&&(a=0),l<r-1&&(f=Bp(f,e,t,r,l+1,a)),l>=t&&(f=e<0?u.contentMatchAt(0).fillBefore(f,a<=l).append(f):f.append(u.contentMatchAt(u.childCount).fillBefore(G.empty,!0))),n.replaceChild(e<0?0:n.childCount-1,u.copy(f))}function Yb(n,e,t){return e<n.openStart&&(n=new ee(Bp(n.content,-1,e,n.openStart,0,n.openEnd),e,n.openEnd)),t<n.openEnd&&(n=new ee(Bp(n.content,1,t,n.openEnd,0,0),n.openStart,t)),n}const gS={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let Kb=null;function yS(){return Kb||(Kb=document.implementation.createHTMLDocument("title"))}let Xh=null;function GO(n){let e=window.trustedTypes;return e?(Xh||(Xh=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:t=>t})),Xh.createHTML(n)):n}function FO(n){let e=/^(\s*<meta [^>]*>)*/.exec(n);e&&(n=n.slice(e[0].length));let t=yS().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(n),l;if((l=r&&gS[r[1].toLowerCase()])&&(n=l.map(a=>"<"+a+">").join("")+n+l.map(a=>"</"+a+">").reverse().join("")),t.innerHTML=GO(n),l)for(let a=0;a<l.length;a++)t=t.querySelector(l[a])||t;return t}function XO(n){let e=n.querySelectorAll(Lt?"span:not([class]):not([style])":"span.Apple-converted-space");for(let t=0;t<e.length;t++){let r=e[t];r.childNodes.length==1&&r.textContent==""&&r.parentNode&&r.parentNode.replaceChild(n.ownerDocument.createTextNode(" "),r)}}function JO(n,e){if(!n.size)return n;let t=n.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return n}let{content:l,openStart:a,openEnd:u}=n;for(let f=r.length-2;f>=0;f-=2){let d=t.nodes[r[f]];if(!d||d.hasRequiredAttrs())break;l=G.from(d.create(r[f+1],l)),a++,u++}return new ee(l,a,u)}const Pt={},It={},QO={touchstart:!0,touchmove:!0};class ZO{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function WO(n){for(let e in Pt){let t=Pt[e];n.dom.addEventListener(e,n.input.eventHandlers[e]=r=>{tN(n,r)&&!xm(n,r)&&(n.editable||!(r.type in It))&&t(n,r)},QO[e]?{passive:!0}:void 0)}qt&&n.dom.addEventListener("input",()=>null),Hp(n)}function Ei(n,e){n.input.lastSelectionOrigin=e,n.input.lastSelectionTime=Date.now()}function eN(n){n.domObserver.stop();for(let e in n.input.eventHandlers)n.dom.removeEventListener(e,n.input.eventHandlers[e]);clearTimeout(n.input.composingTimeout),clearTimeout(n.input.lastIOSEnterFallbackTimeout)}function Hp(n){n.someProp("handleDOMEvents",e=>{for(let t in e)n.input.eventHandlers[t]||n.dom.addEventListener(t,n.input.eventHandlers[t]=r=>xm(n,r))})}function xm(n,e){return n.someProp("handleDOMEvents",t=>{let r=t[e.type];return r?r(n,e)||e.defaultPrevented:!1})}function tN(n,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target;t!=n.dom;t=t.parentNode)if(!t||t.nodeType==11||t.pmViewDesc&&t.pmViewDesc.stopEvent(e))return!1;return!0}function nN(n,e){!xm(n,e)&&Pt[e.type]&&(n.editable||!(e.type in It))&&Pt[e.type](n,e)}It.keydown=(n,e)=>{let t=e;if(n.input.shiftKey=t.keyCode==16||t.shiftKey,!bS(n,t)&&(n.input.lastKeyCode=t.keyCode,n.input.lastKeyCodeTime=Date.now(),!(zr&&Lt&&t.keyCode==13)))if(t.keyCode!=229&&n.domObserver.forceFlush(),Nl&&t.keyCode==13&&!t.ctrlKey&&!t.altKey&&!t.metaKey){let r=Date.now();n.input.lastIOSEnter=r,n.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{n.input.lastIOSEnter==r&&(n.someProp("handleKeyDown",l=>l(n,ss(13,"Enter"))),n.input.lastIOSEnter=0)},200)}else n.someProp("handleKeyDown",r=>r(n,t))||$O(n,t)?t.preventDefault():Ei(n,"key")};It.keyup=(n,e)=>{e.keyCode==16&&(n.input.shiftKey=!1)};It.keypress=(n,e)=>{let t=e;if(bS(n,t)||!t.charCode||t.ctrlKey&&!t.altKey||An&&t.metaKey)return;if(n.someProp("handleKeyPress",l=>l(n,t))){t.preventDefault();return}let r=n.state.selection;if(!(r instanceof ge)||!r.$from.sameParent(r.$to)){let l=String.fromCharCode(t.charCode);!/[\r\n]/.test(l)&&!n.someProp("handleTextInput",a=>a(n,r.$from.pos,r.$to.pos,l))&&n.dispatch(n.state.tr.insertText(l).scrollIntoView()),t.preventDefault()}};function of(n){return{left:n.clientX,top:n.clientY}}function rN(n,e){let t=e.x-n.clientX,r=e.y-n.clientY;return t*t+r*r<100}function Sm(n,e,t,r,l){if(r==-1)return!1;let a=n.state.doc.resolve(r);for(let u=a.depth+1;u>0;u--)if(n.someProp(e,f=>u>a.depth?f(n,t,a.nodeAfter,a.before(u),l,!0):f(n,t,a.node(u),a.before(u),l,!1)))return!0;return!1}function Tl(n,e,t){if(n.focused||n.focus(),n.state.selection.eq(e))return;let r=n.state.tr.setSelection(e);r.setMeta("pointer",!0),n.dispatch(r)}function iN(n,e){if(e==-1)return!1;let t=n.state.doc.resolve(e),r=t.nodeAfter;return r&&r.isAtom&&ue.isSelectable(r)?(Tl(n,new ue(t)),!0):!1}function sN(n,e){if(e==-1)return!1;let t=n.state.selection,r,l;t instanceof ue&&(r=t.node);let a=n.state.doc.resolve(e);for(let u=a.depth+1;u>0;u--){let f=u>a.depth?a.nodeAfter:a.node(u);if(ue.isSelectable(f)){r&&t.$from.depth>0&&u>=t.$from.depth&&a.before(t.$from.depth+1)==t.$from.pos?l=a.before(t.$from.depth):l=a.before(u);break}}return l!=null?(Tl(n,ue.create(n.state.doc,l)),!0):!1}function lN(n,e,t,r,l){return Sm(n,"handleClickOn",e,t,r)||n.someProp("handleClick",a=>a(n,e,r))||(l?sN(n,t):iN(n,t))}function aN(n,e,t,r){return Sm(n,"handleDoubleClickOn",e,t,r)||n.someProp("handleDoubleClick",l=>l(n,e,r))}function oN(n,e,t,r){return Sm(n,"handleTripleClickOn",e,t,r)||n.someProp("handleTripleClick",l=>l(n,e,r))||uN(n,t,r)}function uN(n,e,t){if(t.button!=0)return!1;let r=n.state.doc;if(e==-1)return r.inlineContent?(Tl(n,ge.create(r,0,r.content.size)),!0):!1;let l=r.resolve(e);for(let a=l.depth+1;a>0;a--){let u=a>l.depth?l.nodeAfter:l.node(a),f=l.before(a);if(u.inlineContent)Tl(n,ge.create(r,f+1,f+1+u.content.size));else if(ue.isSelectable(u))Tl(n,ue.create(r,f));else continue;return!0}}function wm(n){return yc(n)}const vS=An?"metaKey":"ctrlKey";Pt.mousedown=(n,e)=>{let t=e;n.input.shiftKey=t.shiftKey;let r=wm(n),l=Date.now(),a="singleClick";l-n.input.lastClick.time<500&&rN(t,n.input.lastClick)&&!t[vS]&&(n.input.lastClick.type=="singleClick"?a="doubleClick":n.input.lastClick.type=="doubleClick"&&(a="tripleClick")),n.input.lastClick={time:l,x:t.clientX,y:t.clientY,type:a};let u=n.posAtCoords(of(t));u&&(a=="singleClick"?(n.input.mouseDown&&n.input.mouseDown.done(),n.input.mouseDown=new cN(n,u,t,!!r)):(a=="doubleClick"?aN:oN)(n,u.pos,u.inside,t)?t.preventDefault():Ei(n,"pointer"))};class cN{constructor(e,t,r,l){this.view=e,this.pos=t,this.event=r,this.flushed=l,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[vS],this.allowDefault=r.shiftKey;let a,u;if(t.inside>-1)a=e.state.doc.nodeAt(t.inside),u=t.inside;else{let m=e.state.doc.resolve(t.pos);a=m.parent,u=m.depth?m.before():0}const f=l?null:r.target,d=f?e.docView.nearestDesc(f,!0):null;this.target=d&&d.dom.nodeType==1?d.dom:null;let{selection:h}=e.state;(r.button==0&&a.type.spec.draggable&&a.type.spec.selectable!==!1||h instanceof ue&&h.from<=u&&h.to>u)&&(this.mightDrag={node:a,pos:u,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Yn&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Ei(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Ur(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let t=this.pos;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(of(e))),this.updateAllowDefault(e),this.allowDefault||!t?Ei(this.view,"pointer"):lN(this.view,t.pos,t.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||qt&&this.mightDrag&&!this.mightDrag.node.isAtom||Lt&&!this.view.state.selection.visible&&Math.min(Math.abs(t.pos-this.view.state.selection.from),Math.abs(t.pos-this.view.state.selection.to))<=2)?(Tl(this.view,be.near(this.view.state.doc.resolve(t.pos))),e.preventDefault()):Ei(this.view,"pointer")}move(e){this.updateAllowDefault(e),Ei(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}Pt.touchstart=n=>{n.input.lastTouch=Date.now(),wm(n),Ei(n,"pointer")};Pt.touchmove=n=>{n.input.lastTouch=Date.now(),Ei(n,"pointer")};Pt.contextmenu=n=>wm(n);function bS(n,e){return n.composing?!0:qt&&Math.abs(e.timeStamp-n.input.compositionEndedAt)<500?(n.input.compositionEndedAt=-2e8,!0):!1}const fN=zr?5e3:-1;It.compositionstart=It.compositionupdate=n=>{if(!n.composing){n.domObserver.flush();let{state:e}=n,t=e.selection.$to;if(e.selection instanceof ge&&(e.storedMarks||!t.textOffset&&t.parentOffset&&t.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))n.markCursor=n.state.storedMarks||t.marks(),yc(n,!0),n.markCursor=null;else if(yc(n,!e.selection.empty),Yn&&e.selection.empty&&t.parentOffset&&!t.textOffset&&t.nodeBefore.marks.length){let r=n.domSelectionRange();for(let l=r.focusNode,a=r.focusOffset;l&&l.nodeType==1&&a!=0;){let u=a<0?l.lastChild:l.childNodes[a-1];if(!u)break;if(u.nodeType==3){let f=n.domSelection();f&&f.collapse(u,u.nodeValue.length);break}else l=u,a=-1}}n.input.composing=!0}xS(n,fN)};It.compositionend=(n,e)=>{n.composing&&(n.input.composing=!1,n.input.compositionEndedAt=e.timeStamp,n.input.compositionPendingChanges=n.domObserver.pendingRecords().length?n.input.compositionID:0,n.input.compositionNode=null,n.input.compositionPendingChanges&&Promise.resolve().then(()=>n.domObserver.flush()),n.input.compositionID++,xS(n,20))};function xS(n,e){clearTimeout(n.input.composingTimeout),e>-1&&(n.input.composingTimeout=setTimeout(()=>yc(n),e))}function SS(n){for(n.composing&&(n.input.composing=!1,n.input.compositionEndedAt=hN());n.input.compositionNodes.length>0;)n.input.compositionNodes.pop().markParentsDirty()}function dN(n){let e=n.domSelectionRange();if(!e.focusNode)return null;let t=iO(e.focusNode,e.focusOffset),r=sO(e.focusNode,e.focusOffset);if(t&&r&&t!=r){let l=r.pmViewDesc,a=n.domObserver.lastChangedTextNode;if(t==a||r==a)return a;if(!l||!l.isText(r.nodeValue))return r;if(n.input.compositionNode==r){let u=t.pmViewDesc;if(!(!u||!u.isText(t.nodeValue)))return r}}return t||r}function hN(){let n=document.createEvent("Event");return n.initEvent("event",!0,!0),n.timeStamp}function yc(n,e=!1){if(!(zr&&n.domObserver.flushingSoon>=0)){if(n.domObserver.forceFlush(),SS(n),e||n.docView&&n.docView.dirty){let t=ym(n);return t&&!t.eq(n.state.selection)?n.dispatch(n.state.tr.setSelection(t)):(n.markCursor||e)&&!n.state.selection.empty?n.dispatch(n.state.tr.deleteSelection()):n.updateState(n.state),!0}return!1}}function pN(n,e){if(!n.dom.parentNode)return;let t=n.dom.parentNode.appendChild(document.createElement("div"));t.appendChild(e),t.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),l=document.createRange();l.selectNodeContents(e),n.dom.blur(),r.removeAllRanges(),r.addRange(l),setTimeout(()=>{t.parentNode&&t.parentNode.removeChild(t),n.focus()},50)}const ho=Zt&&Ci<15||Nl&&cO<604;Pt.copy=It.cut=(n,e)=>{let t=e,r=n.state.selection,l=t.type=="cut";if(r.empty)return;let a=ho?null:t.clipboardData,u=r.content(),{dom:f,text:d}=bm(n,u);a?(t.preventDefault(),a.clearData(),a.setData("text/html",f.innerHTML),a.setData("text/plain",d)):pN(n,f),l&&n.dispatch(n.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function mN(n){return n.openStart==0&&n.openEnd==0&&n.content.childCount==1?n.content.firstChild:null}function gN(n,e){if(!n.dom.parentNode)return;let t=n.input.shiftKey||n.state.selection.$from.parent.type.spec.code,r=n.dom.parentNode.appendChild(document.createElement(t?"textarea":"div"));t||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let l=n.input.shiftKey&&n.input.lastKeyCode!=45;setTimeout(()=>{n.focus(),r.parentNode&&r.parentNode.removeChild(r),t?po(n,r.value,null,l,e):po(n,r.textContent,r.innerHTML,l,e)},50)}function po(n,e,t,r,l){let a=dS(n,e,t,r,n.state.selection.$from);if(n.someProp("handlePaste",d=>d(n,l,a||ee.empty)))return!0;if(!a)return!1;let u=mN(a),f=u?n.state.tr.replaceSelectionWith(u,r):n.state.tr.replaceSelection(a);return n.dispatch(f.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function wS(n){let e=n.getData("text/plain")||n.getData("Text");if(e)return e;let t=n.getData("text/uri-list");return t?t.replace(/\r?\n/g," "):""}It.paste=(n,e)=>{let t=e;if(n.composing&&!zr)return;let r=ho?null:t.clipboardData,l=n.input.shiftKey&&n.input.lastKeyCode!=45;r&&po(n,wS(r),r.getData("text/html"),l,t)?t.preventDefault():gN(n,t)};class ES{constructor(e,t,r){this.slice=e,this.move=t,this.node=r}}const yN=An?"altKey":"ctrlKey";function kS(n,e){let t=n.someProp("dragCopies",r=>!r(e));return t??!e[yN]}Pt.dragstart=(n,e)=>{let t=e,r=n.input.mouseDown;if(r&&r.done(),!t.dataTransfer)return;let l=n.state.selection,a=l.empty?null:n.posAtCoords(of(t)),u;if(!(a&&a.pos>=l.from&&a.pos<=(l instanceof ue?l.to-1:l.to))){if(r&&r.mightDrag)u=ue.create(n.state.doc,r.mightDrag.pos);else if(t.target&&t.target.nodeType==1){let y=n.docView.nearestDesc(t.target,!0);y&&y.node.type.spec.draggable&&y!=n.docView&&(u=ue.create(n.state.doc,y.posBefore))}}let f=(u||n.state.selection).content(),{dom:d,text:h,slice:m}=bm(n,f);(!t.dataTransfer.files.length||!Lt||Jx>120)&&t.dataTransfer.clearData(),t.dataTransfer.setData(ho?"Text":"text/html",d.innerHTML),t.dataTransfer.effectAllowed="copyMove",ho||t.dataTransfer.setData("text/plain",h),n.dragging=new ES(m,kS(n,t),u)};Pt.dragend=n=>{let e=n.dragging;window.setTimeout(()=>{n.dragging==e&&(n.dragging=null)},50)};It.dragover=It.dragenter=(n,e)=>e.preventDefault();It.drop=(n,e)=>{let t=e,r=n.dragging;if(n.dragging=null,!t.dataTransfer)return;let l=n.posAtCoords(of(t));if(!l)return;let a=n.state.doc.resolve(l.pos),u=r&&r.slice;u?n.someProp("transformPasted",x=>{u=x(u,n)}):u=dS(n,wS(t.dataTransfer),ho?null:t.dataTransfer.getData("text/html"),!1,a);let f=!!(r&&kS(n,t));if(n.someProp("handleDrop",x=>x(n,t,u||ee.empty,f))){t.preventDefault();return}if(!u)return;t.preventDefault();let d=u?qx(n.state.doc,a.pos,u):a.pos;d==null&&(d=a.pos);let h=n.state.tr;if(f){let{node:x}=r;x?x.replace(h):h.deleteSelection()}let m=h.mapping.map(d),y=u.openStart==0&&u.openEnd==0&&u.content.childCount==1,v=h.doc;if(y?h.replaceRangeWith(m,m,u.content.firstChild):h.replaceRange(m,m,u),h.doc.eq(v))return;let b=h.doc.resolve(m);if(y&&ue.isSelectable(u.content.firstChild)&&b.nodeAfter&&b.nodeAfter.sameMarkup(u.content.firstChild))h.setSelection(new ue(b));else{let x=h.mapping.map(d);h.mapping.maps[h.mapping.maps.length-1].forEach((E,T,C,j)=>x=j),h.setSelection(vm(n,b,h.doc.resolve(x)))}n.focus(),n.dispatch(h.setMeta("uiEvent","drop"))};Pt.focus=n=>{n.input.lastFocus=Date.now(),n.focused||(n.domObserver.stop(),n.dom.classList.add("ProseMirror-focused"),n.domObserver.start(),n.focused=!0,setTimeout(()=>{n.docView&&n.hasFocus()&&!n.domObserver.currentSelection.eq(n.domSelectionRange())&&Ur(n)},20))};Pt.blur=(n,e)=>{let t=e;n.focused&&(n.domObserver.stop(),n.dom.classList.remove("ProseMirror-focused"),n.domObserver.start(),t.relatedTarget&&n.dom.contains(t.relatedTarget)&&n.domObserver.currentSelection.clear(),n.focused=!1)};Pt.beforeinput=(n,e)=>{if(Lt&&zr&&e.inputType=="deleteContentBackward"){n.domObserver.flushSoon();let{domChangeCount:r}=n.input;setTimeout(()=>{if(n.input.domChangeCount!=r||(n.dom.blur(),n.focus(),n.someProp("handleKeyDown",a=>a(n,ss(8,"Backspace")))))return;let{$cursor:l}=n.state.selection;l&&l.pos>0&&n.dispatch(n.state.tr.delete(l.pos-1,l.pos).scrollIntoView())},50)}};for(let n in It)Pt[n]=It[n];function mo(n,e){if(n==e)return!0;for(let t in n)if(n[t]!==e[t])return!1;for(let t in e)if(!(t in n))return!1;return!0}class vc{constructor(e,t){this.toDOM=e,this.spec=t||hs,this.side=this.spec.side||0}map(e,t,r,l){let{pos:a,deleted:u}=e.mapResult(t.from+l,this.side<0?-1:1);return u?null:new Rn(a-r,a-r,this)}valid(){return!0}eq(e){return this==e||e instanceof vc&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&mo(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class Oi{constructor(e,t){this.attrs=e,this.spec=t||hs}map(e,t,r,l){let a=e.map(t.from+l,this.spec.inclusiveStart?-1:1)-r,u=e.map(t.to+l,this.spec.inclusiveEnd?1:-1)-r;return a>=u?null:new Rn(a,u,this)}valid(e,t){return t.from<t.to}eq(e){return this==e||e instanceof Oi&&mo(this.attrs,e.attrs)&&mo(this.spec,e.spec)}static is(e){return e.type instanceof Oi}destroy(){}}class Em{constructor(e,t){this.attrs=e,this.spec=t||hs}map(e,t,r,l){let a=e.mapResult(t.from+l,1);if(a.deleted)return null;let u=e.mapResult(t.to+l,-1);return u.deleted||u.pos<=a.pos?null:new Rn(a.pos-r,u.pos-r,this)}valid(e,t){let{index:r,offset:l}=e.content.findIndex(t.from),a;return l==t.from&&!(a=e.child(r)).isText&&l+a.nodeSize==t.to}eq(e){return this==e||e instanceof Em&&mo(this.attrs,e.attrs)&&mo(this.spec,e.spec)}destroy(){}}class Rn{constructor(e,t,r){this.from=e,this.to=t,this.type=r}copy(e,t){return new Rn(e,t,this.type)}eq(e,t=0){return this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to}map(e,t,r){return this.type.map(e,this,t,r)}static widget(e,t,r){return new Rn(e,e,new vc(t,r))}static inline(e,t,r,l){return new Rn(e,t,new Oi(r,l))}static node(e,t,r,l){return new Rn(e,t,new Em(r,l))}get spec(){return this.type.spec}get inline(){return this.type instanceof Oi}get widget(){return this.type instanceof vc}}const bl=[],hs={};class ot{constructor(e,t){this.local=e.length?e:bl,this.children=t.length?t:bl}static create(e,t){return t.length?bc(t,e,0,hs):jt}find(e,t,r){let l=[];return this.findInner(e??0,t??1e9,l,0,r),l}findInner(e,t,r,l,a){for(let u=0;u<this.local.length;u++){let f=this.local[u];f.from<=t&&f.to>=e&&(!a||a(f.spec))&&r.push(f.copy(f.from+l,f.to+l))}for(let u=0;u<this.children.length;u+=3)if(this.children[u]<t&&this.children[u+1]>e){let f=this.children[u]+1;this.children[u+2].findInner(e-f,t-f,r,l+f,a)}}map(e,t,r){return this==jt||e.maps.length==0?this:this.mapInner(e,t,0,0,r||hs)}mapInner(e,t,r,l,a){let u;for(let f=0;f<this.local.length;f++){let d=this.local[f].map(e,r,l);d&&d.type.valid(t,d)?(u||(u=[])).push(d):a.onRemove&&a.onRemove(this.local[f].spec)}return this.children.length?vN(this.children,u||[],e,t,r,l,a):u?new ot(u.sort(ps),bl):jt}add(e,t){return t.length?this==jt?ot.create(e,t):this.addInner(e,t,0):this}addInner(e,t,r){let l,a=0;e.forEach((f,d)=>{let h=d+r,m;if(m=CS(t,f,h)){for(l||(l=this.children.slice());a<l.length&&l[a]<d;)a+=3;l[a]==d?l[a+2]=l[a+2].addInner(f,m,h+1):l.splice(a,0,d,d+f.nodeSize,bc(m,f,h+1,hs)),a+=3}});let u=TS(a?MS(t):t,-r);for(let f=0;f<u.length;f++)u[f].type.valid(e,u[f])||u.splice(f--,1);return new ot(u.length?this.local.concat(u).sort(ps):this.local,l||this.children)}remove(e){return e.length==0||this==jt?this:this.removeInner(e,0)}removeInner(e,t){let r=this.children,l=this.local;for(let a=0;a<r.length;a+=3){let u,f=r[a]+t,d=r[a+1]+t;for(let m=0,y;m<e.length;m++)(y=e[m])&&y.from>f&&y.to<d&&(e[m]=null,(u||(u=[])).push(y));if(!u)continue;r==this.children&&(r=this.children.slice());let h=r[a+2].removeInner(u,f+1);h!=jt?r[a+2]=h:(r.splice(a,3),a-=3)}if(l.length){for(let a=0,u;a<e.length;a++)if(u=e[a])for(let f=0;f<l.length;f++)l[f].eq(u,t)&&(l==this.local&&(l=this.local.slice()),l.splice(f--,1))}return r==this.children&&l==this.local?this:l.length||r.length?new ot(l,r):jt}forChild(e,t){if(this==jt)return this;if(t.isLeaf)return ot.empty;let r,l;for(let f=0;f<this.children.length;f+=3)if(this.children[f]>=e){this.children[f]==e&&(r=this.children[f+2]);break}let a=e+1,u=a+t.content.size;for(let f=0;f<this.local.length;f++){let d=this.local[f];if(d.from<u&&d.to>a&&d.type instanceof Oi){let h=Math.max(a,d.from)-a,m=Math.min(u,d.to)-a;h<m&&(l||(l=[])).push(d.copy(h,m))}}if(l){let f=new ot(l.sort(ps),bl);return r?new bi([f,r]):f}return r||jt}eq(e){if(this==e)return!0;if(!(e instanceof ot)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let t=0;t<this.local.length;t++)if(!this.local[t].eq(e.local[t]))return!1;for(let t=0;t<this.children.length;t+=3)if(this.children[t]!=e.children[t]||this.children[t+1]!=e.children[t+1]||!this.children[t+2].eq(e.children[t+2]))return!1;return!0}locals(e){return km(this.localsInner(e))}localsInner(e){if(this==jt)return bl;if(e.inlineContent||!this.local.some(Oi.is))return this.local;let t=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof Oi||t.push(this.local[r]);return t}forEachSet(e){e(this)}}ot.empty=new ot([],[]);ot.removeOverlap=km;const jt=ot.empty;class bi{constructor(e){this.members=e}map(e,t){const r=this.members.map(l=>l.map(e,t,hs));return bi.from(r)}forChild(e,t){if(t.isLeaf)return ot.empty;let r=[];for(let l=0;l<this.members.length;l++){let a=this.members[l].forChild(e,t);a!=jt&&(a instanceof bi?r=r.concat(a.members):r.push(a))}return bi.from(r)}eq(e){if(!(e instanceof bi)||e.members.length!=this.members.length)return!1;for(let t=0;t<this.members.length;t++)if(!this.members[t].eq(e.members[t]))return!1;return!0}locals(e){let t,r=!0;for(let l=0;l<this.members.length;l++){let a=this.members[l].localsInner(e);if(a.length)if(!t)t=a;else{r&&(t=t.slice(),r=!1);for(let u=0;u<a.length;u++)t.push(a[u])}}return t?km(r?t:t.sort(ps)):bl}static from(e){switch(e.length){case 0:return jt;case 1:return e[0];default:return new bi(e.every(t=>t instanceof ot)?e:e.reduce((t,r)=>t.concat(r instanceof ot?r:r.members),[]))}}forEachSet(e){for(let t=0;t<this.members.length;t++)this.members[t].forEachSet(e)}}function vN(n,e,t,r,l,a,u){let f=n.slice();for(let h=0,m=a;h<t.maps.length;h++){let y=0;t.maps[h].forEach((v,b,x,E)=>{let T=E-x-(b-v);for(let C=0;C<f.length;C+=3){let j=f[C+1];if(j<0||v>j+m-y)continue;let L=f[C]+m-y;b>=L?f[C+1]=v<=L?-2:-1:v>=m&&T&&(f[C]+=T,f[C+1]+=T)}y+=T}),m=t.maps[h].map(m,-1)}let d=!1;for(let h=0;h<f.length;h+=3)if(f[h+1]<0){if(f[h+1]==-2){d=!0,f[h+1]=-1;continue}let m=t.map(n[h]+a),y=m-l;if(y<0||y>=r.content.size){d=!0;continue}let v=t.map(n[h+1]+a,-1),b=v-l,{index:x,offset:E}=r.content.findIndex(y),T=r.maybeChild(x);if(T&&E==y&&E+T.nodeSize==b){let C=f[h+2].mapInner(t,T,m+1,n[h]+a+1,u);C!=jt?(f[h]=y,f[h+1]=b,f[h+2]=C):(f[h+1]=-2,d=!0)}else d=!0}if(d){let h=bN(f,n,e,t,l,a,u),m=bc(h,r,0,u);e=m.local;for(let y=0;y<f.length;y+=3)f[y+1]<0&&(f.splice(y,3),y-=3);for(let y=0,v=0;y<m.children.length;y+=3){let b=m.children[y];for(;v<f.length&&f[v]<b;)v+=3;f.splice(v,0,m.children[y],m.children[y+1],m.children[y+2])}}return new ot(e.sort(ps),f)}function TS(n,e){if(!e||!n.length)return n;let t=[];for(let r=0;r<n.length;r++){let l=n[r];t.push(new Rn(l.from+e,l.to+e,l.type))}return t}function bN(n,e,t,r,l,a,u){function f(d,h){for(let m=0;m<d.local.length;m++){let y=d.local[m].map(r,l,h);y?t.push(y):u.onRemove&&u.onRemove(d.local[m].spec)}for(let m=0;m<d.children.length;m+=3)f(d.children[m+2],d.children[m]+h+1)}for(let d=0;d<n.length;d+=3)n[d+1]==-1&&f(n[d+2],e[d]+a+1);return t}function CS(n,e,t){if(e.isLeaf)return null;let r=t+e.nodeSize,l=null;for(let a=0,u;a<n.length;a++)(u=n[a])&&u.from>t&&u.to<r&&((l||(l=[])).push(u),n[a]=null);return l}function MS(n){let e=[];for(let t=0;t<n.length;t++)n[t]!=null&&e.push(n[t]);return e}function bc(n,e,t,r){let l=[],a=!1;e.forEach((f,d)=>{let h=CS(n,f,d+t);if(h){a=!0;let m=bc(h,f,t+d+1,r);m!=jt&&l.push(d,d+f.nodeSize,m)}});let u=TS(a?MS(n):n,-t).sort(ps);for(let f=0;f<u.length;f++)u[f].type.valid(e,u[f])||(r.onRemove&&r.onRemove(u[f].spec),u.splice(f--,1));return u.length||l.length?new ot(u,l):jt}function ps(n,e){return n.from-e.from||n.to-e.to}function km(n){let e=n;for(let t=0;t<e.length-1;t++){let r=e[t];if(r.from!=r.to)for(let l=t+1;l<e.length;l++){let a=e[l];if(a.from==r.from){a.to!=r.to&&(e==n&&(e=n.slice()),e[l]=a.copy(a.from,r.to),Gb(e,l+1,a.copy(r.to,a.to)));continue}else{a.from<r.to&&(e==n&&(e=n.slice()),e[t]=r.copy(r.from,a.from),Gb(e,l,r.copy(a.from,r.to)));break}}}return e}function Gb(n,e,t){for(;e<n.length&&ps(t,n[e])>0;)e++;n.splice(e,0,t)}function Jh(n){let e=[];return n.someProp("decorations",t=>{let r=t(n.state);r&&r!=jt&&e.push(r)}),n.cursorWrapper&&e.push(ot.create(n.state.doc,[n.cursorWrapper.deco])),bi.from(e)}const xN={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},SN=Zt&&Ci<=11;class wN{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class EN{constructor(e,t){this.view=e,this.handleDOMChange=t,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new wN,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let l=0;l<r.length;l++)this.queue.push(r[l]);Zt&&Ci<=11&&r.some(l=>l.type=="childList"&&l.removedNodes.length||l.type=="characterData"&&l.oldValue.length>l.target.nodeValue.length)?this.flushSoon():this.flush()}),SN&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,xN)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let t=0;t<e.length;t++)this.queue.push(e[t]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(Ub(this.view)){if(this.suppressingSelectionUpdates)return Ur(this.view);if(Zt&&Ci<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&bs(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let t=new Set,r;for(let a=e.focusNode;a;a=Ol(a))t.add(a);for(let a=e.anchorNode;a;a=Ol(a))if(t.has(a)){r=a;break}let l=r&&this.view.docView.nearestDesc(r);if(l&&l.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let t=this.pendingRecords();t.length&&(this.queue=[]);let r=e.domSelectionRange(),l=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&Ub(e)&&!this.ignoreSelectionChange(r),a=-1,u=-1,f=!1,d=[];if(e.editable)for(let m=0;m<t.length;m++){let y=this.registerMutation(t[m],d);y&&(a=a<0?y.from:Math.min(y.from,a),u=u<0?y.to:Math.max(y.to,u),y.typeOver&&(f=!0))}if(Yn&&d.length){let m=d.filter(y=>y.nodeName=="BR");if(m.length==2){let[y,v]=m;y.parentNode&&y.parentNode.parentNode==v.parentNode?v.remove():y.remove()}else{let{focusNode:y}=this.currentSelection;for(let v of m){let b=v.parentNode;b&&b.nodeName=="LI"&&(!y||CN(e,y)!=b)&&v.remove()}}}let h=null;a<0&&l&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&lf(r)&&(h=ym(e))&&h.eq(be.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,Ur(e),this.currentSelection.set(r),e.scrollToSelection()):(a>-1||l)&&(a>-1&&(e.docView.markDirty(a,u),kN(e)),this.handleDOMChange(a,u,f,d),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||Ur(e),this.currentSelection.set(r))}registerMutation(e,t){if(t.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let m=0;m<e.addedNodes.length;m++){let y=e.addedNodes[m];t.push(y),y.nodeType==3&&(this.lastChangedTextNode=y)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let l=e.previousSibling,a=e.nextSibling;if(Zt&&Ci<=11&&e.addedNodes.length)for(let m=0;m<e.addedNodes.length;m++){let{previousSibling:y,nextSibling:v}=e.addedNodes[m];(!y||Array.prototype.indexOf.call(e.addedNodes,y)<0)&&(l=y),(!v||Array.prototype.indexOf.call(e.addedNodes,v)<0)&&(a=v)}let u=l&&l.parentNode==e.target?Mt(l)+1:0,f=r.localPosFromDOM(e.target,u,-1),d=a&&a.parentNode==e.target?Mt(a):e.target.childNodes.length,h=r.localPosFromDOM(e.target,d,1);return{from:f,to:h}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let Fb=new WeakMap,Xb=!1;function kN(n){if(!Fb.has(n)&&(Fb.set(n,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(n.dom).whiteSpace)!==-1)){if(n.requiresGeckoHackNode=Yn,Xb)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),Xb=!0}}function Jb(n,e){let t=e.startContainer,r=e.startOffset,l=e.endContainer,a=e.endOffset,u=n.domAtPos(n.state.selection.anchor);return bs(u.node,u.offset,l,a)&&([t,r,l,a]=[l,a,t,r]),{anchorNode:t,anchorOffset:r,focusNode:l,focusOffset:a}}function TN(n,e){if(e.getComposedRanges){let l=e.getComposedRanges(n.root)[0];if(l)return Jb(n,l)}let t;function r(l){l.preventDefault(),l.stopImmediatePropagation(),t=l.getTargetRanges()[0]}return n.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),n.dom.removeEventListener("beforeinput",r,!0),t?Jb(n,t):null}function CN(n,e){for(let t=e.parentNode;t&&t!=n.dom;t=t.parentNode){let r=n.docView.nearestDesc(t,!0);if(r&&r.node.isBlock)return t}return null}function MN(n,e,t){let{node:r,fromOffset:l,toOffset:a,from:u,to:f}=n.docView.parseRange(e,t),d=n.domSelectionRange(),h,m=d.anchorNode;if(m&&n.dom.contains(m.nodeType==1?m:m.parentNode)&&(h=[{node:m,offset:d.anchorOffset}],lf(d)||h.push({node:d.focusNode,offset:d.focusOffset})),Lt&&n.input.lastKeyCode===8)for(let T=a;T>l;T--){let C=r.childNodes[T-1],j=C.pmViewDesc;if(C.nodeName=="BR"&&!j){a=T;break}if(!j||j.size)break}let y=n.state.doc,v=n.someProp("domParser")||Ti.fromSchema(n.state.schema),b=y.resolve(u),x=null,E=v.parse(r,{topNode:b.parent,topMatch:b.parent.contentMatchAt(b.index()),topOpen:!0,from:l,to:a,preserveWhitespace:b.parent.type.whitespace=="pre"?"full":!0,findPositions:h,ruleFromNode:ON,context:b});if(h&&h[0].pos!=null){let T=h[0].pos,C=h[1]&&h[1].pos;C==null&&(C=T),x={anchor:T+u,head:C+u}}return{doc:E,sel:x,from:u,to:f}}function ON(n){let e=n.pmViewDesc;if(e)return e.parseRule();if(n.nodeName=="BR"&&n.parentNode){if(qt&&/^(ul|ol)$/i.test(n.parentNode.nodeName)){let t=document.createElement("div");return t.appendChild(document.createElement("li")),{skip:t}}else if(n.parentNode.lastChild==n||qt&&/^(tr|table)$/i.test(n.parentNode.nodeName))return{ignore:!0}}else if(n.nodeName=="IMG"&&n.getAttribute("mark-placeholder"))return{ignore:!0};return null}const NN=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function AN(n,e,t,r,l){let a=n.input.compositionPendingChanges||(n.composing?n.input.compositionID:0);if(n.input.compositionPendingChanges=0,e<0){let J=n.input.lastSelectionTime>Date.now()-50?n.input.lastSelectionOrigin:null,ce=ym(n,J);if(ce&&!n.state.selection.eq(ce)){if(Lt&&zr&&n.input.lastKeyCode===13&&Date.now()-100<n.input.lastKeyCodeTime&&n.someProp("handleKeyDown",me=>me(n,ss(13,"Enter"))))return;let xe=n.state.tr.setSelection(ce);J=="pointer"?xe.setMeta("pointer",!0):J=="key"&&xe.scrollIntoView(),a&&xe.setMeta("composition",a),n.dispatch(xe)}return}let u=n.state.doc.resolve(e),f=u.sharedDepth(t);e=u.before(f+1),t=n.state.doc.resolve(t).after(f+1);let d=n.state.selection,h=MN(n,e,t),m=n.state.doc,y=m.slice(h.from,h.to),v,b;n.input.lastKeyCode===8&&Date.now()-100<n.input.lastKeyCodeTime?(v=n.state.selection.to,b="end"):(v=n.state.selection.from,b="start"),n.input.lastKeyCode=null;let x=jN(y.content,h.doc.content,h.from,v,b);if(x&&n.input.domChangeCount++,(Nl&&n.input.lastIOSEnter>Date.now()-225||zr)&&l.some(J=>J.nodeType==1&&!NN.test(J.nodeName))&&(!x||x.endA>=x.endB)&&n.someProp("handleKeyDown",J=>J(n,ss(13,"Enter")))){n.input.lastIOSEnter=0;return}if(!x)if(r&&d instanceof ge&&!d.empty&&d.$head.sameParent(d.$anchor)&&!n.composing&&!(h.sel&&h.sel.anchor!=h.sel.head))x={start:d.from,endA:d.to,endB:d.to};else{if(h.sel){let J=Qb(n,n.state.doc,h.sel);if(J&&!J.eq(n.state.selection)){let ce=n.state.tr.setSelection(J);a&&ce.setMeta("composition",a),n.dispatch(ce)}}return}n.state.selection.from<n.state.selection.to&&x.start==x.endB&&n.state.selection instanceof ge&&(x.start>n.state.selection.from&&x.start<=n.state.selection.from+2&&n.state.selection.from>=h.from?x.start=n.state.selection.from:x.endA<n.state.selection.to&&x.endA>=n.state.selection.to-2&&n.state.selection.to<=h.to&&(x.endB+=n.state.selection.to-x.endA,x.endA=n.state.selection.to)),Zt&&Ci<=11&&x.endB==x.start+1&&x.endA==x.start&&x.start>h.from&&h.doc.textBetween(x.start-h.from-1,x.start-h.from+1)==" "&&(x.start--,x.endA--,x.endB--);let E=h.doc.resolveNoCache(x.start-h.from),T=h.doc.resolveNoCache(x.endB-h.from),C=m.resolve(x.start),j=E.sameParent(T)&&E.parent.inlineContent&&C.end()>=x.endA,L;if((Nl&&n.input.lastIOSEnter>Date.now()-225&&(!j||l.some(J=>J.nodeName=="DIV"||J.nodeName=="P"))||!j&&E.pos<h.doc.content.size&&(!E.sameParent(T)||!E.parent.inlineContent)&&!/\S/.test(h.doc.textBetween(E.pos,T.pos,"",""))&&(L=be.findFrom(h.doc.resolve(E.pos+1),1,!0))&&L.head>E.pos)&&n.someProp("handleKeyDown",J=>J(n,ss(13,"Enter")))){n.input.lastIOSEnter=0;return}if(n.state.selection.anchor>x.start&&RN(m,x.start,x.endA,E,T)&&n.someProp("handleKeyDown",J=>J(n,ss(8,"Backspace")))){zr&&Lt&&n.domObserver.suppressSelectionUpdates();return}Lt&&x.endB==x.start&&(n.input.lastChromeDelete=Date.now()),zr&&!j&&E.start()!=T.start()&&T.parentOffset==0&&E.depth==T.depth&&h.sel&&h.sel.anchor==h.sel.head&&h.sel.head==x.endA&&(x.endB-=2,T=h.doc.resolveNoCache(x.endB-h.from),setTimeout(()=>{n.someProp("handleKeyDown",function(J){return J(n,ss(13,"Enter"))})},20));let M=x.start,_=x.endA,q,Q,se;if(j){if(E.pos==T.pos)Zt&&Ci<=11&&E.parentOffset==0&&(n.domObserver.suppressSelectionUpdates(),setTimeout(()=>Ur(n),20)),q=n.state.tr.delete(M,_),Q=m.resolve(x.start).marksAcross(m.resolve(x.endA));else if(x.endA==x.endB&&(se=DN(E.parent.content.cut(E.parentOffset,T.parentOffset),C.parent.content.cut(C.parentOffset,x.endA-C.start()))))q=n.state.tr,se.type=="add"?q.addMark(M,_,se.mark):q.removeMark(M,_,se.mark);else if(E.parent.child(E.index()).isText&&E.index()==T.index()-(T.textOffset?0:1)){let J=E.parent.textBetween(E.parentOffset,T.parentOffset);if(n.someProp("handleTextInput",ce=>ce(n,M,_,J)))return;q=n.state.tr.insertText(J,M,_)}}if(q||(q=n.state.tr.replace(M,_,h.doc.slice(x.start-h.from,x.endB-h.from))),h.sel){let J=Qb(n,q.doc,h.sel);J&&!(Lt&&n.composing&&J.empty&&(x.start!=x.endB||n.input.lastChromeDelete<Date.now()-100)&&(J.head==M||J.head==q.mapping.map(_)-1)||Zt&&J.empty&&J.head==M)&&q.setSelection(J)}Q&&q.ensureMarks(Q),a&&q.setMeta("composition",a),n.dispatch(q.scrollIntoView())}function Qb(n,e,t){return Math.max(t.anchor,t.head)>e.content.size?null:vm(n,e.resolve(t.anchor),e.resolve(t.head))}function DN(n,e){let t=n.firstChild.marks,r=e.firstChild.marks,l=t,a=r,u,f,d;for(let m=0;m<r.length;m++)l=r[m].removeFromSet(l);for(let m=0;m<t.length;m++)a=t[m].removeFromSet(a);if(l.length==1&&a.length==0)f=l[0],u="add",d=m=>m.mark(f.addToSet(m.marks));else if(l.length==0&&a.length==1)f=a[0],u="remove",d=m=>m.mark(f.removeFromSet(m.marks));else return null;let h=[];for(let m=0;m<e.childCount;m++)h.push(d(e.child(m)));if(G.from(h).eq(n))return{mark:f,type:u}}function RN(n,e,t,r,l){if(t-e<=l.pos-r.pos||Qh(r,!0,!1)<l.pos)return!1;let a=n.resolve(e);if(!r.parent.isTextblock){let f=a.nodeAfter;return f!=null&&t==e+f.nodeSize}if(a.parentOffset<a.parent.content.size||!a.parent.isTextblock)return!1;let u=n.resolve(Qh(a,!0,!0));return!u.parent.isTextblock||u.pos>t||Qh(u,!0,!1)<t?!1:r.parent.content.cut(r.parentOffset).eq(u.parent.content)}function Qh(n,e,t){let r=n.depth,l=e?n.end():n.pos;for(;r>0&&(e||n.indexAfter(r)==n.node(r).childCount);)r--,l++,e=!1;if(t){let a=n.node(r).maybeChild(n.indexAfter(r));for(;a&&!a.isLeaf;)a=a.firstChild,l++}return l}function jN(n,e,t,r,l){let a=n.findDiffStart(e,t);if(a==null)return null;let{a:u,b:f}=n.findDiffEnd(e,t+n.size,t+e.size);if(l=="end"){let d=Math.max(0,a-Math.min(u,f));r-=u+d-a}if(u<a&&n.size<e.size){let d=r<=a&&r>=u?a-r:0;a-=d,a&&a<e.size&&Zb(e.textBetween(a-1,a+1))&&(a+=d?1:-1),f=a+(f-u),u=a}else if(f<a){let d=r<=a&&r>=f?a-r:0;a-=d,a&&a<n.size&&Zb(n.textBetween(a-1,a+1))&&(a+=d?1:-1),u=a+(u-f),f=a}return{start:a,endA:u,endB:f}}function Zb(n){if(n.length!=2)return!1;let e=n.charCodeAt(0),t=n.charCodeAt(1);return e>=56320&&e<=57343&&t>=55296&&t<=56319}class LN{constructor(e,t){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new ZO,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=t,this.state=t.state,this.directPlugins=t.plugins||[],this.directPlugins.forEach(r1),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=t1(this),e1(this),this.nodeViews=n1(this),this.docView=jb(this.state.doc,Wb(this),Jh(this),this.dom,this),this.domObserver=new EN(this,(r,l,a,u)=>AN(this,r,l,a,u)),this.domObserver.start(),WO(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let t in e)this._props[t]=e[t];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&Hp(this);let t=this._props;this._props=e,e.plugins&&(e.plugins.forEach(r1),this.directPlugins=e.plugins),this.updateStateInner(e.state,t)}setProps(e){let t={};for(let r in this._props)t[r]=this._props[r];t.state=this.state;for(let r in e)t[r]=e[r];this.update(t)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,t){var r;let l=this.state,a=!1,u=!1;e.storedMarks&&this.composing&&(SS(this),u=!0),this.state=e;let f=l.plugins!=e.plugins||this._props.plugins!=t.plugins;if(f||this._props.plugins!=t.plugins||this._props.nodeViews!=t.nodeViews){let b=n1(this);BN(b,this.nodeViews)&&(this.nodeViews=b,a=!0)}(f||t.handleDOMEvents!=this._props.handleDOMEvents)&&Hp(this),this.editable=t1(this),e1(this);let d=Jh(this),h=Wb(this),m=l.plugins!=e.plugins&&!l.doc.eq(e.doc)?"reset":e.scrollToSelection>l.scrollToSelection?"to selection":"preserve",y=a||!this.docView.matchesNode(e.doc,h,d);(y||!e.selection.eq(l.selection))&&(u=!0);let v=m=="preserve"&&u&&this.dom.style.overflowAnchor==null&&hO(this);if(u){this.domObserver.stop();let b=y&&(Zt||Lt)&&!this.composing&&!l.selection.empty&&!e.selection.empty&&zN(l.selection,e.selection);if(y){let x=Lt?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=dN(this)),(a||!this.docView.update(e.doc,h,d,this))&&(this.docView.updateOuterDeco(h),this.docView.destroy(),this.docView=jb(e.doc,h,d,this.dom,this)),x&&!this.trackWrites&&(b=!0)}b||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&HO(this))?Ur(this,b):(uS(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(l),!((r=this.dragging)===null||r===void 0)&&r.node&&!l.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,l),m=="reset"?this.dom.scrollTop=0:m=="to selection"?this.scrollToSelection():v&&pO(v)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",t=>t(this)))if(this.state.selection instanceof ue){let t=this.docView.domAfterPos(this.state.selection.from);t.nodeType==1&&Mb(this,t.getBoundingClientRect(),e)}else Mb(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let t=0;t<this.directPlugins.length;t++){let r=this.directPlugins[t];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let t=0;t<this.state.plugins.length;t++){let r=this.state.plugins[t];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let t=0;t<this.pluginViews.length;t++){let r=this.pluginViews[t];r.update&&r.update(this,e)}}updateDraggedNode(e,t){let r=e.node,l=-1;if(this.state.doc.nodeAt(r.from)==r.node)l=r.from;else{let a=r.from+(this.state.doc.content.size-t.doc.content.size);(a>0&&this.state.doc.nodeAt(a))==r.node&&(l=a)}this.dragging=new ES(e.slice,e.move,l<0?void 0:ue.create(this.state.doc,l))}someProp(e,t){let r=this._props&&this._props[e],l;if(r!=null&&(l=t?t(r):r))return l;for(let u=0;u<this.directPlugins.length;u++){let f=this.directPlugins[u].props[e];if(f!=null&&(l=t?t(f):f))return l}let a=this.state.plugins;if(a)for(let u=0;u<a.length;u++){let f=a[u].props[e];if(f!=null&&(l=t?t(f):f))return l}}hasFocus(){if(Zt){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&mO(this.dom),Ur(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let t=this.dom.parentNode;t;t=t.parentNode)if(t.nodeType==9||t.nodeType==11&&t.host)return t.getSelection||(Object.getPrototypeOf(t).getSelection=()=>t.ownerDocument.getSelection()),this._root=t}return e||document}updateRoot(){this._root=null}posAtCoords(e){return xO(this,e)}coordsAtPos(e,t=1){return tS(this,e,t)}domAtPos(e,t=0){return this.docView.domFromPos(e,t)}nodeDOM(e){let t=this.docView.descAt(e);return t?t.nodeDOM:null}posAtDOM(e,t,r=-1){let l=this.docView.posFromDOM(e,t,r);if(l==null)throw new RangeError("DOM position not inside the editor");return l}endOfTextblock(e,t){return TO(this,t||this.state,e)}pasteHTML(e,t){return po(this,"",e,!1,t||new ClipboardEvent("paste"))}pasteText(e,t){return po(this,e,null,!0,t||new ClipboardEvent("paste"))}serializeForClipboard(e){return bm(this,e)}destroy(){this.docView&&(eN(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Jh(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,nO())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return nN(this,e)}dispatch(e){let t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){let e=this.domSelection();return e?qt&&this.root.nodeType===11&&aO(this.dom.ownerDocument)==this.dom&&TN(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}function Wb(n){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(n.editable),n.someProp("attributes",t=>{if(typeof t=="function"&&(t=t(n.state)),t)for(let r in t)r=="class"?e.class+=" "+t[r]:r=="style"?e.style=(e.style?e.style+";":"")+t[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(t[r]))}),e.translate||(e.translate="no"),[Rn.node(0,n.state.doc.content.size,e)]}function e1(n){if(n.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),n.cursorWrapper={dom:e,deco:Rn.widget(n.state.selection.from,e,{raw:!0,marks:n.markCursor})}}else n.cursorWrapper=null}function t1(n){return!n.someProp("editable",e=>e(n.state)===!1)}function zN(n,e){let t=Math.min(n.$anchor.sharedDepth(n.head),e.$anchor.sharedDepth(e.head));return n.$anchor.start(t)!=e.$anchor.start(t)}function n1(n){let e=Object.create(null);function t(r){for(let l in r)Object.prototype.hasOwnProperty.call(e,l)||(e[l]=r[l])}return n.someProp("nodeViews",t),n.someProp("markViews",t),e}function BN(n,e){let t=0,r=0;for(let l in n){if(n[l]!=e[l])return!0;t++}for(let l in e)r++;return t!=r}function r1(n){if(n.spec.state||n.spec.filterTransaction||n.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var Ni={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},xc={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},HN=typeof navigator<"u"&&/Mac/.test(navigator.platform),_N=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Ot=0;Ot<10;Ot++)Ni[48+Ot]=Ni[96+Ot]=String(Ot);for(var Ot=1;Ot<=24;Ot++)Ni[Ot+111]="F"+Ot;for(var Ot=65;Ot<=90;Ot++)Ni[Ot]=String.fromCharCode(Ot+32),xc[Ot]=String.fromCharCode(Ot);for(var Zh in Ni)xc.hasOwnProperty(Zh)||(xc[Zh]=Ni[Zh]);function UN(n){var e=HN&&n.metaKey&&n.shiftKey&&!n.ctrlKey&&!n.altKey||_N&&n.shiftKey&&n.key&&n.key.length==1||n.key=="Unidentified",t=!e&&n.key||(n.shiftKey?xc:Ni)[n.keyCode]||n.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}const VN=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),qN=typeof navigator<"u"&&/Win/.test(navigator.platform);function PN(n){let e=n.split(/-(?!$)/),t=e[e.length-1];t=="Space"&&(t=" ");let r,l,a,u;for(let f=0;f<e.length-1;f++){let d=e[f];if(/^(cmd|meta|m)$/i.test(d))u=!0;else if(/^a(lt)?$/i.test(d))r=!0;else if(/^(c|ctrl|control)$/i.test(d))l=!0;else if(/^s(hift)?$/i.test(d))a=!0;else if(/^mod$/i.test(d))VN?u=!0:l=!0;else throw new Error("Unrecognized modifier name: "+d)}return r&&(t="Alt-"+t),l&&(t="Ctrl-"+t),u&&(t="Meta-"+t),a&&(t="Shift-"+t),t}function IN(n){let e=Object.create(null);for(let t in n)e[PN(t)]=n[t];return e}function Wh(n,e,t=!0){return e.altKey&&(n="Alt-"+n),e.ctrlKey&&(n="Ctrl-"+n),e.metaKey&&(n="Meta-"+n),t&&e.shiftKey&&(n="Shift-"+n),n}function $N(n){return new St({props:{handleKeyDown:OS(n)}})}function OS(n){let e=IN(n);return function(t,r){let l=UN(r),a,u=e[Wh(l,r)];if(u&&u(t.state,t.dispatch,t))return!0;if(l.length==1&&l!=" "){if(r.shiftKey){let f=e[Wh(l,r,!1)];if(f&&f(t.state,t.dispatch,t))return!0}if((r.altKey||r.metaKey||r.ctrlKey)&&!(qN&&r.ctrlKey&&r.altKey)&&(a=Ni[r.keyCode])&&a!=l){let f=e[Wh(a,r)];if(f&&f(t.state,t.dispatch,t))return!0}}return!1}}const Tm=(n,e)=>n.selection.empty?!1:(e&&e(n.tr.deleteSelection().scrollIntoView()),!0);function NS(n,e){let{$cursor:t}=n.selection;return!t||(e?!e.endOfTextblock("backward",n):t.parentOffset>0)?null:t}const AS=(n,e,t)=>{let r=NS(n,t);if(!r)return!1;let l=Cm(r);if(!l){let u=r.blockRange(),f=u&&ql(u);return f==null?!1:(e&&e(n.tr.lift(u,f).scrollIntoView()),!0)}let a=l.nodeBefore;if(US(n,l,e,-1))return!0;if(r.parent.content.size==0&&(Al(a,"end")||ue.isSelectable(a)))for(let u=r.depth;;u--){let f=rf(n.doc,r.before(u),r.after(u),ee.empty);if(f&&f.slice.size<f.to-f.from){if(e){let d=n.tr.step(f);d.setSelection(Al(a,"end")?be.findFrom(d.doc.resolve(d.mapping.map(l.pos,-1)),-1):ue.create(d.doc,l.pos-a.nodeSize)),e(d.scrollIntoView())}return!0}if(u==1||r.node(u-1).childCount>1)break}return a.isAtom&&l.depth==r.depth-1?(e&&e(n.tr.delete(l.pos-a.nodeSize,l.pos).scrollIntoView()),!0):!1},YN=(n,e,t)=>{let r=NS(n,t);if(!r)return!1;let l=Cm(r);return l?DS(n,l,e):!1},KN=(n,e,t)=>{let r=jS(n,t);if(!r)return!1;let l=Mm(r);return l?DS(n,l,e):!1};function DS(n,e,t){let r=e.nodeBefore,l=r,a=e.pos-1;for(;!l.isTextblock;a--){if(l.type.spec.isolating)return!1;let m=l.lastChild;if(!m)return!1;l=m}let u=e.nodeAfter,f=u,d=e.pos+1;for(;!f.isTextblock;d++){if(f.type.spec.isolating)return!1;let m=f.firstChild;if(!m)return!1;f=m}let h=rf(n.doc,a,d,ee.empty);if(!h||h.from!=a||h instanceof gt&&h.slice.size>=d-a)return!1;if(t){let m=n.tr.step(h);m.setSelection(ge.create(m.doc,a)),t(m.scrollIntoView())}return!0}function Al(n,e,t=!1){for(let r=n;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(t&&r.childCount!=1)return!1}return!1}const RS=(n,e,t)=>{let{$head:r,empty:l}=n.selection,a=r;if(!l)return!1;if(r.parent.isTextblock){if(t?!t.endOfTextblock("backward",n):r.parentOffset>0)return!1;a=Cm(r)}let u=a&&a.nodeBefore;return!u||!ue.isSelectable(u)?!1:(e&&e(n.tr.setSelection(ue.create(n.doc,a.pos-u.nodeSize)).scrollIntoView()),!0)};function Cm(n){if(!n.parent.type.spec.isolating)for(let e=n.depth-1;e>=0;e--){if(n.index(e)>0)return n.doc.resolve(n.before(e+1));if(n.node(e).type.spec.isolating)break}return null}function jS(n,e){let{$cursor:t}=n.selection;return!t||(e?!e.endOfTextblock("forward",n):t.parentOffset<t.parent.content.size)?null:t}const LS=(n,e,t)=>{let r=jS(n,t);if(!r)return!1;let l=Mm(r);if(!l)return!1;let a=l.nodeAfter;if(US(n,l,e,1))return!0;if(r.parent.content.size==0&&(Al(a,"start")||ue.isSelectable(a))){let u=rf(n.doc,r.before(),r.after(),ee.empty);if(u&&u.slice.size<u.to-u.from){if(e){let f=n.tr.step(u);f.setSelection(Al(a,"start")?be.findFrom(f.doc.resolve(f.mapping.map(l.pos)),1):ue.create(f.doc,f.mapping.map(l.pos))),e(f.scrollIntoView())}return!0}}return a.isAtom&&l.depth==r.depth-1?(e&&e(n.tr.delete(l.pos,l.pos+a.nodeSize).scrollIntoView()),!0):!1},zS=(n,e,t)=>{let{$head:r,empty:l}=n.selection,a=r;if(!l)return!1;if(r.parent.isTextblock){if(t?!t.endOfTextblock("forward",n):r.parentOffset<r.parent.content.size)return!1;a=Mm(r)}let u=a&&a.nodeAfter;return!u||!ue.isSelectable(u)?!1:(e&&e(n.tr.setSelection(ue.create(n.doc,a.pos)).scrollIntoView()),!0)};function Mm(n){if(!n.parent.type.spec.isolating)for(let e=n.depth-1;e>=0;e--){let t=n.node(e);if(n.index(e)+1<t.childCount)return n.doc.resolve(n.after(e+1));if(t.type.spec.isolating)break}return null}const GN=(n,e)=>{let t=n.selection,r=t instanceof ue,l;if(r){if(t.node.isTextblock||!Di(n.doc,t.from))return!1;l=t.from}else if(l=nf(n.doc,t.from,-1),l==null)return!1;if(e){let a=n.tr.join(l);r&&a.setSelection(ue.create(a.doc,l-n.doc.resolve(l).nodeBefore.nodeSize)),e(a.scrollIntoView())}return!0},FN=(n,e)=>{let t=n.selection,r;if(t instanceof ue){if(t.node.isTextblock||!Di(n.doc,t.to))return!1;r=t.to}else if(r=nf(n.doc,t.to,1),r==null)return!1;return e&&e(n.tr.join(r).scrollIntoView()),!0},XN=(n,e)=>{let{$from:t,$to:r}=n.selection,l=t.blockRange(r),a=l&&ql(l);return a==null?!1:(e&&e(n.tr.lift(l,a).scrollIntoView()),!0)},BS=(n,e)=>{let{$head:t,$anchor:r}=n.selection;return!t.parent.type.spec.code||!t.sameParent(r)?!1:(e&&e(n.tr.insertText(`
`).scrollIntoView()),!0)};function Om(n){for(let e=0;e<n.edgeCount;e++){let{type:t}=n.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}const JN=(n,e)=>{let{$head:t,$anchor:r}=n.selection;if(!t.parent.type.spec.code||!t.sameParent(r))return!1;let l=t.node(-1),a=t.indexAfter(-1),u=Om(l.contentMatchAt(a));if(!u||!l.canReplaceWith(a,a,u))return!1;if(e){let f=t.after(),d=n.tr.replaceWith(f,f,u.createAndFill());d.setSelection(be.near(d.doc.resolve(f),1)),e(d.scrollIntoView())}return!0},HS=(n,e)=>{let t=n.selection,{$from:r,$to:l}=t;if(t instanceof hn||r.parent.inlineContent||l.parent.inlineContent)return!1;let a=Om(l.parent.contentMatchAt(l.indexAfter()));if(!a||!a.isTextblock)return!1;if(e){let u=(!r.parentOffset&&l.index()<l.parent.childCount?r:l).pos,f=n.tr.insert(u,a.createAndFill());f.setSelection(ge.create(f.doc,u+1)),e(f.scrollIntoView())}return!0},_S=(n,e)=>{let{$cursor:t}=n.selection;if(!t||t.parent.content.size)return!1;if(t.depth>1&&t.after()!=t.end(-1)){let a=t.before();if(_r(n.doc,a))return e&&e(n.tr.split(a).scrollIntoView()),!0}let r=t.blockRange(),l=r&&ql(r);return l==null?!1:(e&&e(n.tr.lift(r,l).scrollIntoView()),!0)};function QN(n){return(e,t)=>{let{$from:r,$to:l}=e.selection;if(e.selection instanceof ue&&e.selection.node.isBlock)return!r.parentOffset||!_r(e.doc,r.pos)?!1:(t&&t(e.tr.split(r.pos).scrollIntoView()),!0);if(!r.depth)return!1;let a=[],u,f,d=!1,h=!1;for(let b=r.depth;;b--)if(r.node(b).isBlock){d=r.end(b)==r.pos+(r.depth-b),h=r.start(b)==r.pos-(r.depth-b),f=Om(r.node(b-1).contentMatchAt(r.indexAfter(b-1))),a.unshift(d&&f?{type:f}:null),u=b;break}else{if(b==1)return!1;a.unshift(null)}let m=e.tr;(e.selection instanceof ge||e.selection instanceof hn)&&m.deleteSelection();let y=m.mapping.map(r.pos),v=_r(m.doc,y,a.length,a);if(v||(a[0]=f?{type:f}:null,v=_r(m.doc,y,a.length,a)),!v)return!1;if(m.split(y,a.length,a),!d&&h&&r.node(u).type!=f){let b=m.mapping.map(r.before(u)),x=m.doc.resolve(b);f&&r.node(u-1).canReplaceWith(x.index(),x.index()+1,f)&&m.setNodeMarkup(m.mapping.map(r.before(u)),f)}return t&&t(m.scrollIntoView()),!0}}const ZN=QN(),WN=(n,e)=>{let{$from:t,to:r}=n.selection,l,a=t.sharedDepth(r);return a==0?!1:(l=t.before(a),e&&e(n.tr.setSelection(ue.create(n.doc,l))),!0)};function eA(n,e,t){let r=e.nodeBefore,l=e.nodeAfter,a=e.index();return!r||!l||!r.type.compatibleContent(l.type)?!1:!r.content.size&&e.parent.canReplace(a-1,a)?(t&&t(n.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(a,a+1)||!(l.isTextblock||Di(n.doc,e.pos))?!1:(t&&t(n.tr.join(e.pos).scrollIntoView()),!0)}function US(n,e,t,r){let l=e.nodeBefore,a=e.nodeAfter,u,f,d=l.type.spec.isolating||a.type.spec.isolating;if(!d&&eA(n,e,t))return!0;let h=!d&&e.parent.canReplace(e.index(),e.index()+1);if(h&&(u=(f=l.contentMatchAt(l.childCount)).findWrapping(a.type))&&f.matchType(u[0]||a.type).validEnd){if(t){let b=e.pos+a.nodeSize,x=G.empty;for(let C=u.length-1;C>=0;C--)x=G.from(u[C].create(null,x));x=G.from(l.copy(x));let E=n.tr.step(new yt(e.pos-1,b,e.pos,b,new ee(x,1,0),u.length,!0)),T=E.doc.resolve(b+2*u.length);T.nodeAfter&&T.nodeAfter.type==l.type&&Di(E.doc,T.pos)&&E.join(T.pos),t(E.scrollIntoView())}return!0}let m=a.type.spec.isolating||r>0&&d?null:be.findFrom(e,1),y=m&&m.$from.blockRange(m.$to),v=y&&ql(y);if(v!=null&&v>=e.depth)return t&&t(n.tr.lift(y,v).scrollIntoView()),!0;if(h&&Al(a,"start",!0)&&Al(l,"end")){let b=l,x=[];for(;x.push(b),!b.isTextblock;)b=b.lastChild;let E=a,T=1;for(;!E.isTextblock;E=E.firstChild)T++;if(b.canReplace(b.childCount,b.childCount,E.content)){if(t){let C=G.empty;for(let L=x.length-1;L>=0;L--)C=G.from(x[L].copy(C));let j=n.tr.step(new yt(e.pos-x.length,e.pos+a.nodeSize,e.pos+T,e.pos+a.nodeSize-T,new ee(C,x.length,0),0,!0));t(j.scrollIntoView())}return!0}}return!1}function VS(n){return function(e,t){let r=e.selection,l=n<0?r.$from:r.$to,a=l.depth;for(;l.node(a).isInline;){if(!a)return!1;a--}return l.node(a).isTextblock?(t&&t(e.tr.setSelection(ge.create(e.doc,n<0?l.start(a):l.end(a)))),!0):!1}}const tA=VS(-1),nA=VS(1);function rA(n,e=null){return function(t,r){let{$from:l,$to:a}=t.selection,u=l.blockRange(a),f=u&&pm(u,n,e);return f?(r&&r(t.tr.wrap(u,f).scrollIntoView()),!0):!1}}function i1(n,e=null){return function(t,r){let l=!1;for(let a=0;a<t.selection.ranges.length&&!l;a++){let{$from:{pos:u},$to:{pos:f}}=t.selection.ranges[a];t.doc.nodesBetween(u,f,(d,h)=>{if(l)return!1;if(!(!d.isTextblock||d.hasMarkup(n,e)))if(d.type==n)l=!0;else{let m=t.doc.resolve(h),y=m.index();l=m.parent.canReplaceWith(y,y+1,n)}})}if(!l)return!1;if(r){let a=t.tr;for(let u=0;u<t.selection.ranges.length;u++){let{$from:{pos:f},$to:{pos:d}}=t.selection.ranges[u];a.setBlockType(f,d,n,e)}r(a.scrollIntoView())}return!0}}function Nm(...n){return function(e,t,r){for(let l=0;l<n.length;l++)if(n[l](e,t,r))return!0;return!1}}Nm(Tm,AS,RS);Nm(Tm,LS,zS);Nm(BS,HS,_S,ZN);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function iA(n,e=null){return function(t,r){let{$from:l,$to:a}=t.selection,u=l.blockRange(a);if(!u)return!1;let f=r?t.tr:null;return sA(f,u,n,e)?(r&&r(f.scrollIntoView()),!0):!1}}function sA(n,e,t,r=null){let l=!1,a=e,u=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(t)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let d=u.resolve(e.start-2);a=new hc(d,d,e.depth),e.endIndex<e.parent.childCount&&(e=new hc(e.$from,u.resolve(e.$to.end(e.depth)),e.depth)),l=!0}let f=pm(a,t,r,e);return f?(n&&lA(n,e,f,l,t),!0):!1}function lA(n,e,t,r,l){let a=G.empty;for(let m=t.length-1;m>=0;m--)a=G.from(t[m].type.create(t[m].attrs,a));n.step(new yt(e.start-(r?2:0),e.end,e.start,e.end,new ee(a,0,0),t.length,!0));let u=0;for(let m=0;m<t.length;m++)t[m].type==l&&(u=m+1);let f=t.length-u,d=e.start+t.length-(r?2:0),h=e.parent;for(let m=e.startIndex,y=e.endIndex,v=!0;m<y;m++,v=!1)!v&&_r(n.doc,d,f)&&(n.split(d,f),d+=2*f),d+=h.child(m).nodeSize;return n}function aA(n){return function(e,t){let{$from:r,$to:l}=e.selection,a=r.blockRange(l,u=>u.childCount>0&&u.firstChild.type==n);return a?t?r.node(a.depth-1).type==n?oA(e,t,n,a):uA(e,t,a):!0:!1}}function oA(n,e,t,r){let l=n.tr,a=r.end,u=r.$to.end(r.depth);a<u&&(l.step(new yt(a-1,u,a,u,new ee(G.from(t.create(null,r.parent.copy())),1,0),1,!0)),r=new hc(l.doc.resolve(r.$from.pos),l.doc.resolve(u),r.depth));const f=ql(r);if(f==null)return!1;l.lift(r,f);let d=l.doc.resolve(l.mapping.map(a,-1)-1);return Di(l.doc,d.pos)&&d.nodeBefore.type==d.nodeAfter.type&&l.join(d.pos),e(l.scrollIntoView()),!0}function uA(n,e,t){let r=n.tr,l=t.parent;for(let b=t.end,x=t.endIndex-1,E=t.startIndex;x>E;x--)b-=l.child(x).nodeSize,r.delete(b-1,b+1);let a=r.doc.resolve(t.start),u=a.nodeAfter;if(r.mapping.map(t.end)!=t.start+a.nodeAfter.nodeSize)return!1;let f=t.startIndex==0,d=t.endIndex==l.childCount,h=a.node(-1),m=a.index(-1);if(!h.canReplace(m+(f?0:1),m+1,u.content.append(d?G.empty:G.from(l))))return!1;let y=a.pos,v=y+u.nodeSize;return r.step(new yt(y-(f?1:0),v+(d?1:0),y+1,v-1,new ee((f?G.empty:G.from(l.copy(G.empty))).append(d?G.empty:G.from(l.copy(G.empty))),f?0:1,d?0:1),f?0:1)),e(r.scrollIntoView()),!0}function cA(n){return function(e,t){let{$from:r,$to:l}=e.selection,a=r.blockRange(l,h=>h.childCount>0&&h.firstChild.type==n);if(!a)return!1;let u=a.startIndex;if(u==0)return!1;let f=a.parent,d=f.child(u-1);if(d.type!=n)return!1;if(t){let h=d.lastChild&&d.lastChild.type==f.type,m=G.from(h?n.create():null),y=new ee(G.from(n.create(null,G.from(f.type.create(null,m)))),h?3:1,0),v=a.start,b=a.end;t(e.tr.step(new yt(v-(h?3:1),b,v,b,y,1,!0)).scrollIntoView())}return!0}}function uf(n){const{state:e,transaction:t}=n;let{selection:r}=t,{doc:l}=t,{storedMarks:a}=t;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return a},get selection(){return r},get doc(){return l},get tr(){return r=t.selection,l=t.doc,a=t.storedMarks,t}}}class cf{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:t,state:r}=this,{view:l}=t,{tr:a}=r,u=this.buildProps(a);return Object.fromEntries(Object.entries(e).map(([f,d])=>[f,(...m)=>{const y=d(...m)(u);return!a.getMeta("preventDispatch")&&!this.hasCustomState&&l.dispatch(a),y}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,t=!0){const{rawCommands:r,editor:l,state:a}=this,{view:u}=l,f=[],d=!!e,h=e||a.tr,m=()=>(!d&&t&&!h.getMeta("preventDispatch")&&!this.hasCustomState&&u.dispatch(h),f.every(v=>v===!0)),y={...Object.fromEntries(Object.entries(r).map(([v,b])=>[v,(...E)=>{const T=this.buildProps(h,t),C=b(...E)(T);return f.push(C),y}])),run:m};return y}createCan(e){const{rawCommands:t,state:r}=this,l=!1,a=e||r.tr,u=this.buildProps(a,l);return{...Object.fromEntries(Object.entries(t).map(([d,h])=>[d,(...m)=>h(...m)({...u,dispatch:void 0})])),chain:()=>this.createChain(a,l)}}buildProps(e,t=!0){const{rawCommands:r,editor:l,state:a}=this,{view:u}=l,f={tr:e,editor:l,view:u,state:uf({state:a,transaction:e}),dispatch:t?()=>{}:void 0,chain:()=>this.createChain(e,t),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(r).map(([d,h])=>[d,(...m)=>h(...m)(f)]))}};return f}}class fA{constructor(){this.callbacks={}}on(e,t){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(t),this}emit(e,...t){const r=this.callbacks[e];return r&&r.forEach(l=>l.apply(this,t)),this}off(e,t){const r=this.callbacks[e];return r&&(t?this.callbacks[e]=r.filter(l=>l!==t):delete this.callbacks[e]),this}once(e,t){const r=(...l)=>{this.off(e,r),t.apply(this,l)};return this.on(e,r)}removeAllListeners(){this.callbacks={}}}function ie(n,e,t){return n.config[e]===void 0&&n.parent?ie(n.parent,e,t):typeof n.config[e]=="function"?n.config[e].bind({...t,parent:n.parent?ie(n.parent,e,t):null}):n.config[e]}function ff(n){const e=n.filter(l=>l.type==="extension"),t=n.filter(l=>l.type==="node"),r=n.filter(l=>l.type==="mark");return{baseExtensions:e,nodeExtensions:t,markExtensions:r}}function qS(n){const e=[],{nodeExtensions:t,markExtensions:r}=ff(n),l=[...t,...r],a={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return n.forEach(u=>{const f={name:u.name,options:u.options,storage:u.storage,extensions:l},d=ie(u,"addGlobalAttributes",f);if(!d)return;d().forEach(m=>{m.types.forEach(y=>{Object.entries(m.attributes).forEach(([v,b])=>{e.push({type:y,name:v,attribute:{...a,...b}})})})})}),l.forEach(u=>{const f={name:u.name,options:u.options,storage:u.storage},d=ie(u,"addAttributes",f);if(!d)return;const h=d();Object.entries(h).forEach(([m,y])=>{const v={...a,...y};typeof(v==null?void 0:v.default)=="function"&&(v.default=v.default()),v!=null&&v.isRequired&&(v==null?void 0:v.default)===void 0&&delete v.default,e.push({type:u.name,name:m,attribute:v})})}),e}function bt(n,e){if(typeof n=="string"){if(!e.nodes[n])throw Error(`There is no node type named '${n}'. Maybe you forgot to add the extension?`);return e.nodes[n]}return n}function ut(...n){return n.filter(e=>!!e).reduce((e,t)=>{const r={...e};return Object.entries(t).forEach(([l,a])=>{if(!r[l]){r[l]=a;return}if(l==="class"){const f=a?String(a).split(" "):[],d=r[l]?r[l].split(" "):[],h=f.filter(m=>!d.includes(m));r[l]=[...d,...h].join(" ")}else if(l==="style"){const f=a?a.split(";").map(m=>m.trim()).filter(Boolean):[],d=r[l]?r[l].split(";").map(m=>m.trim()).filter(Boolean):[],h=new Map;d.forEach(m=>{const[y,v]=m.split(":").map(b=>b.trim());h.set(y,v)}),f.forEach(m=>{const[y,v]=m.split(":").map(b=>b.trim());h.set(y,v)}),r[l]=Array.from(h.entries()).map(([m,y])=>`${m}: ${y}`).join("; ")}else r[l]=a}),r},{})}function _p(n,e){return e.filter(t=>t.type===n.type.name).filter(t=>t.attribute.rendered).map(t=>t.attribute.renderHTML?t.attribute.renderHTML(n.attrs)||{}:{[t.name]:n.attrs[t.name]}).reduce((t,r)=>ut(t,r),{})}function PS(n){return typeof n=="function"}function Ee(n,e=void 0,...t){return PS(n)?e?n.bind(e)(...t):n(...t):n}function dA(n={}){return Object.keys(n).length===0&&n.constructor===Object}function hA(n){return typeof n!="string"?n:n.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(n):n==="true"?!0:n==="false"?!1:n}function s1(n,e){return"style"in n?n:{...n,getAttrs:t=>{const r=n.getAttrs?n.getAttrs(t):n.attrs;if(r===!1)return!1;const l=e.reduce((a,u)=>{const f=u.attribute.parseHTML?u.attribute.parseHTML(t):hA(t.getAttribute(u.name));return f==null?a:{...a,[u.name]:f}},{});return{...r,...l}}}}function l1(n){return Object.fromEntries(Object.entries(n).filter(([e,t])=>e==="attrs"&&dA(t)?!1:t!=null))}function pA(n,e){var t;const r=qS(n),{nodeExtensions:l,markExtensions:a}=ff(n),u=(t=l.find(h=>ie(h,"topNode")))===null||t===void 0?void 0:t.name,f=Object.fromEntries(l.map(h=>{const m=r.filter(C=>C.type===h.name),y={name:h.name,options:h.options,storage:h.storage,editor:e},v=n.reduce((C,j)=>{const L=ie(j,"extendNodeSchema",y);return{...C,...L?L(h):{}}},{}),b=l1({...v,content:Ee(ie(h,"content",y)),marks:Ee(ie(h,"marks",y)),group:Ee(ie(h,"group",y)),inline:Ee(ie(h,"inline",y)),atom:Ee(ie(h,"atom",y)),selectable:Ee(ie(h,"selectable",y)),draggable:Ee(ie(h,"draggable",y)),code:Ee(ie(h,"code",y)),whitespace:Ee(ie(h,"whitespace",y)),linebreakReplacement:Ee(ie(h,"linebreakReplacement",y)),defining:Ee(ie(h,"defining",y)),isolating:Ee(ie(h,"isolating",y)),attrs:Object.fromEntries(m.map(C=>{var j;return[C.name,{default:(j=C==null?void 0:C.attribute)===null||j===void 0?void 0:j.default}]}))}),x=Ee(ie(h,"parseHTML",y));x&&(b.parseDOM=x.map(C=>s1(C,m)));const E=ie(h,"renderHTML",y);E&&(b.toDOM=C=>E({node:C,HTMLAttributes:_p(C,m)}));const T=ie(h,"renderText",y);return T&&(b.toText=T),[h.name,b]})),d=Object.fromEntries(a.map(h=>{const m=r.filter(T=>T.type===h.name),y={name:h.name,options:h.options,storage:h.storage,editor:e},v=n.reduce((T,C)=>{const j=ie(C,"extendMarkSchema",y);return{...T,...j?j(h):{}}},{}),b=l1({...v,inclusive:Ee(ie(h,"inclusive",y)),excludes:Ee(ie(h,"excludes",y)),group:Ee(ie(h,"group",y)),spanning:Ee(ie(h,"spanning",y)),code:Ee(ie(h,"code",y)),attrs:Object.fromEntries(m.map(T=>{var C;return[T.name,{default:(C=T==null?void 0:T.attribute)===null||C===void 0?void 0:C.default}]}))}),x=Ee(ie(h,"parseHTML",y));x&&(b.parseDOM=x.map(T=>s1(T,m)));const E=ie(h,"renderHTML",y);return E&&(b.toDOM=T=>E({mark:T,HTMLAttributes:_p(T,m)})),[h.name,b]}));return new Ax({topNode:u,nodes:f,marks:d})}function ep(n,e){return e.nodes[n]||e.marks[n]||null}function a1(n,e){return Array.isArray(e)?e.some(t=>(typeof t=="string"?t:t.name)===n.name):e}function Am(n,e){const t=Es.fromSchema(e).serializeFragment(n),l=document.implementation.createHTMLDocument().createElement("div");return l.appendChild(t),l.innerHTML}const mA=(n,e=500)=>{let t="";const r=n.parentOffset;return n.parent.nodesBetween(Math.max(0,r-e),r,(l,a,u,f)=>{var d,h;const m=((h=(d=l.type.spec).toText)===null||h===void 0?void 0:h.call(d,{node:l,pos:a,parent:u,index:f}))||l.textContent||"%leaf%";t+=l.isAtom&&!l.isText?m:m.slice(0,Math.max(0,r-a))}),t};function Dm(n){return Object.prototype.toString.call(n)==="[object RegExp]"}class df{constructor(e){this.find=e.find,this.handler=e.handler}}const gA=(n,e)=>{if(Dm(e))return e.exec(n);const t=e(n);if(!t)return null;const r=[t.text];return r.index=t.index,r.input=n,r.data=t.data,t.replaceWith&&(t.text.includes(t.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(t.replaceWith)),r};function $u(n){var e;const{editor:t,from:r,to:l,text:a,rules:u,plugin:f}=n,{view:d}=t;if(d.composing)return!1;const h=d.state.doc.resolve(r);if(h.parent.type.spec.code||!((e=h.nodeBefore||h.nodeAfter)===null||e===void 0)&&e.marks.find(v=>v.type.spec.code))return!1;let m=!1;const y=mA(h)+a;return u.forEach(v=>{if(m)return;const b=gA(y,v.find);if(!b)return;const x=d.state.tr,E=uf({state:d.state,transaction:x}),T={from:r-(b[0].length-a.length),to:l},{commands:C,chain:j,can:L}=new cf({editor:t,state:E});v.handler({state:E,range:T,match:b,commands:C,chain:j,can:L})===null||!x.steps.length||(x.setMeta(f,{transform:x,from:r,to:l,text:a}),d.dispatch(x),m=!0)}),m}function yA(n){const{editor:e,rules:t}=n,r=new St({state:{init(){return null},apply(l,a,u){const f=l.getMeta(r);if(f)return f;const d=l.getMeta("applyInputRules");return!!d&&setTimeout(()=>{let{text:m}=d;typeof m=="string"?m=m:m=Am(G.from(m),u.schema);const{from:y}=d,v=y+m.length;$u({editor:e,from:y,to:v,text:m,rules:t,plugin:r})}),l.selectionSet||l.docChanged?null:a}},props:{handleTextInput(l,a,u,f){return $u({editor:e,from:a,to:u,text:f,rules:t,plugin:r})},handleDOMEvents:{compositionend:l=>(setTimeout(()=>{const{$cursor:a}=l.state.selection;a&&$u({editor:e,from:a.pos,to:a.pos,text:"",rules:t,plugin:r})}),!1)},handleKeyDown(l,a){if(a.key!=="Enter")return!1;const{$cursor:u}=l.state.selection;return u?$u({editor:e,from:u.pos,to:u.pos,text:`
`,rules:t,plugin:r}):!1}},isInputRules:!0});return r}function vA(n){return Object.prototype.toString.call(n).slice(8,-1)}function Yu(n){return vA(n)!=="Object"?!1:n.constructor===Object&&Object.getPrototypeOf(n)===Object.prototype}function hf(n,e){const t={...n};return Yu(n)&&Yu(e)&&Object.keys(e).forEach(r=>{Yu(e[r])&&Yu(n[r])?t[r]=hf(n[r],e[r]):t[r]=e[r]}),t}class cr{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Ee(ie(this,"addOptions",{name:this.name}))),this.storage=Ee(ie(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new cr(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>hf(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new cr(e);return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=Ee(ie(t,"addOptions",{name:t.name})),t.storage=Ee(ie(t,"addStorage",{name:t.name,options:t.options})),t}static handleExit({editor:e,mark:t}){const{tr:r}=e.state,l=e.state.selection.$from;if(l.pos===l.end()){const u=l.marks();if(!!!u.find(h=>(h==null?void 0:h.type.name)===t.name))return!1;const d=u.find(h=>(h==null?void 0:h.type.name)===t.name);return d&&r.removeStoredMark(d),r.insertText(" ",l.pos),e.view.dispatch(r),!0}return!1}}function bA(n){return typeof n=="number"}class xA{constructor(e){this.find=e.find,this.handler=e.handler}}const SA=(n,e,t)=>{if(Dm(e))return[...n.matchAll(e)];const r=e(n,t);return r?r.map(l=>{const a=[l.text];return a.index=l.index,a.input=n,a.data=l.data,l.replaceWith&&(l.text.includes(l.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),a.push(l.replaceWith)),a}):[]};function wA(n){const{editor:e,state:t,from:r,to:l,rule:a,pasteEvent:u,dropEvent:f}=n,{commands:d,chain:h,can:m}=new cf({editor:e,state:t}),y=[];return t.doc.nodesBetween(r,l,(b,x)=>{if(!b.isTextblock||b.type.spec.code)return;const E=Math.max(r,x),T=Math.min(l,x+b.content.size),C=b.textBetween(E-x,T-x,void 0,"");SA(C,a.find,u).forEach(L=>{if(L.index===void 0)return;const M=E+L.index+1,_=M+L[0].length,q={from:t.tr.mapping.map(M),to:t.tr.mapping.map(_)},Q=a.handler({state:t,range:q,match:L,commands:d,chain:h,can:m,pasteEvent:u,dropEvent:f});y.push(Q)})}),y.every(b=>b!==null)}let Ku=null;const EA=n=>{var e;const t=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=t.clipboardData)===null||e===void 0||e.setData("text/html",n),t};function kA(n){const{editor:e,rules:t}=n;let r=null,l=!1,a=!1,u=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,f;try{f=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{f=null}const d=({state:m,from:y,to:v,rule:b,pasteEvt:x})=>{const E=m.tr,T=uf({state:m,transaction:E});if(!(!wA({editor:e,state:T,from:Math.max(y-1,0),to:v.b-1,rule:b,pasteEvent:x,dropEvent:f})||!E.steps.length)){try{f=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{f=null}return u=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,E}};return t.map(m=>new St({view(y){const v=x=>{var E;r=!((E=y.dom.parentElement)===null||E===void 0)&&E.contains(x.target)?y.dom.parentElement:null,r&&(Ku=e)},b=()=>{Ku&&(Ku=null)};return window.addEventListener("dragstart",v),window.addEventListener("dragend",b),{destroy(){window.removeEventListener("dragstart",v),window.removeEventListener("dragend",b)}}},props:{handleDOMEvents:{drop:(y,v)=>{if(a=r===y.dom.parentElement,f=v,!a){const b=Ku;b&&setTimeout(()=>{const x=b.state.selection;x&&b.commands.deleteRange({from:x.from,to:x.to})},10)}return!1},paste:(y,v)=>{var b;const x=(b=v.clipboardData)===null||b===void 0?void 0:b.getData("text/html");return u=v,l=!!(x!=null&&x.includes("data-pm-slice")),!1}}},appendTransaction:(y,v,b)=>{const x=y[0],E=x.getMeta("uiEvent")==="paste"&&!l,T=x.getMeta("uiEvent")==="drop"&&!a,C=x.getMeta("applyPasteRules"),j=!!C;if(!E&&!T&&!j)return;if(j){let{text:_}=C;typeof _=="string"?_=_:_=Am(G.from(_),b.schema);const{from:q}=C,Q=q+_.length,se=EA(_);return d({rule:m,state:b,from:q,to:{b:Q},pasteEvt:se})}const L=v.doc.content.findDiffStart(b.doc.content),M=v.doc.content.findDiffEnd(b.doc.content);if(!(!bA(L)||!M||L===M.b))return d({rule:m,state:b,from:L,to:M,pasteEvt:u})}}))}function TA(n){const e=n.filter((t,r)=>n.indexOf(t)!==r);return Array.from(new Set(e))}class El{constructor(e,t){this.splittableMarks=[],this.editor=t,this.extensions=El.resolve(e),this.schema=pA(this.extensions,t),this.setupExtensions()}static resolve(e){const t=El.sort(El.flatten(e)),r=TA(t.map(l=>l.name));return r.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${r.map(l=>`'${l}'`).join(", ")}]. This can lead to issues.`),t}static flatten(e){return e.map(t=>{const r={name:t.name,options:t.options,storage:t.storage},l=ie(t,"addExtensions",r);return l?[t,...this.flatten(l())]:t}).flat(10)}static sort(e){return e.sort((r,l)=>{const a=ie(r,"priority")||100,u=ie(l,"priority")||100;return a>u?-1:a<u?1:0})}get commands(){return this.extensions.reduce((e,t)=>{const r={name:t.name,options:t.options,storage:t.storage,editor:this.editor,type:ep(t.name,this.schema)},l=ie(t,"addCommands",r);return l?{...e,...l()}:e},{})}get plugins(){const{editor:e}=this,t=El.sort([...this.extensions].reverse()),r=[],l=[],a=t.map(u=>{const f={name:u.name,options:u.options,storage:u.storage,editor:e,type:ep(u.name,this.schema)},d=[],h=ie(u,"addKeyboardShortcuts",f);let m={};if(u.type==="mark"&&ie(u,"exitable",f)&&(m.ArrowRight=()=>cr.handleExit({editor:e,mark:u})),h){const E=Object.fromEntries(Object.entries(h()).map(([T,C])=>[T,()=>C({editor:e})]));m={...m,...E}}const y=$N(m);d.push(y);const v=ie(u,"addInputRules",f);a1(u,e.options.enableInputRules)&&v&&r.push(...v());const b=ie(u,"addPasteRules",f);a1(u,e.options.enablePasteRules)&&b&&l.push(...b());const x=ie(u,"addProseMirrorPlugins",f);if(x){const E=x();d.push(...E)}return d}).flat();return[yA({editor:e,rules:r}),...kA({editor:e,rules:l}),...a]}get attributes(){return qS(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:t}=ff(this.extensions);return Object.fromEntries(t.filter(r=>!!ie(r,"addNodeView")).map(r=>{const l=this.attributes.filter(d=>d.type===r.name),a={name:r.name,options:r.options,storage:r.storage,editor:e,type:bt(r.name,this.schema)},u=ie(r,"addNodeView",a);if(!u)return[];const f=(d,h,m,y,v)=>{const b=_p(d,l);return u()({node:d,view:h,getPos:m,decorations:y,innerDecorations:v,editor:e,extension:r,HTMLAttributes:b})};return[r.name,f]}))}setupExtensions(){this.extensions.forEach(e=>{var t;this.editor.extensionStorage[e.name]=e.storage;const r={name:e.name,options:e.options,storage:e.storage,editor:this.editor,type:ep(e.name,this.schema)};e.type==="mark"&&(!((t=Ee(ie(e,"keepOnSplit",r)))!==null&&t!==void 0)||t)&&this.splittableMarks.push(e.name);const l=ie(e,"onBeforeCreate",r),a=ie(e,"onCreate",r),u=ie(e,"onUpdate",r),f=ie(e,"onSelectionUpdate",r),d=ie(e,"onTransaction",r),h=ie(e,"onFocus",r),m=ie(e,"onBlur",r),y=ie(e,"onDestroy",r);l&&this.editor.on("beforeCreate",l),a&&this.editor.on("create",a),u&&this.editor.on("update",u),f&&this.editor.on("selectionUpdate",f),d&&this.editor.on("transaction",d),h&&this.editor.on("focus",h),m&&this.editor.on("blur",m),y&&this.editor.on("destroy",y)})}}class zt{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Ee(ie(this,"addOptions",{name:this.name}))),this.storage=Ee(ie(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new zt(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>hf(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new zt({...this.config,...e});return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=Ee(ie(t,"addOptions",{name:t.name})),t.storage=Ee(ie(t,"addStorage",{name:t.name,options:t.options})),t}}function IS(n,e,t){const{from:r,to:l}=e,{blockSeparator:a=`

`,textSerializers:u={}}=t||{};let f="";return n.nodesBetween(r,l,(d,h,m,y)=>{var v;d.isBlock&&h>r&&(f+=a);const b=u==null?void 0:u[d.type.name];if(b)return m&&(f+=b({node:d,pos:h,parent:m,index:y,range:e})),!1;d.isText&&(f+=(v=d==null?void 0:d.text)===null||v===void 0?void 0:v.slice(Math.max(r,h)-h,l-h))}),f}function $S(n){return Object.fromEntries(Object.entries(n.nodes).filter(([,e])=>e.spec.toText).map(([e,t])=>[e,t.spec.toText]))}const CA=zt.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new St({key:new tn("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:n}=this,{state:e,schema:t}=n,{doc:r,selection:l}=e,{ranges:a}=l,u=Math.min(...a.map(m=>m.$from.pos)),f=Math.max(...a.map(m=>m.$to.pos)),d=$S(t);return IS(r,{from:u,to:f},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:d})}}})]}}),MA=()=>({editor:n,view:e})=>(requestAnimationFrame(()=>{var t;n.isDestroyed||(e.dom.blur(),(t=window==null?void 0:window.getSelection())===null||t===void 0||t.removeAllRanges())}),!0),OA=(n=!1)=>({commands:e})=>e.setContent("",n),NA=()=>({state:n,tr:e,dispatch:t})=>{const{selection:r}=e,{ranges:l}=r;return t&&l.forEach(({$from:a,$to:u})=>{n.doc.nodesBetween(a.pos,u.pos,(f,d)=>{if(f.type.isText)return;const{doc:h,mapping:m}=e,y=h.resolve(m.map(d)),v=h.resolve(m.map(d+f.nodeSize)),b=y.blockRange(v);if(!b)return;const x=ql(b);if(f.type.isTextblock){const{defaultType:E}=y.parent.contentMatchAt(y.index());e.setNodeMarkup(b.start,E)}(x||x===0)&&e.lift(b,x)})}),!0},AA=n=>e=>n(e),DA=()=>({state:n,dispatch:e})=>HS(n,e),RA=(n,e)=>({editor:t,tr:r})=>{const{state:l}=t,a=l.doc.slice(n.from,n.to);r.deleteRange(n.from,n.to);const u=r.mapping.map(e);return r.insert(u,a.content),r.setSelection(new ge(r.doc.resolve(u-1))),!0},jA=()=>({tr:n,dispatch:e})=>{const{selection:t}=n,r=t.$anchor.node();if(r.content.size>0)return!1;const l=n.selection.$anchor;for(let a=l.depth;a>0;a-=1)if(l.node(a).type===r.type){if(e){const f=l.before(a),d=l.after(a);n.delete(f,d).scrollIntoView()}return!0}return!1},LA=n=>({tr:e,state:t,dispatch:r})=>{const l=bt(n,t.schema),a=e.selection.$anchor;for(let u=a.depth;u>0;u-=1)if(a.node(u).type===l){if(r){const d=a.before(u),h=a.after(u);e.delete(d,h).scrollIntoView()}return!0}return!1},zA=n=>({tr:e,dispatch:t})=>{const{from:r,to:l}=n;return t&&e.delete(r,l),!0},BA=()=>({state:n,dispatch:e})=>Tm(n,e),HA=()=>({commands:n})=>n.keyboardShortcut("Enter"),_A=()=>({state:n,dispatch:e})=>JN(n,e);function Sc(n,e,t={strict:!0}){const r=Object.keys(e);return r.length?r.every(l=>t.strict?e[l]===n[l]:Dm(e[l])?e[l].test(n[l]):e[l]===n[l]):!0}function YS(n,e,t={}){return n.find(r=>r.type===e&&Sc(Object.fromEntries(Object.keys(t).map(l=>[l,r.attrs[l]])),t))}function o1(n,e,t={}){return!!YS(n,e,t)}function Rm(n,e,t){var r;if(!n||!e)return;let l=n.parent.childAfter(n.parentOffset);if((!l.node||!l.node.marks.some(m=>m.type===e))&&(l=n.parent.childBefore(n.parentOffset)),!l.node||!l.node.marks.some(m=>m.type===e)||(t=t||((r=l.node.marks[0])===null||r===void 0?void 0:r.attrs),!YS([...l.node.marks],e,t)))return;let u=l.index,f=n.start()+l.offset,d=u+1,h=f+l.node.nodeSize;for(;u>0&&o1([...n.parent.child(u-1).marks],e,t);)u-=1,f-=n.parent.child(u).nodeSize;for(;d<n.parent.childCount&&o1([...n.parent.child(d).marks],e,t);)h+=n.parent.child(d).nodeSize,d+=1;return{from:f,to:h}}function ji(n,e){if(typeof n=="string"){if(!e.marks[n])throw Error(`There is no mark type named '${n}'. Maybe you forgot to add the extension?`);return e.marks[n]}return n}const UA=(n,e={})=>({tr:t,state:r,dispatch:l})=>{const a=ji(n,r.schema),{doc:u,selection:f}=t,{$from:d,from:h,to:m}=f;if(l){const y=Rm(d,a,e);if(y&&y.from<=h&&y.to>=m){const v=ge.create(u,y.from,y.to);t.setSelection(v)}}return!0},VA=n=>e=>{const t=typeof n=="function"?n(e):n;for(let r=0;r<t.length;r+=1)if(t[r](e))return!0;return!1};function jm(n){return n instanceof ge}function Br(n=0,e=0,t=0){return Math.min(Math.max(n,e),t)}function KS(n,e=null){if(!e)return null;const t=be.atStart(n),r=be.atEnd(n);if(e==="start"||e===!0)return t;if(e==="end")return r;const l=t.from,a=r.to;return e==="all"?ge.create(n,Br(0,l,a),Br(n.content.size,l,a)):ge.create(n,Br(e,l,a),Br(e,l,a))}function qA(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function Lm(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const PA=(n=null,e={})=>({editor:t,view:r,tr:l,dispatch:a})=>{e={scrollIntoView:!0,...e};const u=()=>{(Lm()||qA())&&r.dom.focus(),requestAnimationFrame(()=>{t.isDestroyed||(r.focus(),e!=null&&e.scrollIntoView&&t.commands.scrollIntoView())})};if(r.hasFocus()&&n===null||n===!1)return!0;if(a&&n===null&&!jm(t.state.selection))return u(),!0;const f=KS(l.doc,n)||t.state.selection,d=t.state.selection.eq(f);return a&&(d||l.setSelection(f),d&&l.storedMarks&&l.setStoredMarks(l.storedMarks),u()),!0},IA=(n,e)=>t=>n.every((r,l)=>e(r,{...t,index:l})),$A=(n,e)=>({tr:t,commands:r})=>r.insertContentAt({from:t.selection.from,to:t.selection.to},n,e),GS=n=>{const e=n.childNodes;for(let t=e.length-1;t>=0;t-=1){const r=e[t];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?n.removeChild(r):r.nodeType===1&&GS(r)}return n};function Gu(n){const e=`<body>${n}</body>`,t=new window.DOMParser().parseFromString(e,"text/html").body;return GS(t)}function wc(n,e,t){if(n instanceof ki||n instanceof G)return n;t={slice:!0,parseOptions:{},...t};const r=typeof n=="object"&&n!==null,l=typeof n=="string";if(r)try{if(Array.isArray(n)&&n.length>0)return G.fromArray(n.map(f=>e.nodeFromJSON(f)));const u=e.nodeFromJSON(n);return t.errorOnInvalidContent&&u.check(),u}catch(a){if(t.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:a});return console.warn("[tiptap warn]: Invalid content.","Passed value:",n,"Error:",a),wc("",e,t)}if(l){if(t.errorOnInvalidContent){let u=!1,f="";const d=new Ax({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:h=>(u=!0,f=typeof h=="string"?h:h.outerHTML,null)}]}})});if(t.slice?Ti.fromSchema(d).parseSlice(Gu(n),t.parseOptions):Ti.fromSchema(d).parse(Gu(n),t.parseOptions),t.errorOnInvalidContent&&u)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${f}`)})}const a=Ti.fromSchema(e);return t.slice?a.parseSlice(Gu(n),t.parseOptions).content:a.parse(Gu(n),t.parseOptions)}return wc("",e,t)}function YA(n,e,t){const r=n.steps.length-1;if(r<e)return;const l=n.steps[r];if(!(l instanceof gt||l instanceof yt))return;const a=n.mapping.maps[r];let u=0;a.forEach((f,d,h,m)=>{u===0&&(u=m)}),n.setSelection(be.near(n.doc.resolve(u),t))}const KA=n=>!("type"in n),GA=(n,e,t)=>({tr:r,dispatch:l,editor:a})=>{var u;if(l){t={parseOptions:a.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...t};let f;try{f=wc(e,a.schema,{parseOptions:{preserveWhitespace:"full",...t.parseOptions},errorOnInvalidContent:(u=t.errorOnInvalidContent)!==null&&u!==void 0?u:a.options.enableContentCheck})}catch(x){return a.emit("contentError",{editor:a,error:x,disableCollaboration:()=>{a.storage.collaboration&&(a.storage.collaboration.isDisabled=!0)}}),!1}let{from:d,to:h}=typeof n=="number"?{from:n,to:n}:{from:n.from,to:n.to},m=!0,y=!0;if((KA(f)?f:[f]).forEach(x=>{x.check(),m=m?x.isText&&x.marks.length===0:!1,y=y?x.isBlock:!1}),d===h&&y){const{parent:x}=r.doc.resolve(d);x.isTextblock&&!x.type.spec.code&&!x.childCount&&(d-=1,h+=1)}let b;if(m){if(Array.isArray(e))b=e.map(x=>x.text||"").join("");else if(e instanceof G){let x="";e.forEach(E=>{E.text&&(x+=E.text)}),b=x}else typeof e=="object"&&e&&e.text?b=e.text:b=e;r.insertText(b,d,h)}else b=f,r.replaceWith(d,h,b);t.updateSelection&&YA(r,r.steps.length-1,-1),t.applyInputRules&&r.setMeta("applyInputRules",{from:d,text:b}),t.applyPasteRules&&r.setMeta("applyPasteRules",{from:d,text:b})}return!0},FA=()=>({state:n,dispatch:e})=>GN(n,e),XA=()=>({state:n,dispatch:e})=>FN(n,e),JA=()=>({state:n,dispatch:e})=>AS(n,e),QA=()=>({state:n,dispatch:e})=>LS(n,e),ZA=()=>({state:n,dispatch:e,tr:t})=>{try{const r=nf(n.doc,n.selection.$from.pos,-1);return r==null?!1:(t.join(r,2),e&&e(t),!0)}catch{return!1}},WA=()=>({state:n,dispatch:e,tr:t})=>{try{const r=nf(n.doc,n.selection.$from.pos,1);return r==null?!1:(t.join(r,2),e&&e(t),!0)}catch{return!1}},eD=()=>({state:n,dispatch:e})=>YN(n,e),tD=()=>({state:n,dispatch:e})=>KN(n,e);function FS(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function nD(n){const e=n.split(/-(?!$)/);let t=e[e.length-1];t==="Space"&&(t=" ");let r,l,a,u;for(let f=0;f<e.length-1;f+=1){const d=e[f];if(/^(cmd|meta|m)$/i.test(d))u=!0;else if(/^a(lt)?$/i.test(d))r=!0;else if(/^(c|ctrl|control)$/i.test(d))l=!0;else if(/^s(hift)?$/i.test(d))a=!0;else if(/^mod$/i.test(d))Lm()||FS()?u=!0:l=!0;else throw new Error(`Unrecognized modifier name: ${d}`)}return r&&(t=`Alt-${t}`),l&&(t=`Ctrl-${t}`),u&&(t=`Meta-${t}`),a&&(t=`Shift-${t}`),t}const rD=n=>({editor:e,view:t,tr:r,dispatch:l})=>{const a=nD(n).split(/-(?!$)/),u=a.find(h=>!["Alt","Ctrl","Meta","Shift"].includes(h)),f=new KeyboardEvent("keydown",{key:u==="Space"?" ":u,altKey:a.includes("Alt"),ctrlKey:a.includes("Ctrl"),metaKey:a.includes("Meta"),shiftKey:a.includes("Shift"),bubbles:!0,cancelable:!0}),d=e.captureTransaction(()=>{t.someProp("handleKeyDown",h=>h(t,f))});return d==null||d.steps.forEach(h=>{const m=h.map(r.mapping);m&&l&&r.maybeStep(m)}),!0};function go(n,e,t={}){const{from:r,to:l,empty:a}=n.selection,u=e?bt(e,n.schema):null,f=[];n.doc.nodesBetween(r,l,(y,v)=>{if(y.isText)return;const b=Math.max(r,v),x=Math.min(l,v+y.nodeSize);f.push({node:y,from:b,to:x})});const d=l-r,h=f.filter(y=>u?u.name===y.node.type.name:!0).filter(y=>Sc(y.node.attrs,t,{strict:!1}));return a?!!h.length:h.reduce((y,v)=>y+v.to-v.from,0)>=d}const iD=(n,e={})=>({state:t,dispatch:r})=>{const l=bt(n,t.schema);return go(t,l,e)?XN(t,r):!1},sD=()=>({state:n,dispatch:e})=>_S(n,e),lD=n=>({state:e,dispatch:t})=>{const r=bt(n,e.schema);return aA(r)(e,t)},aD=()=>({state:n,dispatch:e})=>BS(n,e);function pf(n,e){return e.nodes[n]?"node":e.marks[n]?"mark":null}function u1(n,e){const t=typeof e=="string"?[e]:e;return Object.keys(n).reduce((r,l)=>(t.includes(l)||(r[l]=n[l]),r),{})}const oD=(n,e)=>({tr:t,state:r,dispatch:l})=>{let a=null,u=null;const f=pf(typeof n=="string"?n:n.name,r.schema);return f?(f==="node"&&(a=bt(n,r.schema)),f==="mark"&&(u=ji(n,r.schema)),l&&t.selection.ranges.forEach(d=>{r.doc.nodesBetween(d.$from.pos,d.$to.pos,(h,m)=>{a&&a===h.type&&t.setNodeMarkup(m,void 0,u1(h.attrs,e)),u&&h.marks.length&&h.marks.forEach(y=>{u===y.type&&t.addMark(m,m+h.nodeSize,u.create(u1(y.attrs,e)))})})}),!0):!1},uD=()=>({tr:n,dispatch:e})=>(e&&n.scrollIntoView(),!0),cD=()=>({tr:n,dispatch:e})=>{if(e){const t=new hn(n.doc);n.setSelection(t)}return!0},fD=()=>({state:n,dispatch:e})=>RS(n,e),dD=()=>({state:n,dispatch:e})=>zS(n,e),hD=()=>({state:n,dispatch:e})=>WN(n,e),pD=()=>({state:n,dispatch:e})=>nA(n,e),mD=()=>({state:n,dispatch:e})=>tA(n,e);function Up(n,e,t={},r={}){return wc(n,e,{slice:!1,parseOptions:t,errorOnInvalidContent:r.errorOnInvalidContent})}const gD=(n,e=!1,t={},r={})=>({editor:l,tr:a,dispatch:u,commands:f})=>{var d,h;const{doc:m}=a;if(t.preserveWhitespace!=="full"){const y=Up(n,l.schema,t,{errorOnInvalidContent:(d=r.errorOnInvalidContent)!==null&&d!==void 0?d:l.options.enableContentCheck});return u&&a.replaceWith(0,m.content.size,y).setMeta("preventUpdate",!e),!0}return u&&a.setMeta("preventUpdate",!e),f.insertContentAt({from:0,to:m.content.size},n,{parseOptions:t,errorOnInvalidContent:(h=r.errorOnInvalidContent)!==null&&h!==void 0?h:l.options.enableContentCheck})};function XS(n,e){const t=ji(e,n.schema),{from:r,to:l,empty:a}=n.selection,u=[];a?(n.storedMarks&&u.push(...n.storedMarks),u.push(...n.selection.$head.marks())):n.doc.nodesBetween(r,l,d=>{u.push(...d.marks)});const f=u.find(d=>d.type.name===t.name);return f?{...f.attrs}:{}}function yD(n,e){const t=new Kx(n);return e.forEach(r=>{r.steps.forEach(l=>{t.step(l)})}),t}function vD(n){for(let e=0;e<n.edgeCount;e+=1){const{type:t}=n.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}function bD(n,e,t){const r=[];return n.nodesBetween(e.from,e.to,(l,a)=>{t(l)&&r.push({node:l,pos:a})}),r}function xD(n,e){for(let t=n.depth;t>0;t-=1){const r=n.node(t);if(e(r))return{pos:t>0?n.before(t):0,start:n.start(t),depth:t,node:r}}}function zm(n){return e=>xD(e.$from,n)}function SD(n,e){const t={from:0,to:n.content.size};return IS(n,t,e)}function wD(n,e){const t=bt(e,n.schema),{from:r,to:l}=n.selection,a=[];n.doc.nodesBetween(r,l,f=>{a.push(f)});const u=a.reverse().find(f=>f.type.name===t.name);return u?{...u.attrs}:{}}function JS(n,e){const t=pf(typeof e=="string"?e:e.name,n.schema);return t==="node"?wD(n,e):t==="mark"?XS(n,e):{}}function ED(n,e=JSON.stringify){const t={};return n.filter(r=>{const l=e(r);return Object.prototype.hasOwnProperty.call(t,l)?!1:t[l]=!0})}function kD(n){const e=ED(n);return e.length===1?e:e.filter((t,r)=>!e.filter((a,u)=>u!==r).some(a=>t.oldRange.from>=a.oldRange.from&&t.oldRange.to<=a.oldRange.to&&t.newRange.from>=a.newRange.from&&t.newRange.to<=a.newRange.to))}function TD(n){const{mapping:e,steps:t}=n,r=[];return e.maps.forEach((l,a)=>{const u=[];if(l.ranges.length)l.forEach((f,d)=>{u.push({from:f,to:d})});else{const{from:f,to:d}=t[a];if(f===void 0||d===void 0)return;u.push({from:f,to:d})}u.forEach(({from:f,to:d})=>{const h=e.slice(a).map(f,-1),m=e.slice(a).map(d),y=e.invert().map(h,-1),v=e.invert().map(m);r.push({oldRange:{from:y,to:v},newRange:{from:h,to:m}})})}),kD(r)}function Bm(n,e,t){const r=[];return n===e?t.resolve(n).marks().forEach(l=>{const a=t.resolve(n),u=Rm(a,l.type);u&&r.push({mark:l,...u})}):t.nodesBetween(n,e,(l,a)=>{!l||(l==null?void 0:l.nodeSize)===void 0||r.push(...l.marks.map(u=>({from:a,to:a+l.nodeSize,mark:u})))}),r}function sc(n,e,t){return Object.fromEntries(Object.entries(t).filter(([r])=>{const l=n.find(a=>a.type===e&&a.name===r);return l?l.attribute.keepOnSplit:!1}))}function Vp(n,e,t={}){const{empty:r,ranges:l}=n.selection,a=e?ji(e,n.schema):null;if(r)return!!(n.storedMarks||n.selection.$from.marks()).filter(y=>a?a.name===y.type.name:!0).find(y=>Sc(y.attrs,t,{strict:!1}));let u=0;const f=[];if(l.forEach(({$from:y,$to:v})=>{const b=y.pos,x=v.pos;n.doc.nodesBetween(b,x,(E,T)=>{if(!E.isText&&!E.marks.length)return;const C=Math.max(b,T),j=Math.min(x,T+E.nodeSize),L=j-C;u+=L,f.push(...E.marks.map(M=>({mark:M,from:C,to:j})))})}),u===0)return!1;const d=f.filter(y=>a?a.name===y.mark.type.name:!0).filter(y=>Sc(y.mark.attrs,t,{strict:!1})).reduce((y,v)=>y+v.to-v.from,0),h=f.filter(y=>a?y.mark.type!==a&&y.mark.type.excludes(a):!0).reduce((y,v)=>y+v.to-v.from,0);return(d>0?d+h:d)>=u}function CD(n,e,t={}){if(!e)return go(n,null,t)||Vp(n,null,t);const r=pf(e,n.schema);return r==="node"?go(n,e,t):r==="mark"?Vp(n,e,t):!1}function c1(n,e){const{nodeExtensions:t}=ff(e),r=t.find(u=>u.name===n);if(!r)return!1;const l={name:r.name,options:r.options,storage:r.storage},a=Ee(ie(r,"group",l));return typeof a!="string"?!1:a.split(" ").includes("list")}function Hm(n,{checkChildren:e=!0,ignoreWhitespace:t=!1}={}){var r;if(t){if(n.type.name==="hardBreak")return!0;if(n.isText)return/^\s*$/m.test((r=n.text)!==null&&r!==void 0?r:"")}if(n.isText)return!n.text;if(n.isAtom||n.isLeaf)return!1;if(n.content.childCount===0)return!0;if(e){let l=!0;return n.content.forEach(a=>{l!==!1&&(Hm(a,{ignoreWhitespace:t,checkChildren:e})||(l=!1))}),l}return!1}function QS(n){return n instanceof ue}function MD(n,e,t){const l=n.state.doc.content.size,a=Br(e,0,l),u=Br(t,0,l),f=n.coordsAtPos(a),d=n.coordsAtPos(u,-1),h=Math.min(f.top,d.top),m=Math.max(f.bottom,d.bottom),y=Math.min(f.left,d.left),v=Math.max(f.right,d.right),b=v-y,x=m-h,C={top:h,bottom:m,left:y,right:v,width:b,height:x,x:y,y:h};return{...C,toJSON:()=>C}}function OD(n,e,t){var r;const{selection:l}=e;let a=null;if(jm(l)&&(a=l.$cursor),a){const f=(r=n.storedMarks)!==null&&r!==void 0?r:a.marks();return!!t.isInSet(f)||!f.some(d=>d.type.excludes(t))}const{ranges:u}=l;return u.some(({$from:f,$to:d})=>{let h=f.depth===0?n.doc.inlineContent&&n.doc.type.allowsMarkType(t):!1;return n.doc.nodesBetween(f.pos,d.pos,(m,y,v)=>{if(h)return!1;if(m.isInline){const b=!v||v.type.allowsMarkType(t),x=!!t.isInSet(m.marks)||!m.marks.some(E=>E.type.excludes(t));h=b&&x}return!h}),h})}const ND=(n,e={})=>({tr:t,state:r,dispatch:l})=>{const{selection:a}=t,{empty:u,ranges:f}=a,d=ji(n,r.schema);if(l)if(u){const h=XS(r,d);t.addStoredMark(d.create({...h,...e}))}else f.forEach(h=>{const m=h.$from.pos,y=h.$to.pos;r.doc.nodesBetween(m,y,(v,b)=>{const x=Math.max(b,m),E=Math.min(b+v.nodeSize,y);v.marks.find(C=>C.type===d)?v.marks.forEach(C=>{d===C.type&&t.addMark(x,E,d.create({...C.attrs,...e}))}):t.addMark(x,E,d.create(e))})});return OD(r,t,d)},AD=(n,e)=>({tr:t})=>(t.setMeta(n,e),!0),DD=(n,e={})=>({state:t,dispatch:r,chain:l})=>{const a=bt(n,t.schema);let u;return t.selection.$anchor.sameParent(t.selection.$head)&&(u=t.selection.$anchor.parent.attrs),a.isTextblock?l().command(({commands:f})=>i1(a,{...u,...e})(t)?!0:f.clearNodes()).command(({state:f})=>i1(a,{...u,...e})(f,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},RD=n=>({tr:e,dispatch:t})=>{if(t){const{doc:r}=e,l=Br(n,0,r.content.size),a=ue.create(r,l);e.setSelection(a)}return!0},jD=n=>({tr:e,dispatch:t})=>{if(t){const{doc:r}=e,{from:l,to:a}=typeof n=="number"?{from:n,to:n}:n,u=ge.atStart(r).from,f=ge.atEnd(r).to,d=Br(l,u,f),h=Br(a,u,f),m=ge.create(r,d,h);e.setSelection(m)}return!0},LD=n=>({state:e,dispatch:t})=>{const r=bt(n,e.schema);return cA(r)(e,t)};function f1(n,e){const t=n.storedMarks||n.selection.$to.parentOffset&&n.selection.$from.marks();if(t){const r=t.filter(l=>e==null?void 0:e.includes(l.type.name));n.tr.ensureMarks(r)}}const zD=({keepMarks:n=!0}={})=>({tr:e,state:t,dispatch:r,editor:l})=>{const{selection:a,doc:u}=e,{$from:f,$to:d}=a,h=l.extensionManager.attributes,m=sc(h,f.node().type.name,f.node().attrs);if(a instanceof ue&&a.node.isBlock)return!f.parentOffset||!_r(u,f.pos)?!1:(r&&(n&&f1(t,l.extensionManager.splittableMarks),e.split(f.pos).scrollIntoView()),!0);if(!f.parent.isBlock)return!1;const y=d.parentOffset===d.parent.content.size,v=f.depth===0?void 0:vD(f.node(-1).contentMatchAt(f.indexAfter(-1)));let b=y&&v?[{type:v,attrs:m}]:void 0,x=_r(e.doc,e.mapping.map(f.pos),1,b);if(!b&&!x&&_r(e.doc,e.mapping.map(f.pos),1,v?[{type:v}]:void 0)&&(x=!0,b=v?[{type:v,attrs:m}]:void 0),r){if(x&&(a instanceof ge&&e.deleteSelection(),e.split(e.mapping.map(f.pos),1,b),v&&!y&&!f.parentOffset&&f.parent.type!==v)){const E=e.mapping.map(f.before()),T=e.doc.resolve(E);f.node(-1).canReplaceWith(T.index(),T.index()+1,v)&&e.setNodeMarkup(e.mapping.map(f.before()),v)}n&&f1(t,l.extensionManager.splittableMarks),e.scrollIntoView()}return x},BD=(n,e={})=>({tr:t,state:r,dispatch:l,editor:a})=>{var u;const f=bt(n,r.schema),{$from:d,$to:h}=r.selection,m=r.selection.node;if(m&&m.isBlock||d.depth<2||!d.sameParent(h))return!1;const y=d.node(-1);if(y.type!==f)return!1;const v=a.extensionManager.attributes;if(d.parent.content.size===0&&d.node(-1).childCount===d.indexAfter(-1)){if(d.depth===2||d.node(-3).type!==f||d.index(-2)!==d.node(-2).childCount-1)return!1;if(l){let C=G.empty;const j=d.index(-1)?1:d.index(-2)?2:3;for(let se=d.depth-j;se>=d.depth-3;se-=1)C=G.from(d.node(se).copy(C));const L=d.indexAfter(-1)<d.node(-2).childCount?1:d.indexAfter(-2)<d.node(-3).childCount?2:3,M={...sc(v,d.node().type.name,d.node().attrs),...e},_=((u=f.contentMatch.defaultType)===null||u===void 0?void 0:u.createAndFill(M))||void 0;C=C.append(G.from(f.createAndFill(null,_)||void 0));const q=d.before(d.depth-(j-1));t.replace(q,d.after(-L),new ee(C,4-j,0));let Q=-1;t.doc.nodesBetween(q,t.doc.content.size,(se,J)=>{if(Q>-1)return!1;se.isTextblock&&se.content.size===0&&(Q=J+1)}),Q>-1&&t.setSelection(ge.near(t.doc.resolve(Q))),t.scrollIntoView()}return!0}const b=h.pos===d.end()?y.contentMatchAt(0).defaultType:null,x={...sc(v,y.type.name,y.attrs),...e},E={...sc(v,d.node().type.name,d.node().attrs),...e};t.delete(d.pos,h.pos);const T=b?[{type:f,attrs:x},{type:b,attrs:E}]:[{type:f,attrs:x}];if(!_r(t.doc,d.pos,2))return!1;if(l){const{selection:C,storedMarks:j}=r,{splittableMarks:L}=a.extensionManager,M=j||C.$to.parentOffset&&C.$from.marks();if(t.split(d.pos,2,T).scrollIntoView(),!M||!l)return!0;const _=M.filter(q=>L.includes(q.type.name));t.ensureMarks(_)}return!0},tp=(n,e)=>{const t=zm(u=>u.type===e)(n.selection);if(!t)return!0;const r=n.doc.resolve(Math.max(0,t.pos-1)).before(t.depth);if(r===void 0)return!0;const l=n.doc.nodeAt(r);return t.node.type===(l==null?void 0:l.type)&&Di(n.doc,t.pos)&&n.join(t.pos),!0},np=(n,e)=>{const t=zm(u=>u.type===e)(n.selection);if(!t)return!0;const r=n.doc.resolve(t.start).after(t.depth);if(r===void 0)return!0;const l=n.doc.nodeAt(r);return t.node.type===(l==null?void 0:l.type)&&Di(n.doc,r)&&n.join(r),!0},HD=(n,e,t,r={})=>({editor:l,tr:a,state:u,dispatch:f,chain:d,commands:h,can:m})=>{const{extensions:y,splittableMarks:v}=l.extensionManager,b=bt(n,u.schema),x=bt(e,u.schema),{selection:E,storedMarks:T}=u,{$from:C,$to:j}=E,L=C.blockRange(j),M=T||E.$to.parentOffset&&E.$from.marks();if(!L)return!1;const _=zm(q=>c1(q.type.name,y))(E);if(L.depth>=1&&_&&L.depth-_.depth<=1){if(_.node.type===b)return h.liftListItem(x);if(c1(_.node.type.name,y)&&b.validContent(_.node.content)&&f)return d().command(()=>(a.setNodeMarkup(_.pos,b),!0)).command(()=>tp(a,b)).command(()=>np(a,b)).run()}return!t||!M||!f?d().command(()=>m().wrapInList(b,r)?!0:h.clearNodes()).wrapInList(b,r).command(()=>tp(a,b)).command(()=>np(a,b)).run():d().command(()=>{const q=m().wrapInList(b,r),Q=M.filter(se=>v.includes(se.type.name));return a.ensureMarks(Q),q?!0:h.clearNodes()}).wrapInList(b,r).command(()=>tp(a,b)).command(()=>np(a,b)).run()},_D=(n,e={},t={})=>({state:r,commands:l})=>{const{extendEmptyMarkRange:a=!1}=t,u=ji(n,r.schema);return Vp(r,u,e)?l.unsetMark(u,{extendEmptyMarkRange:a}):l.setMark(u,e)},UD=(n,e,t={})=>({state:r,commands:l})=>{const a=bt(n,r.schema),u=bt(e,r.schema),f=go(r,a,t);let d;return r.selection.$anchor.sameParent(r.selection.$head)&&(d=r.selection.$anchor.parent.attrs),f?l.setNode(u,d):l.setNode(a,{...d,...t})},VD=(n,e={})=>({state:t,commands:r})=>{const l=bt(n,t.schema);return go(t,l,e)?r.lift(l):r.wrapIn(l,e)},qD=()=>({state:n,dispatch:e})=>{const t=n.plugins;for(let r=0;r<t.length;r+=1){const l=t[r];let a;if(l.spec.isInputRules&&(a=l.getState(n))){if(e){const u=n.tr,f=a.transform;for(let d=f.steps.length-1;d>=0;d-=1)u.step(f.steps[d].invert(f.docs[d]));if(a.text){const d=u.doc.resolve(a.from).marks();u.replaceWith(a.from,a.to,n.schema.text(a.text,d))}else u.delete(a.from,a.to)}return!0}}return!1},PD=()=>({tr:n,dispatch:e})=>{const{selection:t}=n,{empty:r,ranges:l}=t;return r||e&&l.forEach(a=>{n.removeMark(a.$from.pos,a.$to.pos)}),!0},ID=(n,e={})=>({tr:t,state:r,dispatch:l})=>{var a;const{extendEmptyMarkRange:u=!1}=e,{selection:f}=t,d=ji(n,r.schema),{$from:h,empty:m,ranges:y}=f;if(!l)return!0;if(m&&u){let{from:v,to:b}=f;const x=(a=h.marks().find(T=>T.type===d))===null||a===void 0?void 0:a.attrs,E=Rm(h,d,x);E&&(v=E.from,b=E.to),t.removeMark(v,b,d)}else y.forEach(v=>{t.removeMark(v.$from.pos,v.$to.pos,d)});return t.removeStoredMark(d),!0},$D=(n,e={})=>({tr:t,state:r,dispatch:l})=>{let a=null,u=null;const f=pf(typeof n=="string"?n:n.name,r.schema);return f?(f==="node"&&(a=bt(n,r.schema)),f==="mark"&&(u=ji(n,r.schema)),l&&t.selection.ranges.forEach(d=>{const h=d.$from.pos,m=d.$to.pos;let y,v,b,x;t.selection.empty?r.doc.nodesBetween(h,m,(E,T)=>{a&&a===E.type&&(b=Math.max(T,h),x=Math.min(T+E.nodeSize,m),y=T,v=E)}):r.doc.nodesBetween(h,m,(E,T)=>{T<h&&a&&a===E.type&&(b=Math.max(T,h),x=Math.min(T+E.nodeSize,m),y=T,v=E),T>=h&&T<=m&&(a&&a===E.type&&t.setNodeMarkup(T,void 0,{...E.attrs,...e}),u&&E.marks.length&&E.marks.forEach(C=>{if(u===C.type){const j=Math.max(T,h),L=Math.min(T+E.nodeSize,m);t.addMark(j,L,u.create({...C.attrs,...e}))}}))}),v&&(y!==void 0&&t.setNodeMarkup(y,void 0,{...v.attrs,...e}),u&&v.marks.length&&v.marks.forEach(E=>{u===E.type&&t.addMark(b,x,u.create({...E.attrs,...e}))}))}),!0):!1},YD=(n,e={})=>({state:t,dispatch:r})=>{const l=bt(n,t.schema);return rA(l,e)(t,r)},KD=(n,e={})=>({state:t,dispatch:r})=>{const l=bt(n,t.schema);return iA(l,e)(t,r)};var GD=Object.freeze({__proto__:null,blur:MA,clearContent:OA,clearNodes:NA,command:AA,createParagraphNear:DA,cut:RA,deleteCurrentNode:jA,deleteNode:LA,deleteRange:zA,deleteSelection:BA,enter:HA,exitCode:_A,extendMarkRange:UA,first:VA,focus:PA,forEach:IA,insertContent:$A,insertContentAt:GA,joinBackward:JA,joinDown:XA,joinForward:QA,joinItemBackward:ZA,joinItemForward:WA,joinTextblockBackward:eD,joinTextblockForward:tD,joinUp:FA,keyboardShortcut:rD,lift:iD,liftEmptyBlock:sD,liftListItem:lD,newlineInCode:aD,resetAttributes:oD,scrollIntoView:uD,selectAll:cD,selectNodeBackward:fD,selectNodeForward:dD,selectParentNode:hD,selectTextblockEnd:pD,selectTextblockStart:mD,setContent:gD,setMark:ND,setMeta:AD,setNode:DD,setNodeSelection:RD,setTextSelection:jD,sinkListItem:LD,splitBlock:zD,splitListItem:BD,toggleList:HD,toggleMark:_D,toggleNode:UD,toggleWrap:VD,undoInputRule:qD,unsetAllMarks:PD,unsetMark:ID,updateAttributes:$D,wrapIn:YD,wrapInList:KD});const FD=zt.create({name:"commands",addCommands(){return{...GD}}}),XD=zt.create({name:"drop",addProseMirrorPlugins(){return[new St({key:new tn("tiptapDrop"),props:{handleDrop:(n,e,t,r)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:t,moved:r})}}})]}}),JD=zt.create({name:"editable",addProseMirrorPlugins(){return[new St({key:new tn("editable"),props:{editable:()=>this.editor.options.editable}})]}}),QD=new tn("focusEvents"),ZD=zt.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:n}=this;return[new St({key:QD,props:{handleDOMEvents:{focus:(e,t)=>{n.isFocused=!0;const r=n.state.tr.setMeta("focus",{event:t}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,t)=>{n.isFocused=!1;const r=n.state.tr.setMeta("blur",{event:t}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),WD=zt.create({name:"keymap",addKeyboardShortcuts(){const n=()=>this.editor.commands.first(({commands:u})=>[()=>u.undoInputRule(),()=>u.command(({tr:f})=>{const{selection:d,doc:h}=f,{empty:m,$anchor:y}=d,{pos:v,parent:b}=y,x=y.parent.isTextblock&&v>0?f.doc.resolve(v-1):y,E=x.parent.type.spec.isolating,T=y.pos-y.parentOffset,C=E&&x.parent.childCount===1?T===y.pos:be.atStart(h).from===v;return!m||!b.type.isTextblock||b.textContent.length||!C||C&&y.parent.type.name==="paragraph"?!1:u.clearNodes()}),()=>u.deleteSelection(),()=>u.joinBackward(),()=>u.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:u})=>[()=>u.deleteSelection(),()=>u.deleteCurrentNode(),()=>u.joinForward(),()=>u.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:u})=>[()=>u.newlineInCode(),()=>u.createParagraphNear(),()=>u.liftEmptyBlock(),()=>u.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:n,"Mod-Backspace":n,"Shift-Backspace":n,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},l={...r},a={...r,"Ctrl-h":n,"Alt-Backspace":n,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return Lm()||FS()?a:l},addProseMirrorPlugins(){return[new St({key:new tn("clearDocument"),appendTransaction:(n,e,t)=>{if(n.some(E=>E.getMeta("composition")))return;const r=n.some(E=>E.docChanged)&&!e.doc.eq(t.doc),l=n.some(E=>E.getMeta("preventClearDocument"));if(!r||l)return;const{empty:a,from:u,to:f}=e.selection,d=be.atStart(e.doc).from,h=be.atEnd(e.doc).to;if(a||!(u===d&&f===h)||!Hm(t.doc))return;const v=t.tr,b=uf({state:t,transaction:v}),{commands:x}=new cf({editor:this.editor,state:b});if(x.clearNodes(),!!v.steps.length)return v}})]}}),eR=zt.create({name:"paste",addProseMirrorPlugins(){return[new St({key:new tn("tiptapPaste"),props:{handlePaste:(n,e,t)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:t})}}})]}}),tR=zt.create({name:"tabindex",addProseMirrorPlugins(){return[new St({key:new tn("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}});class ls{get name(){return this.node.type.name}constructor(e,t,r=!1,l=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=e,this.editor=t,this.currentNode=l}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!==null&&e!==void 0?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let t=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}t=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:t,to:r},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),t=this.resolvedPos.doc.resolve(e);return new ls(t,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new ls(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new ls(e,this.editor)}get children(){const e=[];return this.node.content.forEach((t,r)=>{const l=t.isBlock&&!t.isTextblock,a=t.isAtom&&!t.isText,u=this.pos+r+(a?0:1),f=this.resolvedPos.doc.resolve(u);if(!l&&f.depth<=this.depth)return;const d=new ls(f,this.editor,l,l?t:null);l&&(d.actualDepth=this.depth+1),e.push(new ls(f,this.editor,l,l?t:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,t={}){let r=null,l=this.parent;for(;l&&!r;){if(l.node.type.name===e)if(Object.keys(t).length>0){const a=l.node.attrs,u=Object.keys(t);for(let f=0;f<u.length;f+=1){const d=u[f];if(a[d]!==t[d])break}}else r=l;l=l.parent}return r}querySelector(e,t={}){return this.querySelectorAll(e,t,!0)[0]||null}querySelectorAll(e,t={},r=!1){let l=[];if(!this.children||this.children.length===0)return l;const a=Object.keys(t);return this.children.forEach(u=>{r&&l.length>0||(u.node.type.name===e&&a.every(d=>t[d]===u.node.attrs[d])&&l.push(u),!(r&&l.length>0)&&(l=l.concat(u.querySelectorAll(e,t,r))))}),l}setAttribute(e){const{tr:t}=this.editor.state;t.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(t)}}const nR=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function rR(n,e,t){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const l=document.createElement("style");return e&&l.setAttribute("nonce",e),l.setAttribute("data-tiptap-style",""),l.innerHTML=n,document.getElementsByTagName("head")[0].appendChild(l),l}class iR extends fA{constructor(e={}){super(),this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:t})=>{throw t},onPaste:()=>null,onDrop:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("contentError",this.options.onContentError),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:t,slice:r,moved:l})=>this.options.onDrop(t,r,l)),this.on("paste",({event:t,slice:r})=>this.options.onPaste(t,r)),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=rR(nR,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,t=!0){this.setOptions({editable:e}),t&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,t){const r=PS(t)?t(e,[...this.state.plugins]):[...this.state.plugins,e],l=this.state.reconfigure({plugins:r});return this.view.updateState(l),l}unregisterPlugin(e){if(this.isDestroyed)return;const t=this.state.plugins;let r=t;if([].concat(e).forEach(a=>{const u=typeof a=="string"?`${a}$`:a.key;r=r.filter(f=>!f.key.startsWith(u))}),t.length===r.length)return;const l=this.state.reconfigure({plugins:r});return this.view.updateState(l),l}createExtensionManager(){var e,t;const l=[...this.options.enableCoreExtensions?[JD,CA.configure({blockSeparator:(t=(e=this.options.coreExtensionOptions)===null||e===void 0?void 0:e.clipboardTextSerializer)===null||t===void 0?void 0:t.blockSeparator}),FD,ZD,WD,tR,XD,eR].filter(a=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[a.name]!==!1:!0):[],...this.options.extensions].filter(a=>["extension","node","mark"].includes(a==null?void 0:a.type));this.extensionManager=new El(l,this)}createCommandManager(){this.commandManager=new cf({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){var e;let t;try{t=Up(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(u){if(!(u instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(u.message))throw u;this.emit("contentError",{editor:this,error:u,disableCollaboration:()=>{this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(f=>f.name!=="collaboration"),this.createExtensionManager()}}),t=Up(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}const r=KS(t,this.options.autofocus);this.view=new LN(this.options.element,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)===null||e===void 0?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:wl.create({doc:t,selection:r||void 0})});const l=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(l),this.createNodeViews(),this.prependClass();const a=this.view.dom;a.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const t=this.capturedTransaction;return this.capturedTransaction=null,t}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(u=>{var f;return(f=this.capturedTransaction)===null||f===void 0?void 0:f.step(u)});return}const t=this.state.apply(e),r=!this.state.selection.eq(t.selection);this.emit("beforeTransaction",{editor:this,transaction:e,nextState:t}),this.view.updateState(t),this.emit("transaction",{editor:this,transaction:e}),r&&this.emit("selectionUpdate",{editor:this,transaction:e});const l=e.getMeta("focus"),a=e.getMeta("blur");l&&this.emit("focus",{editor:this,event:l.event,transaction:e}),a&&this.emit("blur",{editor:this,event:a.event,transaction:e}),!(!e.docChanged||e.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return JS(this.state,e)}isActive(e,t){const r=typeof e=="string"?e:null,l=typeof e=="string"?t:e;return CD(this.state,r,l)}getJSON(){return this.state.doc.toJSON()}getHTML(){return Am(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:t=`

`,textSerializers:r={}}=e||{};return SD(this.state.doc,{blockSeparator:t,textSerializers:{...$S(this.schema),...r}})}get isEmpty(){return Hm(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){if(this.emit("destroy"),this.view){const e=this.view.dom;e&&e.editor&&delete e.editor,this.view.destroy()}this.removeAllListeners()}get isDestroyed(){var e;return!(!((e=this.view)===null||e===void 0)&&e.docView)}$node(e,t){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelector(e,t))||null}$nodes(e,t){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelectorAll(e,t))||null}$pos(e){const t=this.state.doc.resolve(e);return new ls(t,this)}get $doc(){return this.$pos(0)}}function Dl(n){return new df({find:n.find,handler:({state:e,range:t,match:r})=>{const l=Ee(n.getAttributes,void 0,r);if(l===!1||l===null)return null;const{tr:a}=e,u=r[r.length-1],f=r[0];if(u){const d=f.search(/\S/),h=t.from+f.indexOf(u),m=h+u.length;if(Bm(t.from,t.to,e.doc).filter(b=>b.mark.type.excluded.find(E=>E===n.type&&E!==b.mark.type)).filter(b=>b.to>h).length)return null;m<t.to&&a.delete(m,t.to),h>t.from&&a.delete(t.from+d,h);const v=t.from+d+u.length;a.addMark(t.from+d,v,n.type.create(l||{})),a.removeStoredMark(n.type)}}})}function ZS(n){return new df({find:n.find,handler:({state:e,range:t,match:r})=>{const l=Ee(n.getAttributes,void 0,r)||{},{tr:a}=e,u=t.from;let f=t.to;const d=n.type.create(l);if(r[1]){const h=r[0].lastIndexOf(r[1]);let m=u+h;m>f?m=f:f=m+r[1].length;const y=r[0][r[0].length-1];a.insertText(y,u+r[0].length-1),a.replaceWith(m,f,d)}else if(r[0]){const h=n.type.isInline?u:u-1;a.insert(h,n.type.create(l)).delete(a.mapping.map(u),a.mapping.map(f))}a.scrollIntoView()}})}function qp(n){return new df({find:n.find,handler:({state:e,range:t,match:r})=>{const l=e.doc.resolve(t.from),a=Ee(n.getAttributes,void 0,r)||{};if(!l.node(-1).canReplaceWith(l.index(-1),l.indexAfter(-1),n.type))return null;e.tr.delete(t.from,t.to).setBlockType(t.from,t.from,n.type,a)}})}function yo(n){return new df({find:n.find,handler:({state:e,range:t,match:r,chain:l})=>{const a=Ee(n.getAttributes,void 0,r)||{},u=e.tr.delete(t.from,t.to),d=u.doc.resolve(t.from).blockRange(),h=d&&pm(d,n.type,a);if(!h)return null;if(u.wrap(d,h),n.keepMarks&&n.editor){const{selection:y,storedMarks:v}=e,{splittableMarks:b}=n.editor.extensionManager,x=v||y.$to.parentOffset&&y.$from.marks();if(x){const E=x.filter(T=>b.includes(T.type.name));u.ensureMarks(E)}}if(n.keepAttributes){const y=n.type.name==="bulletList"||n.type.name==="orderedList"?"listItem":"taskList";l().updateAttributes(y,a).run()}const m=u.doc.resolve(t.from-1).nodeBefore;m&&m.type===n.type&&Di(u.doc,t.from-1)&&(!n.joinPredicate||n.joinPredicate(r,m))&&u.join(t.from-1)}})}class $t{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Ee(ie(this,"addOptions",{name:this.name}))),this.storage=Ee(ie(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new $t(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>hf(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new $t(e);return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=Ee(ie(t,"addOptions",{name:t.name})),t.storage=Ee(ie(t,"addStorage",{name:t.name,options:t.options})),t}}function Ss(n){return new xA({find:n.find,handler:({state:e,range:t,match:r,pasteEvent:l})=>{const a=Ee(n.getAttributes,void 0,r,l);if(a===!1||a===null)return null;const{tr:u}=e,f=r[r.length-1],d=r[0];let h=t.to;if(f){const m=d.search(/\S/),y=t.from+d.indexOf(f),v=y+f.length;if(Bm(t.from,t.to,e.doc).filter(x=>x.mark.type.excluded.find(T=>T===n.type&&T!==x.mark.type)).filter(x=>x.to>y).length)return null;v<t.to&&u.delete(v,t.to),y>t.from&&u.delete(t.from+m,y),h=t.from+m+f.length,u.addMark(t.from+m,h,n.type.create(a||{})),u.removeStoredMark(n.type)}}})}var Wt="top",zn="bottom",Bn="right",en="left",_m="auto",Oo=[Wt,zn,Bn,en],Rl="start",vo="end",sR="clippingParents",WS="viewport",Pa="popper",lR="reference",d1=Oo.reduce(function(n,e){return n.concat([e+"-"+Rl,e+"-"+vo])},[]),ew=[].concat(Oo,[_m]).reduce(function(n,e){return n.concat([e,e+"-"+Rl,e+"-"+vo])},[]),aR="beforeRead",oR="read",uR="afterRead",cR="beforeMain",fR="main",dR="afterMain",hR="beforeWrite",pR="write",mR="afterWrite",gR=[aR,oR,uR,cR,fR,dR,hR,pR,mR];function fr(n){return n?(n.nodeName||"").toLowerCase():null}function pn(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var e=n.ownerDocument;return e&&e.defaultView||window}return n}function ws(n){var e=pn(n).Element;return n instanceof e||n instanceof Element}function Ln(n){var e=pn(n).HTMLElement;return n instanceof e||n instanceof HTMLElement}function Um(n){if(typeof ShadowRoot>"u")return!1;var e=pn(n).ShadowRoot;return n instanceof e||n instanceof ShadowRoot}function yR(n){var e=n.state;Object.keys(e.elements).forEach(function(t){var r=e.styles[t]||{},l=e.attributes[t]||{},a=e.elements[t];!Ln(a)||!fr(a)||(Object.assign(a.style,r),Object.keys(l).forEach(function(u){var f=l[u];f===!1?a.removeAttribute(u):a.setAttribute(u,f===!0?"":f)}))})}function vR(n){var e=n.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(r){var l=e.elements[r],a=e.attributes[r]||{},u=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:t[r]),f=u.reduce(function(d,h){return d[h]="",d},{});!Ln(l)||!fr(l)||(Object.assign(l.style,f),Object.keys(a).forEach(function(d){l.removeAttribute(d)}))})}}const tw={name:"applyStyles",enabled:!0,phase:"write",fn:yR,effect:vR,requires:["computeStyles"]};function ar(n){return n.split("-")[0]}var ms=Math.max,Ec=Math.min,jl=Math.round;function Pp(){var n=navigator.userAgentData;return n!=null&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function nw(){return!/^((?!chrome|android).)*safari/i.test(Pp())}function Ll(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);var r=n.getBoundingClientRect(),l=1,a=1;e&&Ln(n)&&(l=n.offsetWidth>0&&jl(r.width)/n.offsetWidth||1,a=n.offsetHeight>0&&jl(r.height)/n.offsetHeight||1);var u=ws(n)?pn(n):window,f=u.visualViewport,d=!nw()&&t,h=(r.left+(d&&f?f.offsetLeft:0))/l,m=(r.top+(d&&f?f.offsetTop:0))/a,y=r.width/l,v=r.height/a;return{width:y,height:v,top:m,right:h+y,bottom:m+v,left:h,x:h,y:m}}function Vm(n){var e=Ll(n),t=n.offsetWidth,r=n.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:n.offsetLeft,y:n.offsetTop,width:t,height:r}}function rw(n,e){var t=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(t&&Um(t)){var r=e;do{if(r&&n.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function qr(n){return pn(n).getComputedStyle(n)}function bR(n){return["table","td","th"].indexOf(fr(n))>=0}function Li(n){return((ws(n)?n.ownerDocument:n.document)||window.document).documentElement}function mf(n){return fr(n)==="html"?n:n.assignedSlot||n.parentNode||(Um(n)?n.host:null)||Li(n)}function h1(n){return!Ln(n)||qr(n).position==="fixed"?null:n.offsetParent}function xR(n){var e=/firefox/i.test(Pp()),t=/Trident/i.test(Pp());if(t&&Ln(n)){var r=qr(n);if(r.position==="fixed")return null}var l=mf(n);for(Um(l)&&(l=l.host);Ln(l)&&["html","body"].indexOf(fr(l))<0;){var a=qr(l);if(a.transform!=="none"||a.perspective!=="none"||a.contain==="paint"||["transform","perspective"].indexOf(a.willChange)!==-1||e&&a.willChange==="filter"||e&&a.filter&&a.filter!=="none")return l;l=l.parentNode}return null}function No(n){for(var e=pn(n),t=h1(n);t&&bR(t)&&qr(t).position==="static";)t=h1(t);return t&&(fr(t)==="html"||fr(t)==="body"&&qr(t).position==="static")?e:t||xR(n)||e}function qm(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function Za(n,e,t){return ms(n,Ec(e,t))}function SR(n,e,t){var r=Za(n,e,t);return r>t?t:r}function iw(){return{top:0,right:0,bottom:0,left:0}}function sw(n){return Object.assign({},iw(),n)}function lw(n,e){return e.reduce(function(t,r){return t[r]=n,t},{})}var wR=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,sw(typeof e!="number"?e:lw(e,Oo))};function ER(n){var e,t=n.state,r=n.name,l=n.options,a=t.elements.arrow,u=t.modifiersData.popperOffsets,f=ar(t.placement),d=qm(f),h=[en,Bn].indexOf(f)>=0,m=h?"height":"width";if(!(!a||!u)){var y=wR(l.padding,t),v=Vm(a),b=d==="y"?Wt:en,x=d==="y"?zn:Bn,E=t.rects.reference[m]+t.rects.reference[d]-u[d]-t.rects.popper[m],T=u[d]-t.rects.reference[d],C=No(a),j=C?d==="y"?C.clientHeight||0:C.clientWidth||0:0,L=E/2-T/2,M=y[b],_=j-v[m]-y[x],q=j/2-v[m]/2+L,Q=Za(M,q,_),se=d;t.modifiersData[r]=(e={},e[se]=Q,e.centerOffset=Q-q,e)}}function kR(n){var e=n.state,t=n.options,r=t.element,l=r===void 0?"[data-popper-arrow]":r;l!=null&&(typeof l=="string"&&(l=e.elements.popper.querySelector(l),!l)||rw(e.elements.popper,l)&&(e.elements.arrow=l))}const TR={name:"arrow",enabled:!0,phase:"main",fn:ER,effect:kR,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function zl(n){return n.split("-")[1]}var CR={top:"auto",right:"auto",bottom:"auto",left:"auto"};function MR(n,e){var t=n.x,r=n.y,l=e.devicePixelRatio||1;return{x:jl(t*l)/l||0,y:jl(r*l)/l||0}}function p1(n){var e,t=n.popper,r=n.popperRect,l=n.placement,a=n.variation,u=n.offsets,f=n.position,d=n.gpuAcceleration,h=n.adaptive,m=n.roundOffsets,y=n.isFixed,v=u.x,b=v===void 0?0:v,x=u.y,E=x===void 0?0:x,T=typeof m=="function"?m({x:b,y:E}):{x:b,y:E};b=T.x,E=T.y;var C=u.hasOwnProperty("x"),j=u.hasOwnProperty("y"),L=en,M=Wt,_=window;if(h){var q=No(t),Q="clientHeight",se="clientWidth";if(q===pn(t)&&(q=Li(t),qr(q).position!=="static"&&f==="absolute"&&(Q="scrollHeight",se="scrollWidth")),q=q,l===Wt||(l===en||l===Bn)&&a===vo){M=zn;var J=y&&q===_&&_.visualViewport?_.visualViewport.height:q[Q];E-=J-r.height,E*=d?1:-1}if(l===en||(l===Wt||l===zn)&&a===vo){L=Bn;var ce=y&&q===_&&_.visualViewport?_.visualViewport.width:q[se];b-=ce-r.width,b*=d?1:-1}}var xe=Object.assign({position:f},h&&CR),me=m===!0?MR({x:b,y:E},pn(t)):{x:b,y:E};if(b=me.x,E=me.y,d){var De;return Object.assign({},xe,(De={},De[M]=j?"0":"",De[L]=C?"0":"",De.transform=(_.devicePixelRatio||1)<=1?"translate("+b+"px, "+E+"px)":"translate3d("+b+"px, "+E+"px, 0)",De))}return Object.assign({},xe,(e={},e[M]=j?E+"px":"",e[L]=C?b+"px":"",e.transform="",e))}function OR(n){var e=n.state,t=n.options,r=t.gpuAcceleration,l=r===void 0?!0:r,a=t.adaptive,u=a===void 0?!0:a,f=t.roundOffsets,d=f===void 0?!0:f,h={placement:ar(e.placement),variation:zl(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:l,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,p1(Object.assign({},h,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:u,roundOffsets:d})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,p1(Object.assign({},h,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:d})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const NR={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:OR,data:{}};var Fu={passive:!0};function AR(n){var e=n.state,t=n.instance,r=n.options,l=r.scroll,a=l===void 0?!0:l,u=r.resize,f=u===void 0?!0:u,d=pn(e.elements.popper),h=[].concat(e.scrollParents.reference,e.scrollParents.popper);return a&&h.forEach(function(m){m.addEventListener("scroll",t.update,Fu)}),f&&d.addEventListener("resize",t.update,Fu),function(){a&&h.forEach(function(m){m.removeEventListener("scroll",t.update,Fu)}),f&&d.removeEventListener("resize",t.update,Fu)}}const DR={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:AR,data:{}};var RR={left:"right",right:"left",bottom:"top",top:"bottom"};function lc(n){return n.replace(/left|right|bottom|top/g,function(e){return RR[e]})}var jR={start:"end",end:"start"};function m1(n){return n.replace(/start|end/g,function(e){return jR[e]})}function Pm(n){var e=pn(n),t=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:t,scrollTop:r}}function Im(n){return Ll(Li(n)).left+Pm(n).scrollLeft}function LR(n,e){var t=pn(n),r=Li(n),l=t.visualViewport,a=r.clientWidth,u=r.clientHeight,f=0,d=0;if(l){a=l.width,u=l.height;var h=nw();(h||!h&&e==="fixed")&&(f=l.offsetLeft,d=l.offsetTop)}return{width:a,height:u,x:f+Im(n),y:d}}function zR(n){var e,t=Li(n),r=Pm(n),l=(e=n.ownerDocument)==null?void 0:e.body,a=ms(t.scrollWidth,t.clientWidth,l?l.scrollWidth:0,l?l.clientWidth:0),u=ms(t.scrollHeight,t.clientHeight,l?l.scrollHeight:0,l?l.clientHeight:0),f=-r.scrollLeft+Im(n),d=-r.scrollTop;return qr(l||t).direction==="rtl"&&(f+=ms(t.clientWidth,l?l.clientWidth:0)-a),{width:a,height:u,x:f,y:d}}function $m(n){var e=qr(n),t=e.overflow,r=e.overflowX,l=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+l+r)}function aw(n){return["html","body","#document"].indexOf(fr(n))>=0?n.ownerDocument.body:Ln(n)&&$m(n)?n:aw(mf(n))}function Wa(n,e){var t;e===void 0&&(e=[]);var r=aw(n),l=r===((t=n.ownerDocument)==null?void 0:t.body),a=pn(r),u=l?[a].concat(a.visualViewport||[],$m(r)?r:[]):r,f=e.concat(u);return l?f:f.concat(Wa(mf(u)))}function Ip(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function BR(n,e){var t=Ll(n,!1,e==="fixed");return t.top=t.top+n.clientTop,t.left=t.left+n.clientLeft,t.bottom=t.top+n.clientHeight,t.right=t.left+n.clientWidth,t.width=n.clientWidth,t.height=n.clientHeight,t.x=t.left,t.y=t.top,t}function g1(n,e,t){return e===WS?Ip(LR(n,t)):ws(e)?BR(e,t):Ip(zR(Li(n)))}function HR(n){var e=Wa(mf(n)),t=["absolute","fixed"].indexOf(qr(n).position)>=0,r=t&&Ln(n)?No(n):n;return ws(r)?e.filter(function(l){return ws(l)&&rw(l,r)&&fr(l)!=="body"}):[]}function _R(n,e,t,r){var l=e==="clippingParents"?HR(n):[].concat(e),a=[].concat(l,[t]),u=a[0],f=a.reduce(function(d,h){var m=g1(n,h,r);return d.top=ms(m.top,d.top),d.right=Ec(m.right,d.right),d.bottom=Ec(m.bottom,d.bottom),d.left=ms(m.left,d.left),d},g1(n,u,r));return f.width=f.right-f.left,f.height=f.bottom-f.top,f.x=f.left,f.y=f.top,f}function ow(n){var e=n.reference,t=n.element,r=n.placement,l=r?ar(r):null,a=r?zl(r):null,u=e.x+e.width/2-t.width/2,f=e.y+e.height/2-t.height/2,d;switch(l){case Wt:d={x:u,y:e.y-t.height};break;case zn:d={x:u,y:e.y+e.height};break;case Bn:d={x:e.x+e.width,y:f};break;case en:d={x:e.x-t.width,y:f};break;default:d={x:e.x,y:e.y}}var h=l?qm(l):null;if(h!=null){var m=h==="y"?"height":"width";switch(a){case Rl:d[h]=d[h]-(e[m]/2-t[m]/2);break;case vo:d[h]=d[h]+(e[m]/2-t[m]/2);break}}return d}function bo(n,e){e===void 0&&(e={});var t=e,r=t.placement,l=r===void 0?n.placement:r,a=t.strategy,u=a===void 0?n.strategy:a,f=t.boundary,d=f===void 0?sR:f,h=t.rootBoundary,m=h===void 0?WS:h,y=t.elementContext,v=y===void 0?Pa:y,b=t.altBoundary,x=b===void 0?!1:b,E=t.padding,T=E===void 0?0:E,C=sw(typeof T!="number"?T:lw(T,Oo)),j=v===Pa?lR:Pa,L=n.rects.popper,M=n.elements[x?j:v],_=_R(ws(M)?M:M.contextElement||Li(n.elements.popper),d,m,u),q=Ll(n.elements.reference),Q=ow({reference:q,element:L,placement:l}),se=Ip(Object.assign({},L,Q)),J=v===Pa?se:q,ce={top:_.top-J.top+C.top,bottom:J.bottom-_.bottom+C.bottom,left:_.left-J.left+C.left,right:J.right-_.right+C.right},xe=n.modifiersData.offset;if(v===Pa&&xe){var me=xe[l];Object.keys(ce).forEach(function(De){var Ye=[Bn,zn].indexOf(De)>=0?1:-1,Oe=[Wt,zn].indexOf(De)>=0?"y":"x";ce[De]+=me[Oe]*Ye})}return ce}function UR(n,e){e===void 0&&(e={});var t=e,r=t.placement,l=t.boundary,a=t.rootBoundary,u=t.padding,f=t.flipVariations,d=t.allowedAutoPlacements,h=d===void 0?ew:d,m=zl(r),y=m?f?d1:d1.filter(function(x){return zl(x)===m}):Oo,v=y.filter(function(x){return h.indexOf(x)>=0});v.length===0&&(v=y);var b=v.reduce(function(x,E){return x[E]=bo(n,{placement:E,boundary:l,rootBoundary:a,padding:u})[ar(E)],x},{});return Object.keys(b).sort(function(x,E){return b[x]-b[E]})}function VR(n){if(ar(n)===_m)return[];var e=lc(n);return[m1(n),e,m1(e)]}function qR(n){var e=n.state,t=n.options,r=n.name;if(!e.modifiersData[r]._skip){for(var l=t.mainAxis,a=l===void 0?!0:l,u=t.altAxis,f=u===void 0?!0:u,d=t.fallbackPlacements,h=t.padding,m=t.boundary,y=t.rootBoundary,v=t.altBoundary,b=t.flipVariations,x=b===void 0?!0:b,E=t.allowedAutoPlacements,T=e.options.placement,C=ar(T),j=C===T,L=d||(j||!x?[lc(T)]:VR(T)),M=[T].concat(L).reduce(function(le,ye){return le.concat(ar(ye)===_m?UR(e,{placement:ye,boundary:m,rootBoundary:y,padding:h,flipVariations:x,allowedAutoPlacements:E}):ye)},[]),_=e.rects.reference,q=e.rects.popper,Q=new Map,se=!0,J=M[0],ce=0;ce<M.length;ce++){var xe=M[ce],me=ar(xe),De=zl(xe)===Rl,Ye=[Wt,zn].indexOf(me)>=0,Oe=Ye?"width":"height",V=bo(e,{placement:xe,boundary:m,rootBoundary:y,altBoundary:v,padding:h}),F=Ye?De?Bn:en:De?zn:Wt;_[Oe]>q[Oe]&&(F=lc(F));var ne=lc(F),ke=[];if(a&&ke.push(V[me]<=0),f&&ke.push(V[F]<=0,V[ne]<=0),ke.every(function(le){return le})){J=xe,se=!1;break}Q.set(xe,ke)}if(se)for(var N=x?3:1,K=function(ye){var oe=M.find(function(nt){var Re=Q.get(nt);if(Re)return Re.slice(0,ye).every(function(Ht){return Ht})});if(oe)return J=oe,"break"},W=N;W>0;W--){var Z=K(W);if(Z==="break")break}e.placement!==J&&(e.modifiersData[r]._skip=!0,e.placement=J,e.reset=!0)}}const PR={name:"flip",enabled:!0,phase:"main",fn:qR,requiresIfExists:["offset"],data:{_skip:!1}};function y1(n,e,t){return t===void 0&&(t={x:0,y:0}),{top:n.top-e.height-t.y,right:n.right-e.width+t.x,bottom:n.bottom-e.height+t.y,left:n.left-e.width-t.x}}function v1(n){return[Wt,Bn,zn,en].some(function(e){return n[e]>=0})}function IR(n){var e=n.state,t=n.name,r=e.rects.reference,l=e.rects.popper,a=e.modifiersData.preventOverflow,u=bo(e,{elementContext:"reference"}),f=bo(e,{altBoundary:!0}),d=y1(u,r),h=y1(f,l,a),m=v1(d),y=v1(h);e.modifiersData[t]={referenceClippingOffsets:d,popperEscapeOffsets:h,isReferenceHidden:m,hasPopperEscaped:y},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":m,"data-popper-escaped":y})}const $R={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:IR};function YR(n,e,t){var r=ar(n),l=[en,Wt].indexOf(r)>=0?-1:1,a=typeof t=="function"?t(Object.assign({},e,{placement:n})):t,u=a[0],f=a[1];return u=u||0,f=(f||0)*l,[en,Bn].indexOf(r)>=0?{x:f,y:u}:{x:u,y:f}}function KR(n){var e=n.state,t=n.options,r=n.name,l=t.offset,a=l===void 0?[0,0]:l,u=ew.reduce(function(m,y){return m[y]=YR(y,e.rects,a),m},{}),f=u[e.placement],d=f.x,h=f.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=d,e.modifiersData.popperOffsets.y+=h),e.modifiersData[r]=u}const GR={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:KR};function FR(n){var e=n.state,t=n.name;e.modifiersData[t]=ow({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const XR={name:"popperOffsets",enabled:!0,phase:"read",fn:FR,data:{}};function JR(n){return n==="x"?"y":"x"}function QR(n){var e=n.state,t=n.options,r=n.name,l=t.mainAxis,a=l===void 0?!0:l,u=t.altAxis,f=u===void 0?!1:u,d=t.boundary,h=t.rootBoundary,m=t.altBoundary,y=t.padding,v=t.tether,b=v===void 0?!0:v,x=t.tetherOffset,E=x===void 0?0:x,T=bo(e,{boundary:d,rootBoundary:h,padding:y,altBoundary:m}),C=ar(e.placement),j=zl(e.placement),L=!j,M=qm(C),_=JR(M),q=e.modifiersData.popperOffsets,Q=e.rects.reference,se=e.rects.popper,J=typeof E=="function"?E(Object.assign({},e.rects,{placement:e.placement})):E,ce=typeof J=="number"?{mainAxis:J,altAxis:J}:Object.assign({mainAxis:0,altAxis:0},J),xe=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,me={x:0,y:0};if(q){if(a){var De,Ye=M==="y"?Wt:en,Oe=M==="y"?zn:Bn,V=M==="y"?"height":"width",F=q[M],ne=F+T[Ye],ke=F-T[Oe],N=b?-se[V]/2:0,K=j===Rl?Q[V]:se[V],W=j===Rl?-se[V]:-Q[V],Z=e.elements.arrow,le=b&&Z?Vm(Z):{width:0,height:0},ye=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:iw(),oe=ye[Ye],nt=ye[Oe],Re=Za(0,Q[V],le[V]),Ht=L?Q[V]/2-N-Re-oe-ce.mainAxis:K-Re-oe-ce.mainAxis,gn=L?-Q[V]/2+N+Re+nt+ce.mainAxis:W+Re+nt+ce.mainAxis,_n=e.elements.arrow&&No(e.elements.arrow),Pr=_n?M==="y"?_n.clientTop||0:_n.clientLeft||0:0,hr=(De=xe==null?void 0:xe[M])!=null?De:0,Ir=F+Ht-hr-Pr,ks=F+gn-hr,zi=Za(b?Ec(ne,Ir):ne,F,b?ms(ke,ks):ke);q[M]=zi,me[M]=zi-F}if(f){var Nt,Ts=M==="x"?Wt:en,Bi=M==="x"?zn:Bn,yn=q[_],nn=_==="y"?"height":"width",Hi=yn+T[Ts],Gn=yn-T[Bi],_i=[Wt,en].indexOf(C)!==-1,Cs=(Nt=xe==null?void 0:xe[_])!=null?Nt:0,Fn=_i?Hi:yn-Q[nn]-se[nn]-Cs+ce.altAxis,ct=_i?yn+Q[nn]+se[nn]-Cs-ce.altAxis:Gn,rn=b&&_i?SR(Fn,yn,ct):Za(b?Fn:Hi,yn,b?ct:Gn);q[_]=rn,me[_]=rn-yn}e.modifiersData[r]=me}}const ZR={name:"preventOverflow",enabled:!0,phase:"main",fn:QR,requiresIfExists:["offset"]};function WR(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function e3(n){return n===pn(n)||!Ln(n)?Pm(n):WR(n)}function t3(n){var e=n.getBoundingClientRect(),t=jl(e.width)/n.offsetWidth||1,r=jl(e.height)/n.offsetHeight||1;return t!==1||r!==1}function n3(n,e,t){t===void 0&&(t=!1);var r=Ln(e),l=Ln(e)&&t3(e),a=Li(e),u=Ll(n,l,t),f={scrollLeft:0,scrollTop:0},d={x:0,y:0};return(r||!r&&!t)&&((fr(e)!=="body"||$m(a))&&(f=e3(e)),Ln(e)?(d=Ll(e,!0),d.x+=e.clientLeft,d.y+=e.clientTop):a&&(d.x=Im(a))),{x:u.left+f.scrollLeft-d.x,y:u.top+f.scrollTop-d.y,width:u.width,height:u.height}}function r3(n){var e=new Map,t=new Set,r=[];n.forEach(function(a){e.set(a.name,a)});function l(a){t.add(a.name);var u=[].concat(a.requires||[],a.requiresIfExists||[]);u.forEach(function(f){if(!t.has(f)){var d=e.get(f);d&&l(d)}}),r.push(a)}return n.forEach(function(a){t.has(a.name)||l(a)}),r}function i3(n){var e=r3(n);return gR.reduce(function(t,r){return t.concat(e.filter(function(l){return l.phase===r}))},[])}function s3(n){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(n())})})),e}}function l3(n){var e=n.reduce(function(t,r){var l=t[r.name];return t[r.name]=l?Object.assign({},l,r,{options:Object.assign({},l.options,r.options),data:Object.assign({},l.data,r.data)}):r,t},{});return Object.keys(e).map(function(t){return e[t]})}var b1={placement:"bottom",modifiers:[],strategy:"absolute"};function x1(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function a3(n){n===void 0&&(n={});var e=n,t=e.defaultModifiers,r=t===void 0?[]:t,l=e.defaultOptions,a=l===void 0?b1:l;return function(f,d,h){h===void 0&&(h=a);var m={placement:"bottom",orderedModifiers:[],options:Object.assign({},b1,a),modifiersData:{},elements:{reference:f,popper:d},attributes:{},styles:{}},y=[],v=!1,b={state:m,setOptions:function(C){var j=typeof C=="function"?C(m.options):C;E(),m.options=Object.assign({},a,m.options,j),m.scrollParents={reference:ws(f)?Wa(f):f.contextElement?Wa(f.contextElement):[],popper:Wa(d)};var L=i3(l3([].concat(r,m.options.modifiers)));return m.orderedModifiers=L.filter(function(M){return M.enabled}),x(),b.update()},forceUpdate:function(){if(!v){var C=m.elements,j=C.reference,L=C.popper;if(x1(j,L)){m.rects={reference:n3(j,No(L),m.options.strategy==="fixed"),popper:Vm(L)},m.reset=!1,m.placement=m.options.placement,m.orderedModifiers.forEach(function(ce){return m.modifiersData[ce.name]=Object.assign({},ce.data)});for(var M=0;M<m.orderedModifiers.length;M++){if(m.reset===!0){m.reset=!1,M=-1;continue}var _=m.orderedModifiers[M],q=_.fn,Q=_.options,se=Q===void 0?{}:Q,J=_.name;typeof q=="function"&&(m=q({state:m,options:se,name:J,instance:b})||m)}}}},update:s3(function(){return new Promise(function(T){b.forceUpdate(),T(m)})}),destroy:function(){E(),v=!0}};if(!x1(f,d))return b;b.setOptions(h).then(function(T){!v&&h.onFirstUpdate&&h.onFirstUpdate(T)});function x(){m.orderedModifiers.forEach(function(T){var C=T.name,j=T.options,L=j===void 0?{}:j,M=T.effect;if(typeof M=="function"){var _=M({state:m,name:C,instance:b,options:L}),q=function(){};y.push(_||q)}})}function E(){y.forEach(function(T){return T()}),y=[]}return b}}var o3=[DR,XR,NR,tw,GR,PR,ZR,TR,$R],u3=a3({defaultModifiers:o3}),c3="tippy-box",uw="tippy-content",f3="tippy-backdrop",cw="tippy-arrow",fw="tippy-svg-arrow",is={passive:!0,capture:!0},dw=function(){return document.body};function rp(n,e,t){if(Array.isArray(n)){var r=n[e];return r??(Array.isArray(t)?t[e]:t)}return n}function Ym(n,e){var t={}.toString.call(n);return t.indexOf("[object")===0&&t.indexOf(e+"]")>-1}function hw(n,e){return typeof n=="function"?n.apply(void 0,e):n}function S1(n,e){if(e===0)return n;var t;return function(r){clearTimeout(t),t=setTimeout(function(){n(r)},e)}}function d3(n){return n.split(/\s+/).filter(Boolean)}function xl(n){return[].concat(n)}function w1(n,e){n.indexOf(e)===-1&&n.push(e)}function h3(n){return n.filter(function(e,t){return n.indexOf(e)===t})}function p3(n){return n.split("-")[0]}function kc(n){return[].slice.call(n)}function E1(n){return Object.keys(n).reduce(function(e,t){return n[t]!==void 0&&(e[t]=n[t]),e},{})}function eo(){return document.createElement("div")}function gf(n){return["Element","Fragment"].some(function(e){return Ym(n,e)})}function m3(n){return Ym(n,"NodeList")}function g3(n){return Ym(n,"MouseEvent")}function y3(n){return!!(n&&n._tippy&&n._tippy.reference===n)}function v3(n){return gf(n)?[n]:m3(n)?kc(n):Array.isArray(n)?n:kc(document.querySelectorAll(n))}function ip(n,e){n.forEach(function(t){t&&(t.style.transitionDuration=e+"ms")})}function k1(n,e){n.forEach(function(t){t&&t.setAttribute("data-state",e)})}function b3(n){var e,t=xl(n),r=t[0];return r!=null&&(e=r.ownerDocument)!=null&&e.body?r.ownerDocument:document}function x3(n,e){var t=e.clientX,r=e.clientY;return n.every(function(l){var a=l.popperRect,u=l.popperState,f=l.props,d=f.interactiveBorder,h=p3(u.placement),m=u.modifiersData.offset;if(!m)return!0;var y=h==="bottom"?m.top.y:0,v=h==="top"?m.bottom.y:0,b=h==="right"?m.left.x:0,x=h==="left"?m.right.x:0,E=a.top-r+y>d,T=r-a.bottom-v>d,C=a.left-t+b>d,j=t-a.right-x>d;return E||T||C||j})}function sp(n,e,t){var r=e+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(l){n[r](l,t)})}function T1(n,e){for(var t=e;t;){var r;if(n.contains(t))return!0;t=t.getRootNode==null||(r=t.getRootNode())==null?void 0:r.host}return!1}var sr={isTouch:!1},C1=0;function S3(){sr.isTouch||(sr.isTouch=!0,window.performance&&document.addEventListener("mousemove",pw))}function pw(){var n=performance.now();n-C1<20&&(sr.isTouch=!1,document.removeEventListener("mousemove",pw)),C1=n}function w3(){var n=document.activeElement;if(y3(n)){var e=n._tippy;n.blur&&!e.state.isVisible&&n.blur()}}function E3(){document.addEventListener("touchstart",S3,is),window.addEventListener("blur",w3)}var k3=typeof window<"u"&&typeof document<"u",T3=k3?!!window.msCrypto:!1,C3={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},M3={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},In=Object.assign({appendTo:dw,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},C3,M3),O3=Object.keys(In),N3=function(e){var t=Object.keys(e);t.forEach(function(r){In[r]=e[r]})};function mw(n){var e=n.plugins||[],t=e.reduce(function(r,l){var a=l.name,u=l.defaultValue;if(a){var f;r[a]=n[a]!==void 0?n[a]:(f=In[a])!=null?f:u}return r},{});return Object.assign({},n,t)}function A3(n,e){var t=e?Object.keys(mw(Object.assign({},In,{plugins:e}))):O3,r=t.reduce(function(l,a){var u=(n.getAttribute("data-tippy-"+a)||"").trim();if(!u)return l;if(a==="content")l[a]=u;else try{l[a]=JSON.parse(u)}catch{l[a]=u}return l},{});return r}function M1(n,e){var t=Object.assign({},e,{content:hw(e.content,[n])},e.ignoreAttributes?{}:A3(n,e.plugins));return t.aria=Object.assign({},In.aria,t.aria),t.aria={expanded:t.aria.expanded==="auto"?e.interactive:t.aria.expanded,content:t.aria.content==="auto"?e.interactive?null:"describedby":t.aria.content},t}var D3=function(){return"innerHTML"};function $p(n,e){n[D3()]=e}function O1(n){var e=eo();return n===!0?e.className=cw:(e.className=fw,gf(n)?e.appendChild(n):$p(e,n)),e}function N1(n,e){gf(e.content)?($p(n,""),n.appendChild(e.content)):typeof e.content!="function"&&(e.allowHTML?$p(n,e.content):n.textContent=e.content)}function Yp(n){var e=n.firstElementChild,t=kc(e.children);return{box:e,content:t.find(function(r){return r.classList.contains(uw)}),arrow:t.find(function(r){return r.classList.contains(cw)||r.classList.contains(fw)}),backdrop:t.find(function(r){return r.classList.contains(f3)})}}function gw(n){var e=eo(),t=eo();t.className=c3,t.setAttribute("data-state","hidden"),t.setAttribute("tabindex","-1");var r=eo();r.className=uw,r.setAttribute("data-state","hidden"),N1(r,n.props),e.appendChild(t),t.appendChild(r),l(n.props,n.props);function l(a,u){var f=Yp(e),d=f.box,h=f.content,m=f.arrow;u.theme?d.setAttribute("data-theme",u.theme):d.removeAttribute("data-theme"),typeof u.animation=="string"?d.setAttribute("data-animation",u.animation):d.removeAttribute("data-animation"),u.inertia?d.setAttribute("data-inertia",""):d.removeAttribute("data-inertia"),d.style.maxWidth=typeof u.maxWidth=="number"?u.maxWidth+"px":u.maxWidth,u.role?d.setAttribute("role",u.role):d.removeAttribute("role"),(a.content!==u.content||a.allowHTML!==u.allowHTML)&&N1(h,n.props),u.arrow?m?a.arrow!==u.arrow&&(d.removeChild(m),d.appendChild(O1(u.arrow))):d.appendChild(O1(u.arrow)):m&&d.removeChild(m)}return{popper:e,onUpdate:l}}gw.$$tippy=!0;var R3=1,Xu=[],lp=[];function j3(n,e){var t=M1(n,Object.assign({},In,mw(E1(e)))),r,l,a,u=!1,f=!1,d=!1,h=!1,m,y,v,b=[],x=S1(Ir,t.interactiveDebounce),E,T=R3++,C=null,j=h3(t.plugins),L={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},M={id:T,reference:n,popper:eo(),popperInstance:C,props:t,state:L,plugins:j,clearDelayTimeouts:Fn,setProps:ct,setContent:rn,show:_t,hide:bf,hideWithInteractivity:xf,enable:_i,disable:Cs,unmount:Sf,destroy:Ms};if(!t.render)return M;var _=t.render(M),q=_.popper,Q=_.onUpdate;q.setAttribute("data-tippy-root",""),q.id="tippy-"+M.id,M.popper=q,n._tippy=M,q._tippy=M;var se=j.map(function(P){return P.fn(M)}),J=n.hasAttribute("aria-expanded");return _n(),N(),F(),ne("onCreate",[M]),t.showOnCreate&&Hi(),q.addEventListener("mouseenter",function(){M.props.interactive&&M.state.isVisible&&M.clearDelayTimeouts()}),q.addEventListener("mouseleave",function(){M.props.interactive&&M.props.trigger.indexOf("mouseenter")>=0&&Ye().addEventListener("mousemove",x)}),M;function ce(){var P=M.props.touch;return Array.isArray(P)?P:[P,0]}function xe(){return ce()[0]==="hold"}function me(){var P;return!!((P=M.props.render)!=null&&P.$$tippy)}function De(){return E||n}function Ye(){var P=De().parentNode;return P?b3(P):document}function Oe(){return Yp(q)}function V(P){return M.state.isMounted&&!M.state.isVisible||sr.isTouch||m&&m.type==="focus"?0:rp(M.props.delay,P?0:1,In.delay)}function F(P){P===void 0&&(P=!1),q.style.pointerEvents=M.props.interactive&&!P?"":"none",q.style.zIndex=""+M.props.zIndex}function ne(P,te,fe){if(fe===void 0&&(fe=!0),se.forEach(function(Ae){Ae[P]&&Ae[P].apply(Ae,te)}),fe){var Ne;(Ne=M.props)[P].apply(Ne,te)}}function ke(){var P=M.props.aria;if(P.content){var te="aria-"+P.content,fe=q.id,Ne=xl(M.props.triggerTarget||n);Ne.forEach(function(Ae){var ft=Ae.getAttribute(te);if(M.state.isVisible)Ae.setAttribute(te,ft?ft+" "+fe:fe);else{var Ut=ft&&ft.replace(fe,"").trim();Ut?Ae.setAttribute(te,Ut):Ae.removeAttribute(te)}})}}function N(){if(!(J||!M.props.aria.expanded)){var P=xl(M.props.triggerTarget||n);P.forEach(function(te){M.props.interactive?te.setAttribute("aria-expanded",M.state.isVisible&&te===De()?"true":"false"):te.removeAttribute("aria-expanded")})}}function K(){Ye().removeEventListener("mousemove",x),Xu=Xu.filter(function(P){return P!==x})}function W(P){if(!(sr.isTouch&&(d||P.type==="mousedown"))){var te=P.composedPath&&P.composedPath()[0]||P.target;if(!(M.props.interactive&&T1(q,te))){if(xl(M.props.triggerTarget||n).some(function(fe){return T1(fe,te)})){if(sr.isTouch||M.state.isVisible&&M.props.trigger.indexOf("click")>=0)return}else ne("onClickOutside",[M,P]);M.props.hideOnClick===!0&&(M.clearDelayTimeouts(),M.hide(),f=!0,setTimeout(function(){f=!1}),M.state.isMounted||oe())}}}function Z(){d=!0}function le(){d=!1}function ye(){var P=Ye();P.addEventListener("mousedown",W,!0),P.addEventListener("touchend",W,is),P.addEventListener("touchstart",le,is),P.addEventListener("touchmove",Z,is)}function oe(){var P=Ye();P.removeEventListener("mousedown",W,!0),P.removeEventListener("touchend",W,is),P.removeEventListener("touchstart",le,is),P.removeEventListener("touchmove",Z,is)}function nt(P,te){Ht(P,function(){!M.state.isVisible&&q.parentNode&&q.parentNode.contains(q)&&te()})}function Re(P,te){Ht(P,te)}function Ht(P,te){var fe=Oe().box;function Ne(Ae){Ae.target===fe&&(sp(fe,"remove",Ne),te())}if(P===0)return te();sp(fe,"remove",y),sp(fe,"add",Ne),y=Ne}function gn(P,te,fe){fe===void 0&&(fe=!1);var Ne=xl(M.props.triggerTarget||n);Ne.forEach(function(Ae){Ae.addEventListener(P,te,fe),b.push({node:Ae,eventType:P,handler:te,options:fe})})}function _n(){xe()&&(gn("touchstart",hr,{passive:!0}),gn("touchend",ks,{passive:!0})),d3(M.props.trigger).forEach(function(P){if(P!=="manual")switch(gn(P,hr),P){case"mouseenter":gn("mouseleave",ks);break;case"focus":gn(T3?"focusout":"blur",zi);break;case"focusin":gn("focusout",zi);break}})}function Pr(){b.forEach(function(P){var te=P.node,fe=P.eventType,Ne=P.handler,Ae=P.options;te.removeEventListener(fe,Ne,Ae)}),b=[]}function hr(P){var te,fe=!1;if(!(!M.state.isEnabled||Nt(P)||f)){var Ne=((te=m)==null?void 0:te.type)==="focus";m=P,E=P.currentTarget,N(),!M.state.isVisible&&g3(P)&&Xu.forEach(function(Ae){return Ae(P)}),P.type==="click"&&(M.props.trigger.indexOf("mouseenter")<0||u)&&M.props.hideOnClick!==!1&&M.state.isVisible?fe=!0:Hi(P),P.type==="click"&&(u=!fe),fe&&!Ne&&Gn(P)}}function Ir(P){var te=P.target,fe=De().contains(te)||q.contains(te);if(!(P.type==="mousemove"&&fe)){var Ne=nn().concat(q).map(function(Ae){var ft,Ut=Ae._tippy,Xn=(ft=Ut.popperInstance)==null?void 0:ft.state;return Xn?{popperRect:Ae.getBoundingClientRect(),popperState:Xn,props:t}:null}).filter(Boolean);x3(Ne,P)&&(K(),Gn(P))}}function ks(P){var te=Nt(P)||M.props.trigger.indexOf("click")>=0&&u;if(!te){if(M.props.interactive){M.hideWithInteractivity(P);return}Gn(P)}}function zi(P){M.props.trigger.indexOf("focusin")<0&&P.target!==De()||M.props.interactive&&P.relatedTarget&&q.contains(P.relatedTarget)||Gn(P)}function Nt(P){return sr.isTouch?xe()!==P.type.indexOf("touch")>=0:!1}function Ts(){Bi();var P=M.props,te=P.popperOptions,fe=P.placement,Ne=P.offset,Ae=P.getReferenceClientRect,ft=P.moveTransition,Ut=me()?Yp(q).arrow:null,Xn=Ae?{getBoundingClientRect:Ae,contextElement:Ae.contextElement||De()}:n,$r={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(Ui){var Jn=Ui.state;if(me()){var Pl=Oe(),Ns=Pl.box;["placement","reference-hidden","escaped"].forEach(function(As){As==="placement"?Ns.setAttribute("data-placement",Jn.placement):Jn.attributes.popper["data-popper-"+As]?Ns.setAttribute("data-"+As,""):Ns.removeAttribute("data-"+As)}),Jn.attributes.popper={}}}},pr=[{name:"offset",options:{offset:Ne}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!ft}},$r];me()&&Ut&&pr.push({name:"arrow",options:{element:Ut,padding:3}}),pr.push.apply(pr,(te==null?void 0:te.modifiers)||[]),M.popperInstance=u3(Xn,q,Object.assign({},te,{placement:fe,onFirstUpdate:v,modifiers:pr}))}function Bi(){M.popperInstance&&(M.popperInstance.destroy(),M.popperInstance=null)}function yn(){var P=M.props.appendTo,te,fe=De();M.props.interactive&&P===dw||P==="parent"?te=fe.parentNode:te=hw(P,[fe]),te.contains(q)||te.appendChild(q),M.state.isMounted=!0,Ts()}function nn(){return kc(q.querySelectorAll("[data-tippy-root]"))}function Hi(P){M.clearDelayTimeouts(),P&&ne("onTrigger",[M,P]),ye();var te=V(!0),fe=ce(),Ne=fe[0],Ae=fe[1];sr.isTouch&&Ne==="hold"&&Ae&&(te=Ae),te?r=setTimeout(function(){M.show()},te):M.show()}function Gn(P){if(M.clearDelayTimeouts(),ne("onUntrigger",[M,P]),!M.state.isVisible){oe();return}if(!(M.props.trigger.indexOf("mouseenter")>=0&&M.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(P.type)>=0&&u)){var te=V(!1);te?l=setTimeout(function(){M.state.isVisible&&M.hide()},te):a=requestAnimationFrame(function(){M.hide()})}}function _i(){M.state.isEnabled=!0}function Cs(){M.hide(),M.state.isEnabled=!1}function Fn(){clearTimeout(r),clearTimeout(l),cancelAnimationFrame(a)}function ct(P){if(!M.state.isDestroyed){ne("onBeforeUpdate",[M,P]),Pr();var te=M.props,fe=M1(n,Object.assign({},te,E1(P),{ignoreAttributes:!0}));M.props=fe,_n(),te.interactiveDebounce!==fe.interactiveDebounce&&(K(),x=S1(Ir,fe.interactiveDebounce)),te.triggerTarget&&!fe.triggerTarget?xl(te.triggerTarget).forEach(function(Ne){Ne.removeAttribute("aria-expanded")}):fe.triggerTarget&&n.removeAttribute("aria-expanded"),N(),F(),Q&&Q(te,fe),M.popperInstance&&(Ts(),nn().forEach(function(Ne){requestAnimationFrame(Ne._tippy.popperInstance.forceUpdate)})),ne("onAfterUpdate",[M,P])}}function rn(P){M.setProps({content:P})}function _t(){var P=M.state.isVisible,te=M.state.isDestroyed,fe=!M.state.isEnabled,Ne=sr.isTouch&&!M.props.touch,Ae=rp(M.props.duration,0,In.duration);if(!(P||te||fe||Ne)&&!De().hasAttribute("disabled")&&(ne("onShow",[M],!1),M.props.onShow(M)!==!1)){if(M.state.isVisible=!0,me()&&(q.style.visibility="visible"),F(),ye(),M.state.isMounted||(q.style.transition="none"),me()){var ft=Oe(),Ut=ft.box,Xn=ft.content;ip([Ut,Xn],0)}v=function(){var pr;if(!(!M.state.isVisible||h)){if(h=!0,q.offsetHeight,q.style.transition=M.props.moveTransition,me()&&M.props.animation){var Os=Oe(),Ui=Os.box,Jn=Os.content;ip([Ui,Jn],Ae),k1([Ui,Jn],"visible")}ke(),N(),w1(lp,M),(pr=M.popperInstance)==null||pr.forceUpdate(),ne("onMount",[M]),M.props.animation&&me()&&Re(Ae,function(){M.state.isShown=!0,ne("onShown",[M])})}},yn()}}function bf(){var P=!M.state.isVisible,te=M.state.isDestroyed,fe=!M.state.isEnabled,Ne=rp(M.props.duration,1,In.duration);if(!(P||te||fe)&&(ne("onHide",[M],!1),M.props.onHide(M)!==!1)){if(M.state.isVisible=!1,M.state.isShown=!1,h=!1,u=!1,me()&&(q.style.visibility="hidden"),K(),oe(),F(!0),me()){var Ae=Oe(),ft=Ae.box,Ut=Ae.content;M.props.animation&&(ip([ft,Ut],Ne),k1([ft,Ut],"hidden"))}ke(),N(),M.props.animation?me()&&nt(Ne,M.unmount):M.unmount()}}function xf(P){Ye().addEventListener("mousemove",x),w1(Xu,x),x(P)}function Sf(){M.state.isVisible&&M.hide(),M.state.isMounted&&(Bi(),nn().forEach(function(P){P._tippy.unmount()}),q.parentNode&&q.parentNode.removeChild(q),lp=lp.filter(function(P){return P!==M}),M.state.isMounted=!1,ne("onHidden",[M]))}function Ms(){M.state.isDestroyed||(M.clearDelayTimeouts(),M.unmount(),Pr(),delete n._tippy,M.state.isDestroyed=!0,ne("onDestroy",[M]))}}function Ao(n,e){e===void 0&&(e={});var t=In.plugins.concat(e.plugins||[]);E3();var r=Object.assign({},e,{plugins:t}),l=v3(n),a=l.reduce(function(u,f){var d=f&&j3(f,r);return d&&u.push(d),u},[]);return gf(n)?a[0]:a}Ao.defaultProps=In;Ao.setDefaultProps=N3;Ao.currentInput=sr;Object.assign({},tw,{effect:function(e){var t=e.state,r={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(t.elements.popper.style,r.popper),t.styles=r,t.elements.arrow&&Object.assign(t.elements.arrow.style,r.arrow)}});Ao.setDefaultProps({render:gw});class L3{constructor({editor:e,element:t,view:r,tippyOptions:l={},updateDelay:a=250,shouldShow:u}){this.preventHide=!1,this.shouldShow=({view:f,state:d,from:h,to:m})=>{const{doc:y,selection:v}=d,{empty:b}=v,x=!y.textBetween(h,m).length&&jm(d.selection),E=this.element.contains(document.activeElement);return!(!(f.hasFocus()||E)||b||x||!this.editor.isEditable)},this.mousedownHandler=()=>{this.preventHide=!0},this.dragstartHandler=()=>{this.hide()},this.focusHandler=()=>{setTimeout(()=>this.update(this.editor.view))},this.blurHandler=({event:f})=>{var d;if(this.preventHide){this.preventHide=!1;return}f!=null&&f.relatedTarget&&(!((d=this.element.parentNode)===null||d===void 0)&&d.contains(f.relatedTarget))||(f==null?void 0:f.relatedTarget)!==this.editor.view.dom&&this.hide()},this.tippyBlurHandler=f=>{this.blurHandler({event:f})},this.handleDebouncedUpdate=(f,d)=>{const h=!(d!=null&&d.selection.eq(f.state.selection)),m=!(d!=null&&d.doc.eq(f.state.doc));!h&&!m||(this.updateDebounceTimer&&clearTimeout(this.updateDebounceTimer),this.updateDebounceTimer=window.setTimeout(()=>{this.updateHandler(f,h,m,d)},this.updateDelay))},this.updateHandler=(f,d,h,m)=>{var y,v,b;const{state:x,composing:E}=f,{selection:T}=x;if(E||!d&&!h)return;this.createTooltip();const{ranges:j}=T,L=Math.min(...j.map(q=>q.$from.pos)),M=Math.max(...j.map(q=>q.$to.pos));if(!((y=this.shouldShow)===null||y===void 0?void 0:y.call(this,{editor:this.editor,element:this.element,view:f,state:x,oldState:m,from:L,to:M}))){this.hide();return}(v=this.tippy)===null||v===void 0||v.setProps({getReferenceClientRect:((b=this.tippyOptions)===null||b===void 0?void 0:b.getReferenceClientRect)||(()=>{if(QS(x.selection)){let q=f.nodeDOM(L);if(q){const Q=q.dataset.nodeViewWrapper?q:q.querySelector("[data-node-view-wrapper]");if(Q&&(q=Q.firstChild),q)return q.getBoundingClientRect()}}return MD(f,L,M)})}),this.show()},this.editor=e,this.element=t,this.view=r,this.updateDelay=a,u&&(this.shouldShow=u),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.addEventListener("dragstart",this.dragstartHandler),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.tippyOptions=l,this.element.remove(),this.element.style.visibility="visible"}createTooltip(){const{element:e}=this.editor.options,t=!!e.parentElement;this.tippy||!t||(this.tippy=Ao(e,{duration:0,getReferenceClientRect:null,content:this.element,interactive:!0,trigger:"manual",placement:"top",hideOnClick:"toggle",...this.tippyOptions}),this.tippy.popper.firstChild&&this.tippy.popper.firstChild.addEventListener("blur",this.tippyBlurHandler))}update(e,t){const{state:r}=e,l=r.selection.from!==r.selection.to;if(this.updateDelay>0&&l){this.handleDebouncedUpdate(e,t);return}const a=!(t!=null&&t.selection.eq(e.state.selection)),u=!(t!=null&&t.doc.eq(e.state.doc));this.updateHandler(e,a,u,t)}show(){var e;(e=this.tippy)===null||e===void 0||e.show()}hide(){var e;(e=this.tippy)===null||e===void 0||e.hide()}destroy(){var e,t;!((e=this.tippy)===null||e===void 0)&&e.popper.firstChild&&this.tippy.popper.firstChild.removeEventListener("blur",this.tippyBlurHandler),(t=this.tippy)===null||t===void 0||t.destroy(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.removeEventListener("dragstart",this.dragstartHandler),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler)}}const yw=n=>new St({key:typeof n.pluginKey=="string"?new tn(n.pluginKey):n.pluginKey,view:e=>new L3({view:e,...n})});zt.create({name:"bubbleMenu",addOptions(){return{element:null,tippyOptions:{},pluginKey:"bubbleMenu",updateDelay:void 0,shouldShow:null}},addProseMirrorPlugins(){return this.options.element?[yw({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,tippyOptions:this.options.tippyOptions,updateDelay:this.options.updateDelay,shouldShow:this.options.shouldShow})]:[]}});function z3(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var vw={exports:{}},ap={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A1;function B3(){if(A1)return ap;A1=1;var n=Ct;function e(y,v){return y===v&&(y!==0||1/y===1/v)||y!==y&&v!==v}var t=typeof Object.is=="function"?Object.is:e,r=n.useState,l=n.useEffect,a=n.useLayoutEffect,u=n.useDebugValue;function f(y,v){var b=v(),x=r({inst:{value:b,getSnapshot:v}}),E=x[0].inst,T=x[1];return a(function(){E.value=b,E.getSnapshot=v,d(E)&&T({inst:E})},[y,b,v]),l(function(){return d(E)&&T({inst:E}),y(function(){d(E)&&T({inst:E})})},[y]),u(b),b}function d(y){var v=y.getSnapshot;y=y.value;try{var b=v();return!t(y,b)}catch{return!0}}function h(y,v){return v()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:f;return ap.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:m,ap}vw.exports=B3();var Km=vw.exports;const H3=(...n)=>e=>{n.forEach(t=>{typeof t=="function"?t(e):t&&(t.current=e)})},_3=({contentComponent:n})=>{const e=Km.useSyncExternalStore(n.subscribe,n.getSnapshot,n.getServerSnapshot);return Ct.createElement(Ct.Fragment,null,Object.values(e))};function U3(){const n=new Set;let e={};return{subscribe(t){return n.add(t),()=>{n.delete(t)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(t,r){e={...e,[t]:_C.createPortal(r.reactElement,r.element,t)},n.forEach(l=>l())},removeRenderer(t){const r={...e};delete r[t],e=r,n.forEach(l=>l())}}}class V3 extends Ct.Component{constructor(e){var t;super(e),this.editorContentRef=Ct.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!(!((t=e.editor)===null||t===void 0)&&t.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const e=this.props.editor;if(e&&!e.isDestroyed&&e.options.element){if(e.contentComponent)return;const t=this.editorContentRef.current;t.append(...e.options.element.childNodes),e.setOptions({element:t}),e.contentComponent=U3(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(r=>r.hasContentComponentInitialized?r:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){const e=this.props.editor;if(!e||(this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null,!e.options.element.firstChild))return;const t=document.createElement("div");t.append(...e.options.element.childNodes),e.setOptions({element:t})}render(){const{editor:e,innerRef:t,...r}=this.props;return Ct.createElement(Ct.Fragment,null,Ct.createElement("div",{ref:H3(t,this.editorContentRef),...r}),(e==null?void 0:e.contentComponent)&&Ct.createElement(_3,{contentComponent:e.contentComponent}))}}const q3=D.forwardRef((n,e)=>{const t=Ct.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[n.editor]);return Ct.createElement(V3,{key:t,innerRef:e,...n})}),bw=Ct.memo(q3);var P3=function n(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var r,l,a;if(Array.isArray(e)){if(r=e.length,r!=t.length)return!1;for(l=r;l--!==0;)if(!n(e[l],t[l]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(l of e.entries())if(!t.has(l[0]))return!1;for(l of e.entries())if(!n(l[1],t.get(l[0])))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(l of e.entries())if(!t.has(l[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(r=e.length,r!=t.length)return!1;for(l=r;l--!==0;)if(e[l]!==t[l])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(l=r;l--!==0;)if(!Object.prototype.hasOwnProperty.call(t,a[l]))return!1;for(l=r;l--!==0;){var u=a[l];if(!(u==="_owner"&&e.$$typeof)&&!n(e[u],t[u]))return!1}return!0}return e!==e&&t!==t},I3=z3(P3),xw={exports:{}},op={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D1;function $3(){if(D1)return op;D1=1;var n=Ct,e=Km;function t(h,m){return h===m&&(h!==0||1/h===1/m)||h!==h&&m!==m}var r=typeof Object.is=="function"?Object.is:t,l=e.useSyncExternalStore,a=n.useRef,u=n.useEffect,f=n.useMemo,d=n.useDebugValue;return op.useSyncExternalStoreWithSelector=function(h,m,y,v,b){var x=a(null);if(x.current===null){var E={hasValue:!1,value:null};x.current=E}else E=x.current;x=f(function(){function C(q){if(!j){if(j=!0,L=q,q=v(q),b!==void 0&&E.hasValue){var Q=E.value;if(b(Q,q))return M=Q}return M=q}if(Q=M,r(L,q))return Q;var se=v(q);return b!==void 0&&b(Q,se)?Q:(L=q,M=se)}var j=!1,L,M,_=y===void 0?null:y;return[function(){return C(m())},_===null?void 0:function(){return C(_())}]},[m,y,v,b]);var T=l(h,x[0],x[1]);return u(function(){E.hasValue=!0,E.value=T},[T]),d(T),T},op}xw.exports=$3();var Y3=xw.exports;const K3=typeof window<"u"?D.useLayoutEffect:D.useEffect;class G3{constructor(e){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=e,this.lastSnapshot={editor:e,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(e){return this.subscribers.add(e),()=>{this.subscribers.delete(e)}}watch(e){if(this.editor=e,this.editor){const t=()=>{this.transactionNumber+=1,this.subscribers.forEach(l=>l())},r=this.editor;return r.on("transaction",t),()=>{r.off("transaction",t)}}}}function F3(n){var e;const[t]=D.useState(()=>new G3(n.editor)),r=Y3.useSyncExternalStoreWithSelector(t.subscribe,t.getSnapshot,t.getServerSnapshot,n.selector,(e=n.equalityFn)!==null&&e!==void 0?e:I3);return K3(()=>t.watch(n.editor),[n.editor,t]),D.useDebugValue(r),r}const X3=!1,Kp=typeof window>"u",J3=Kp||!!(typeof window<"u"&&window.next);class Gm{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(t=>t())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?Kp||J3?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...r)=>{var l,a;return(a=(l=this.options.current).onBeforeCreate)===null||a===void 0?void 0:a.call(l,...r)},onBlur:(...r)=>{var l,a;return(a=(l=this.options.current).onBlur)===null||a===void 0?void 0:a.call(l,...r)},onCreate:(...r)=>{var l,a;return(a=(l=this.options.current).onCreate)===null||a===void 0?void 0:a.call(l,...r)},onDestroy:(...r)=>{var l,a;return(a=(l=this.options.current).onDestroy)===null||a===void 0?void 0:a.call(l,...r)},onFocus:(...r)=>{var l,a;return(a=(l=this.options.current).onFocus)===null||a===void 0?void 0:a.call(l,...r)},onSelectionUpdate:(...r)=>{var l,a;return(a=(l=this.options.current).onSelectionUpdate)===null||a===void 0?void 0:a.call(l,...r)},onTransaction:(...r)=>{var l,a;return(a=(l=this.options.current).onTransaction)===null||a===void 0?void 0:a.call(l,...r)},onUpdate:(...r)=>{var l,a;return(a=(l=this.options.current).onUpdate)===null||a===void 0?void 0:a.call(l,...r)},onContentError:(...r)=>{var l,a;return(a=(l=this.options.current).onContentError)===null||a===void 0?void 0:a.call(l,...r)},onDrop:(...r)=>{var l,a;return(a=(l=this.options.current).onDrop)===null||a===void 0?void 0:a.call(l,...r)},onPaste:(...r)=>{var l,a;return(a=(l=this.options.current).onPaste)===null||a===void 0?void 0:a.call(l,...r)}};return new iR(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,t){return Object.keys(e).every(r=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(r)?!0:r==="extensions"&&e.extensions&&t.extensions?e.extensions.length!==t.extensions.length?!1:e.extensions.every((l,a)=>{var u;return l===((u=t.extensions)===null||u===void 0?void 0:u[a])}):e[r]===t[r])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?Gm.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((r,l)=>r===e[l]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,t=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){t&&t.setOptions(this.options.current);return}t&&!t.isDestroyed&&(t.destroy(),this.instanceId===e&&this.setEditor(null))},1)}}function Sw(n={},e=[]){const t=D.useRef(n);t.current=n;const[r]=D.useState(()=>new Gm(t)),l=Km.useSyncExternalStore(r.subscribe,r.getEditor,r.getServerSnapshot);return D.useDebugValue(l),D.useEffect(r.onRender(e)),F3({editor:l,selector:({transactionNumber:a})=>n.shouldRerenderOnTransaction===!1?null:n.immediatelyRender&&a===0?0:a+1}),l}const ww=D.createContext({editor:null});ww.Consumer;const Q3=()=>D.useContext(ww),Z3=n=>{const[e,t]=D.useState(null),{editor:r}=Q3();return D.useEffect(()=>{var l;if(!e||!((l=n.editor)===null||l===void 0)&&l.isDestroyed||r!=null&&r.isDestroyed)return;const{pluginKey:a="bubbleMenu",editor:u,tippyOptions:f={},updateDelay:d,shouldShow:h=null}=n,m=u||r;if(!m){console.warn("BubbleMenu component is not rendered inside of an editor component or does not have editor prop.");return}const y=yw({updateDelay:d,editor:m,element:e,pluginKey:a,shouldShow:h,tippyOptions:f});return m.registerPlugin(y),()=>{m.unregisterPlugin(a)}},[n.editor,r,e]),Ct.createElement("div",{ref:t,className:n.className,style:{visibility:"hidden"}},n.children)},W3=D.createContext({onDragStart:void 0}),e4=()=>D.useContext(W3);Ct.forwardRef((n,e)=>{const{onDragStart:t}=e4(),r=n.as||"div";return Ct.createElement(r,{...n,ref:e,"data-node-view-wrapper":"",onDragStart:t,style:{whiteSpace:"normal",...n.style}})});const t4=/^\s*>\s$/,n4=$t.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:n}){return["blockquote",ut(this.options.HTMLAttributes,n),0]},addCommands(){return{setBlockquote:()=>({commands:n})=>n.wrapIn(this.name),toggleBlockquote:()=>({commands:n})=>n.toggleWrap(this.name),unsetBlockquote:()=>({commands:n})=>n.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[yo({find:t4,type:this.type})]}}),r4=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,i4=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,s4=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,l4=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,a4=cr.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:n=>n.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:n=>n.type.name===this.name},{style:"font-weight",getAttrs:n=>/^(bold(er)?|[5-9]\d{2,})$/.test(n)&&null}]},renderHTML({HTMLAttributes:n}){return["strong",ut(this.options.HTMLAttributes,n),0]},addCommands(){return{setBold:()=>({commands:n})=>n.setMark(this.name),toggleBold:()=>({commands:n})=>n.toggleMark(this.name),unsetBold:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[Dl({find:r4,type:this.type}),Dl({find:s4,type:this.type})]},addPasteRules(){return[Ss({find:i4,type:this.type}),Ss({find:l4,type:this.type})]}}),o4="listItem",R1="textStyle",j1=/^\s*([-+*])\s$/,u4=$t.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:n}){return["ul",ut(this.options.HTMLAttributes,n),0]},addCommands(){return{toggleBulletList:()=>({commands:n,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(o4,this.editor.getAttributes(R1)).run():n.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let n=yo({find:j1,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(n=yo({find:j1,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(R1),editor:this.editor})),[n]}}),c4=/(^|[^`])`([^`]+)`(?!`)/,f4=/(^|[^`])`([^`]+)`(?!`)/g,d4=cr.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:n}){return["code",ut(this.options.HTMLAttributes,n),0]},addCommands(){return{setCode:()=>({commands:n})=>n.setMark(this.name),toggleCode:()=>({commands:n})=>n.toggleMark(this.name),unsetCode:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[Dl({find:c4,type:this.type})]},addPasteRules(){return[Ss({find:f4,type:this.type})]}}),h4=/^```([a-z]+)?[\s\n]$/,p4=/^~~~([a-z]+)?[\s\n]$/,m4=$t.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:n=>{var e;const{languageClassPrefix:t}=this.options,a=[...((e=n.firstElementChild)===null||e===void 0?void 0:e.classList)||[]].filter(u=>u.startsWith(t)).map(u=>u.replace(t,""))[0];return a||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:n,HTMLAttributes:e}){return["pre",ut(this.options.HTMLAttributes,e),["code",{class:n.attrs.language?this.options.languageClassPrefix+n.attrs.language:null},0]]},addCommands(){return{setCodeBlock:n=>({commands:e})=>e.setNode(this.name,n),toggleCodeBlock:n=>({commands:e})=>e.toggleNode(this.name,"paragraph",n)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:n,$anchor:e}=this.editor.state.selection,t=e.pos===1;return!n||e.parent.type.name!==this.name?!1:t||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:n})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=n,{selection:t}=e,{$from:r,empty:l}=t;if(!l||r.parent.type!==this.type)return!1;const a=r.parentOffset===r.parent.nodeSize-2,u=r.parent.textContent.endsWith(`

`);return!a||!u?!1:n.chain().command(({tr:f})=>(f.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:n})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=n,{selection:t,doc:r}=e,{$from:l,empty:a}=t;if(!a||l.parent.type!==this.type||!(l.parentOffset===l.parent.nodeSize-2))return!1;const f=l.after();return f===void 0?!1:r.nodeAt(f)?n.commands.command(({tr:h})=>(h.setSelection(be.near(r.resolve(f))),!0)):n.commands.exitCode()}}},addInputRules(){return[qp({find:h4,type:this.type,getAttributes:n=>({language:n[1]})}),qp({find:p4,type:this.type,getAttributes:n=>({language:n[1]})})]},addProseMirrorPlugins(){return[new St({key:new tn("codeBlockVSCodeHandler"),props:{handlePaste:(n,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const t=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),l=r?JSON.parse(r):void 0,a=l==null?void 0:l.mode;if(!t||!a)return!1;const{tr:u,schema:f}=n.state,d=f.text(t.replace(/\r\n?/g,`
`));return u.replaceSelectionWith(this.type.create({language:a},d)),u.selection.$from.parent.type!==this.type&&u.setSelection(ge.near(u.doc.resolve(Math.max(0,u.selection.from-2)))),u.setMeta("paste",!0),n.dispatch(u),!0}}})]}}),g4=$t.create({name:"doc",topNode:!0,content:"block+"});function y4(n={}){return new St({view(e){return new v4(e,n)}})}class v4{constructor(e,t){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=t.width)!==null&&r!==void 0?r:1,this.color=t.color===!1?void 0:t.color||"black",this.class=t.class,this.handlers=["dragover","dragend","drop","dragleave"].map(l=>{let a=u=>{this[l](u)};return e.dom.addEventListener(l,a),{name:l,handler:a}})}destroy(){this.handlers.forEach(({name:e,handler:t})=>this.editorView.dom.removeEventListener(e,t))}update(e,t){this.cursorPos!=null&&t.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),t=!e.parent.inlineContent,r,l=this.editorView.dom,a=l.getBoundingClientRect(),u=a.width/l.offsetWidth,f=a.height/l.offsetHeight;if(t){let y=e.nodeBefore,v=e.nodeAfter;if(y||v){let b=this.editorView.nodeDOM(this.cursorPos-(y?y.nodeSize:0));if(b){let x=b.getBoundingClientRect(),E=y?x.bottom:x.top;y&&v&&(E=(E+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let T=this.width/2*f;r={left:x.left,right:x.right,top:E-T,bottom:E+T}}}}if(!r){let y=this.editorView.coordsAtPos(this.cursorPos),v=this.width/2*u;r={left:y.left-v,right:y.left+v,top:y.top,bottom:y.bottom}}let d=this.editorView.dom.offsetParent;this.element||(this.element=d.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",t),this.element.classList.toggle("prosemirror-dropcursor-inline",!t);let h,m;if(!d||d==document.body&&getComputedStyle(d).position=="static")h=-pageXOffset,m=-pageYOffset;else{let y=d.getBoundingClientRect(),v=y.width/d.offsetWidth,b=y.height/d.offsetHeight;h=y.left-d.scrollLeft*v,m=y.top-d.scrollTop*b}this.element.style.left=(r.left-h)/u+"px",this.element.style.top=(r.top-m)/f+"px",this.element.style.width=(r.right-r.left)/u+"px",this.element.style.height=(r.bottom-r.top)/f+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let t=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=t&&t.inside>=0&&this.editorView.state.doc.nodeAt(t.inside),l=r&&r.type.spec.disableDropCursor,a=typeof l=="function"?l(this.editorView,t,e):l;if(t&&!a){let u=t.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let f=qx(this.editorView.state.doc,u,this.editorView.dragging.slice);f!=null&&(u=f)}this.setCursor(u),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}const b4=zt.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[y4(this.options)]}});class We extends be{constructor(e){super(e,e)}map(e,t){let r=e.resolve(t.map(this.head));return We.valid(r)?new We(r):be.near(r)}content(){return ee.empty}eq(e){return e instanceof We&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new We(e.resolve(t.pos))}getBookmark(){return new Fm(this.anchor)}static valid(e){let t=e.parent;if(t.isTextblock||!x4(e)||!S4(e))return!1;let r=t.type.spec.allowGapCursor;if(r!=null)return r;let l=t.contentMatchAt(e.index()).defaultType;return l&&l.isTextblock}static findGapCursorFrom(e,t,r=!1){e:for(;;){if(!r&&We.valid(e))return e;let l=e.pos,a=null;for(let u=e.depth;;u--){let f=e.node(u);if(t>0?e.indexAfter(u)<f.childCount:e.index(u)>0){a=f.child(t>0?e.indexAfter(u):e.index(u)-1);break}else if(u==0)return null;l+=t;let d=e.doc.resolve(l);if(We.valid(d))return d}for(;;){let u=t>0?a.firstChild:a.lastChild;if(!u){if(a.isAtom&&!a.isText&&!ue.isSelectable(a)){e=e.doc.resolve(l+a.nodeSize*t),r=!1;continue e}break}a=u,l+=t;let f=e.doc.resolve(l);if(We.valid(f))return f}return null}}}We.prototype.visible=!1;We.findFrom=We.findGapCursorFrom;be.jsonID("gapcursor",We);class Fm{constructor(e){this.pos=e}map(e){return new Fm(e.map(this.pos))}resolve(e){let t=e.resolve(this.pos);return We.valid(t)?new We(t):be.near(t)}}function x4(n){for(let e=n.depth;e>=0;e--){let t=n.index(e),r=n.node(e);if(t==0){if(r.type.spec.isolating)return!0;continue}for(let l=r.child(t-1);;l=l.lastChild){if(l.childCount==0&&!l.inlineContent||l.isAtom||l.type.spec.isolating)return!0;if(l.inlineContent)return!1}}return!0}function S4(n){for(let e=n.depth;e>=0;e--){let t=n.indexAfter(e),r=n.node(e);if(t==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let l=r.child(t);;l=l.firstChild){if(l.childCount==0&&!l.inlineContent||l.isAtom||l.type.spec.isolating)return!0;if(l.inlineContent)return!1}}return!0}function w4(){return new St({props:{decorations:C4,createSelectionBetween(n,e,t){return e.pos==t.pos&&We.valid(t)?new We(t):null},handleClick:k4,handleKeyDown:E4,handleDOMEvents:{beforeinput:T4}}})}const E4=OS({ArrowLeft:Ju("horiz",-1),ArrowRight:Ju("horiz",1),ArrowUp:Ju("vert",-1),ArrowDown:Ju("vert",1)});function Ju(n,e){const t=n=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,l,a){let u=r.selection,f=e>0?u.$to:u.$from,d=u.empty;if(u instanceof ge){if(!a.endOfTextblock(t)||f.depth==0)return!1;d=!1,f=r.doc.resolve(e>0?f.after():f.before())}let h=We.findGapCursorFrom(f,e,d);return h?(l&&l(r.tr.setSelection(new We(h))),!0):!1}}function k4(n,e,t){if(!n||!n.editable)return!1;let r=n.state.doc.resolve(e);if(!We.valid(r))return!1;let l=n.posAtCoords({left:t.clientX,top:t.clientY});return l&&l.inside>-1&&ue.isSelectable(n.state.doc.nodeAt(l.inside))?!1:(n.dispatch(n.state.tr.setSelection(new We(r))),!0)}function T4(n,e){if(e.inputType!="insertCompositionText"||!(n.state.selection instanceof We))return!1;let{$from:t}=n.state.selection,r=t.parent.contentMatchAt(t.index()).findWrapping(n.state.schema.nodes.text);if(!r)return!1;let l=G.empty;for(let u=r.length-1;u>=0;u--)l=G.from(r[u].createAndFill(null,l));let a=n.state.tr.replace(t.pos,t.pos,new ee(l,0,0));return a.setSelection(ge.near(a.doc.resolve(t.pos+1))),n.dispatch(a),!1}function C4(n){if(!(n.selection instanceof We))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",ot.create(n.doc,[Rn.widget(n.selection.head,e,{key:"gapcursor"})])}const M4=zt.create({name:"gapCursor",addProseMirrorPlugins(){return[w4()]},extendNodeSchema(n){var e;const t={name:n.name,options:n.options,storage:n.storage};return{allowGapCursor:(e=Ee(ie(n,"allowGapCursor",t)))!==null&&e!==void 0?e:null}}}),O4=$t.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:n}){return["br",ut(this.options.HTMLAttributes,n)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:n,chain:e,state:t,editor:r})=>n.first([()=>n.exitCode(),()=>n.command(()=>{const{selection:l,storedMarks:a}=t;if(l.$from.parent.type.spec.isolating)return!1;const{keepMarks:u}=this.options,{splittableMarks:f}=r.extensionManager,d=a||l.$to.parentOffset&&l.$from.marks();return e().insertContent({type:this.name}).command(({tr:h,dispatch:m})=>{if(m&&d&&u){const y=d.filter(v=>f.includes(v.type.name));h.ensureMarks(y)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),Ew=$t.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(n=>({tag:`h${n}`,attrs:{level:n}}))},renderHTML({node:n,HTMLAttributes:e}){return[`h${this.options.levels.includes(n.attrs.level)?n.attrs.level:this.options.levels[0]}`,ut(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:n=>({commands:e})=>this.options.levels.includes(n.level)?e.setNode(this.name,n):!1,toggleHeading:n=>({commands:e})=>this.options.levels.includes(n.level)?e.toggleNode(this.name,"paragraph",n):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((n,e)=>({...n,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(n=>qp({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${n}})\\s$`),type:this.type,getAttributes:{level:n}}))}});var Tc=200,vt=function(){};vt.prototype.append=function(e){return e.length?(e=vt.from(e),!this.length&&e||e.length<Tc&&this.leafAppend(e)||this.length<Tc&&e.leafPrepend(this)||this.appendInner(e)):this};vt.prototype.prepend=function(e){return e.length?vt.from(e).append(this):this};vt.prototype.appendInner=function(e){return new N4(this,e)};vt.prototype.slice=function(e,t){return e===void 0&&(e=0),t===void 0&&(t=this.length),e>=t?vt.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))};vt.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};vt.prototype.forEach=function(e,t,r){t===void 0&&(t=0),r===void 0&&(r=this.length),t<=r?this.forEachInner(e,t,r,0):this.forEachInvertedInner(e,t,r,0)};vt.prototype.map=function(e,t,r){t===void 0&&(t=0),r===void 0&&(r=this.length);var l=[];return this.forEach(function(a,u){return l.push(e(a,u))},t,r),l};vt.from=function(e){return e instanceof vt?e:e&&e.length?new kw(e):vt.empty};var kw=function(n){function e(r){n.call(this),this.values=r}n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e;var t={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(l,a){return l==0&&a==this.length?this:new e(this.values.slice(l,a))},e.prototype.getInner=function(l){return this.values[l]},e.prototype.forEachInner=function(l,a,u,f){for(var d=a;d<u;d++)if(l(this.values[d],f+d)===!1)return!1},e.prototype.forEachInvertedInner=function(l,a,u,f){for(var d=a-1;d>=u;d--)if(l(this.values[d],f+d)===!1)return!1},e.prototype.leafAppend=function(l){if(this.length+l.length<=Tc)return new e(this.values.concat(l.flatten()))},e.prototype.leafPrepend=function(l){if(this.length+l.length<=Tc)return new e(l.flatten().concat(this.values))},t.length.get=function(){return this.values.length},t.depth.get=function(){return 0},Object.defineProperties(e.prototype,t),e}(vt);vt.empty=new kw([]);var N4=function(n){function e(t,r){n.call(this),this.left=t,this.right=r,this.length=t.length+r.length,this.depth=Math.max(t.depth,r.depth)+1}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,l,a,u){var f=this.left.length;if(l<f&&this.left.forEachInner(r,l,Math.min(a,f),u)===!1||a>f&&this.right.forEachInner(r,Math.max(l-f,0),Math.min(this.length,a)-f,u+f)===!1)return!1},e.prototype.forEachInvertedInner=function(r,l,a,u){var f=this.left.length;if(l>f&&this.right.forEachInvertedInner(r,l-f,Math.max(a,f)-f,u+f)===!1||a<f&&this.left.forEachInvertedInner(r,Math.min(l,f),a,u)===!1)return!1},e.prototype.sliceInner=function(r,l){if(r==0&&l==this.length)return this;var a=this.left.length;return l<=a?this.left.slice(r,l):r>=a?this.right.slice(r-a,l-a):this.left.slice(r,a).append(this.right.slice(0,l-a))},e.prototype.leafAppend=function(r){var l=this.right.leafAppend(r);if(l)return new e(this.left,l)},e.prototype.leafPrepend=function(r){var l=this.left.leafPrepend(r);if(l)return new e(l,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e}(vt);const A4=500;class Pn{constructor(e,t){this.items=e,this.eventCount=t}popEvent(e,t){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let l,a;t&&(l=this.remapping(r,this.items.length),a=l.maps.length);let u=e.tr,f,d,h=[],m=[];return this.items.forEach((y,v)=>{if(!y.step){l||(l=this.remapping(r,v+1),a=l.maps.length),a--,m.push(y);return}if(l){m.push(new nr(y.map));let b=y.step.map(l.slice(a)),x;b&&u.maybeStep(b).doc&&(x=u.mapping.maps[u.mapping.maps.length-1],h.push(new nr(x,void 0,void 0,h.length+m.length))),a--,x&&l.appendMap(x,a)}else u.maybeStep(y.step);if(y.selection)return f=l?y.selection.map(l.slice(a)):y.selection,d=new Pn(this.items.slice(0,r).append(m.reverse().concat(h)),this.eventCount-1),!1},this.items.length,0),{remaining:d,transform:u,selection:f}}addTransform(e,t,r,l){let a=[],u=this.eventCount,f=this.items,d=!l&&f.length?f.get(f.length-1):null;for(let m=0;m<e.steps.length;m++){let y=e.steps[m].invert(e.docs[m]),v=new nr(e.mapping.maps[m],y,t),b;(b=d&&d.merge(v))&&(v=b,m?a.pop():f=f.slice(0,f.length-1)),a.push(v),t&&(u++,t=void 0),l||(d=v)}let h=u-r.depth;return h>R4&&(f=D4(f,h),u-=h),new Pn(f.append(a),u)}remapping(e,t){let r=new co;return this.items.forEach((l,a)=>{let u=l.mirrorOffset!=null&&a-l.mirrorOffset>=e?r.maps.length-l.mirrorOffset:void 0;r.appendMap(l.map,u)},e,t),r}addMaps(e){return this.eventCount==0?this:new Pn(this.items.append(e.map(t=>new nr(t))),this.eventCount)}rebased(e,t){if(!this.eventCount)return this;let r=[],l=Math.max(0,this.items.length-t),a=e.mapping,u=e.steps.length,f=this.eventCount;this.items.forEach(v=>{v.selection&&f--},l);let d=t;this.items.forEach(v=>{let b=a.getMirror(--d);if(b==null)return;u=Math.min(u,b);let x=a.maps[b];if(v.step){let E=e.steps[b].invert(e.docs[b]),T=v.selection&&v.selection.map(a.slice(d+1,b));T&&f++,r.push(new nr(x,E,T))}else r.push(new nr(x))},l);let h=[];for(let v=t;v<u;v++)h.push(new nr(a.maps[v]));let m=this.items.slice(0,l).append(h).append(r),y=new Pn(m,f);return y.emptyItemCount()>A4&&(y=y.compress(this.items.length-r.length)),y}emptyItemCount(){let e=0;return this.items.forEach(t=>{t.step||e++}),e}compress(e=this.items.length){let t=this.remapping(0,e),r=t.maps.length,l=[],a=0;return this.items.forEach((u,f)=>{if(f>=e)l.push(u),u.selection&&a++;else if(u.step){let d=u.step.map(t.slice(r)),h=d&&d.getMap();if(r--,h&&t.appendMap(h,r),d){let m=u.selection&&u.selection.map(t.slice(r));m&&a++;let y=new nr(h.invert(),d,m),v,b=l.length-1;(v=l.length&&l[b].merge(y))?l[b]=v:l.push(y)}}else u.map&&r--},this.items.length,0),new Pn(vt.from(l.reverse()),a)}}Pn.empty=new Pn(vt.empty,0);function D4(n,e){let t;return n.forEach((r,l)=>{if(r.selection&&e--==0)return t=l,!1}),n.slice(t)}class nr{constructor(e,t,r,l){this.map=e,this.step=t,this.selection=r,this.mirrorOffset=l}merge(e){if(this.step&&e.step&&!e.selection){let t=e.step.merge(this.step);if(t)return new nr(t.getMap().invert(),t,this.selection)}}}class yi{constructor(e,t,r,l,a){this.done=e,this.undone=t,this.prevRanges=r,this.prevTime=l,this.prevComposition=a}}const R4=20;function j4(n,e,t,r){let l=t.getMeta(gs),a;if(l)return l.historyState;t.getMeta(B4)&&(n=new yi(n.done,n.undone,null,0,-1));let u=t.getMeta("appendedTransaction");if(t.steps.length==0)return n;if(u&&u.getMeta(gs))return u.getMeta(gs).redo?new yi(n.done.addTransform(t,void 0,r,ac(e)),n.undone,L1(t.mapping.maps),n.prevTime,n.prevComposition):new yi(n.done,n.undone.addTransform(t,void 0,r,ac(e)),null,n.prevTime,n.prevComposition);if(t.getMeta("addToHistory")!==!1&&!(u&&u.getMeta("addToHistory")===!1)){let f=t.getMeta("composition"),d=n.prevTime==0||!u&&n.prevComposition!=f&&(n.prevTime<(t.time||0)-r.newGroupDelay||!L4(t,n.prevRanges)),h=u?up(n.prevRanges,t.mapping):L1(t.mapping.maps);return new yi(n.done.addTransform(t,d?e.selection.getBookmark():void 0,r,ac(e)),Pn.empty,h,t.time,f??n.prevComposition)}else return(a=t.getMeta("rebased"))?new yi(n.done.rebased(t,a),n.undone.rebased(t,a),up(n.prevRanges,t.mapping),n.prevTime,n.prevComposition):new yi(n.done.addMaps(t.mapping.maps),n.undone.addMaps(t.mapping.maps),up(n.prevRanges,t.mapping),n.prevTime,n.prevComposition)}function L4(n,e){if(!e)return!1;if(!n.docChanged)return!0;let t=!1;return n.mapping.maps[0].forEach((r,l)=>{for(let a=0;a<e.length;a+=2)r<=e[a+1]&&l>=e[a]&&(t=!0)}),t}function L1(n){let e=[];for(let t=n.length-1;t>=0&&e.length==0;t--)n[t].forEach((r,l,a,u)=>e.push(a,u));return e}function up(n,e){if(!n)return null;let t=[];for(let r=0;r<n.length;r+=2){let l=e.map(n[r],1),a=e.map(n[r+1],-1);l<=a&&t.push(l,a)}return t}function z4(n,e,t){let r=ac(e),l=gs.get(e).spec.config,a=(t?n.undone:n.done).popEvent(e,r);if(!a)return null;let u=a.selection.resolve(a.transform.doc),f=(t?n.done:n.undone).addTransform(a.transform,e.selection.getBookmark(),l,r),d=new yi(t?f:a.remaining,t?a.remaining:f,null,0,-1);return a.transform.setSelection(u).setMeta(gs,{redo:t,historyState:d})}let cp=!1,z1=null;function ac(n){let e=n.plugins;if(z1!=e){cp=!1,z1=e;for(let t=0;t<e.length;t++)if(e[t].spec.historyPreserveItems){cp=!0;break}}return cp}const gs=new tn("history"),B4=new tn("closeHistory");function H4(n={}){return n={depth:n.depth||100,newGroupDelay:n.newGroupDelay||500},new St({key:gs,state:{init(){return new yi(Pn.empty,Pn.empty,null,0,-1)},apply(e,t,r){return j4(t,r,e,n)}},config:n,props:{handleDOMEvents:{beforeinput(e,t){let r=t.inputType,l=r=="historyUndo"?Cw:r=="historyRedo"?Mw:null;return l?(t.preventDefault(),l(e.state,e.dispatch)):!1}}}})}function Tw(n,e){return(t,r)=>{let l=gs.getState(t);if(!l||(n?l.undone:l.done).eventCount==0)return!1;if(r){let a=z4(l,t,n);a&&r(e?a.scrollIntoView():a)}return!0}}const Cw=Tw(!1,!0),Mw=Tw(!0,!0),_4=zt.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:n,dispatch:e})=>Cw(n,e),redo:()=>({state:n,dispatch:e})=>Mw(n,e)}},addProseMirrorPlugins(){return[H4(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),U4=$t.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:n}){return["hr",ut(this.options.HTMLAttributes,n)]},addCommands(){return{setHorizontalRule:()=>({chain:n,state:e})=>{const{selection:t}=e,{$from:r,$to:l}=t,a=n();return r.parentOffset===0?a.insertContentAt({from:Math.max(r.pos-1,0),to:l.pos},{type:this.name}):QS(t)?a.insertContentAt(l.pos,{type:this.name}):a.insertContent({type:this.name}),a.command(({tr:u,dispatch:f})=>{var d;if(f){const{$to:h}=u.selection,m=h.end();if(h.nodeAfter)h.nodeAfter.isTextblock?u.setSelection(ge.create(u.doc,h.pos+1)):h.nodeAfter.isBlock?u.setSelection(ue.create(u.doc,h.pos)):u.setSelection(ge.create(u.doc,h.pos));else{const y=(d=h.parent.type.contentMatch.defaultType)===null||d===void 0?void 0:d.create();y&&(u.insert(m,y),u.setSelection(ge.create(u.doc,m+1)))}u.scrollIntoView()}return!0}).run()}}},addInputRules(){return[ZS({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),V4=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,q4=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,P4=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,I4=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,$4=cr.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:n=>n.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:n=>n.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:n}){return["em",ut(this.options.HTMLAttributes,n),0]},addCommands(){return{setItalic:()=>({commands:n})=>n.setMark(this.name),toggleItalic:()=>({commands:n})=>n.toggleMark(this.name),unsetItalic:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[Dl({find:V4,type:this.type}),Dl({find:P4,type:this.type})]},addPasteRules(){return[Ss({find:q4,type:this.type}),Ss({find:I4,type:this.type})]}}),Y4=$t.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:n}){return["li",ut(this.options.HTMLAttributes,n),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),K4="listItem",B1="textStyle",H1=/^(\d+)\.\s$/,G4=$t.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:n=>n.hasAttribute("start")?parseInt(n.getAttribute("start")||"",10):1},type:{default:null,parseHTML:n=>n.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:n}){const{start:e,...t}=n;return e===1?["ol",ut(this.options.HTMLAttributes,t),0]:["ol",ut(this.options.HTMLAttributes,n),0]},addCommands(){return{toggleOrderedList:()=>({commands:n,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(K4,this.editor.getAttributes(B1)).run():n.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let n=yo({find:H1,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(n=yo({find:H1,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(B1)}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1],editor:this.editor})),[n]}}),F4=$t.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:n}){return["p",ut(this.options.HTMLAttributes,n),0]},addCommands(){return{setParagraph:()=>({commands:n})=>n.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),X4=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,J4=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,Q4=cr.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:n=>n.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:n}){return["s",ut(this.options.HTMLAttributes,n),0]},addCommands(){return{setStrike:()=>({commands:n})=>n.setMark(this.name),toggleStrike:()=>({commands:n})=>n.toggleMark(this.name),unsetStrike:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[Dl({find:X4,type:this.type})]},addPasteRules(){return[Ss({find:J4,type:this.type})]}}),Z4=$t.create({name:"text",group:"inline"}),Ow=zt.create({name:"starterKit",addExtensions(){const n=[];return this.options.bold!==!1&&n.push(a4.configure(this.options.bold)),this.options.blockquote!==!1&&n.push(n4.configure(this.options.blockquote)),this.options.bulletList!==!1&&n.push(u4.configure(this.options.bulletList)),this.options.code!==!1&&n.push(d4.configure(this.options.code)),this.options.codeBlock!==!1&&n.push(m4.configure(this.options.codeBlock)),this.options.document!==!1&&n.push(g4.configure(this.options.document)),this.options.dropcursor!==!1&&n.push(b4.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&n.push(M4.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&n.push(O4.configure(this.options.hardBreak)),this.options.heading!==!1&&n.push(Ew.configure(this.options.heading)),this.options.history!==!1&&n.push(_4.configure(this.options.history)),this.options.horizontalRule!==!1&&n.push(U4.configure(this.options.horizontalRule)),this.options.italic!==!1&&n.push($4.configure(this.options.italic)),this.options.listItem!==!1&&n.push(Y4.configure(this.options.listItem)),this.options.orderedList!==!1&&n.push(G4.configure(this.options.orderedList)),this.options.paragraph!==!1&&n.push(F4.configure(this.options.paragraph)),this.options.strike!==!1&&n.push(Q4.configure(this.options.strike)),this.options.text!==!1&&n.push(Z4.configure(this.options.text)),n}}),W4=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,Nw=$t.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{}}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:n}){return["img",ut(this.options.HTMLAttributes,n)]},addCommands(){return{setImage:n=>({commands:e})=>e.insertContent({type:this.name,attrs:n})}},addInputRules(){return[ZS({find:W4,type:this.type,getAttributes:n=>{const[,,e,t,r]=n;return{src:t,alt:e,title:r}}})]}}),ej="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0america6xi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",tj="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",Bl=(n,e)=>{for(const t in e)n[t]=e[t];return n},Gp="numeric",Fp="ascii",Xp="alpha",to="asciinumeric",Fa="alphanumeric",Jp="domain",Aw="emoji",nj="scheme",rj="slashscheme",fp="whitespace";function ij(n,e){return n in e||(e[n]=[]),e[n]}function cs(n,e,t){e[Gp]&&(e[to]=!0,e[Fa]=!0),e[Fp]&&(e[to]=!0,e[Xp]=!0),e[to]&&(e[Fa]=!0),e[Xp]&&(e[Fa]=!0),e[Fa]&&(e[Jp]=!0),e[Aw]&&(e[Jp]=!0);for(const r in e){const l=ij(r,t);l.indexOf(n)<0&&l.push(n)}}function sj(n,e){const t={};for(const r in e)e[r].indexOf(n)>=0&&(t[r]=!0);return t}function Jt(n=null){this.j={},this.jr=[],this.jd=null,this.t=n}Jt.groups={};Jt.prototype={accepts(){return!!this.t},go(n){const e=this,t=e.j[n];if(t)return t;for(let r=0;r<e.jr.length;r++){const l=e.jr[r][0],a=e.jr[r][1];if(a&&l.test(n))return a}return e.jd},has(n,e=!1){return e?n in this.j:!!this.go(n)},ta(n,e,t,r){for(let l=0;l<n.length;l++)this.tt(n[l],e,t,r)},tr(n,e,t,r){r=r||Jt.groups;let l;return e&&e.j?l=e:(l=new Jt(e),t&&r&&cs(e,t,r)),this.jr.push([n,l]),l},ts(n,e,t,r){let l=this;const a=n.length;if(!a)return l;for(let u=0;u<a-1;u++)l=l.tt(n[u]);return l.tt(n[a-1],e,t,r)},tt(n,e,t,r){r=r||Jt.groups;const l=this;if(e&&e.j)return l.j[n]=e,e;const a=e;let u,f=l.go(n);if(f?(u=new Jt,Bl(u.j,f.j),u.jr.push.apply(u.jr,f.jr),u.jd=f.jd,u.t=f.t):u=new Jt,a){if(r)if(u.t&&typeof u.t=="string"){const d=Bl(sj(u.t,r),t);cs(a,d,r)}else t&&cs(a,t,r);u.t=a}return l.j[n]=u,u}};const Se=(n,e,t,r,l)=>n.ta(e,t,r,l),Ze=(n,e,t,r,l)=>n.tr(e,t,r,l),_1=(n,e,t,r,l)=>n.ts(e,t,r,l),X=(n,e,t,r,l)=>n.tt(e,t,r,l),jr="WORD",Qp="UWORD",Dw="ASCIINUMERICAL",Rw="ALPHANUMERICAL",xo="LOCALHOST",Zp="TLD",Wp="UTLD",oc="SCHEME",Sl="SLASH_SCHEME",Xm="NUM",em="WS",Jm="NL",no="OPENBRACE",ro="CLOSEBRACE",Cc="OPENBRACKET",Mc="CLOSEBRACKET",Oc="OPENPAREN",Nc="CLOSEPAREN",Ac="OPENANGLEBRACKET",Dc="CLOSEANGLEBRACKET",Rc="FULLWIDTHLEFTPAREN",jc="FULLWIDTHRIGHTPAREN",Lc="LEFTCORNERBRACKET",zc="RIGHTCORNERBRACKET",Bc="LEFTWHITECORNERBRACKET",Hc="RIGHTWHITECORNERBRACKET",_c="FULLWIDTHLESSTHAN",Uc="FULLWIDTHGREATERTHAN",Vc="AMPERSAND",qc="APOSTROPHE",Pc="ASTERISK",vi="AT",Ic="BACKSLASH",$c="BACKTICK",Yc="CARET",xi="COLON",Qm="COMMA",Kc="DOLLAR",rr="DOT",Gc="EQUALS",Zm="EXCLAMATION",Nn="HYPHEN",io="PERCENT",Fc="PIPE",Xc="PLUS",Jc="POUND",so="QUERY",Wm="QUOTE",jw="FULLWIDTHMIDDLEDOT",eg="SEMI",ir="SLASH",lo="TILDE",Qc="UNDERSCORE",Lw="EMOJI",Zc="SYM";var zw=Object.freeze({__proto__:null,ALPHANUMERICAL:Rw,AMPERSAND:Vc,APOSTROPHE:qc,ASCIINUMERICAL:Dw,ASTERISK:Pc,AT:vi,BACKSLASH:Ic,BACKTICK:$c,CARET:Yc,CLOSEANGLEBRACKET:Dc,CLOSEBRACE:ro,CLOSEBRACKET:Mc,CLOSEPAREN:Nc,COLON:xi,COMMA:Qm,DOLLAR:Kc,DOT:rr,EMOJI:Lw,EQUALS:Gc,EXCLAMATION:Zm,FULLWIDTHGREATERTHAN:Uc,FULLWIDTHLEFTPAREN:Rc,FULLWIDTHLESSTHAN:_c,FULLWIDTHMIDDLEDOT:jw,FULLWIDTHRIGHTPAREN:jc,HYPHEN:Nn,LEFTCORNERBRACKET:Lc,LEFTWHITECORNERBRACKET:Bc,LOCALHOST:xo,NL:Jm,NUM:Xm,OPENANGLEBRACKET:Ac,OPENBRACE:no,OPENBRACKET:Cc,OPENPAREN:Oc,PERCENT:io,PIPE:Fc,PLUS:Xc,POUND:Jc,QUERY:so,QUOTE:Wm,RIGHTCORNERBRACKET:zc,RIGHTWHITECORNERBRACKET:Hc,SCHEME:oc,SEMI:eg,SLASH:ir,SLASH_SCHEME:Sl,SYM:Zc,TILDE:lo,TLD:Zp,UNDERSCORE:Qc,UTLD:Wp,UWORD:Qp,WORD:jr,WS:em});const Dr=/[a-z]/,Ia=new RegExp("\\p{L}","u"),dp=new RegExp("\\p{Emoji}","u"),Rr=/\d/,hp=/\s/,U1="\r",pp=`
`,lj="",aj="",mp="";let Qu=null,Zu=null;function oj(n=[]){const e={};Jt.groups=e;const t=new Jt;Qu==null&&(Qu=V1(ej)),Zu==null&&(Zu=V1(tj)),X(t,"'",qc),X(t,"{",no),X(t,"}",ro),X(t,"[",Cc),X(t,"]",Mc),X(t,"(",Oc),X(t,")",Nc),X(t,"<",Ac),X(t,">",Dc),X(t,"",Rc),X(t,"",jc),X(t,"",Lc),X(t,"",zc),X(t,"",Bc),X(t,"",Hc),X(t,"",_c),X(t,"",Uc),X(t,"&",Vc),X(t,"*",Pc),X(t,"@",vi),X(t,"`",$c),X(t,"^",Yc),X(t,":",xi),X(t,",",Qm),X(t,"$",Kc),X(t,".",rr),X(t,"=",Gc),X(t,"!",Zm),X(t,"-",Nn),X(t,"%",io),X(t,"|",Fc),X(t,"+",Xc),X(t,"#",Jc),X(t,"?",so),X(t,'"',Wm),X(t,"/",ir),X(t,";",eg),X(t,"~",lo),X(t,"_",Qc),X(t,"\\",Ic),X(t,"",jw);const r=Ze(t,Rr,Xm,{[Gp]:!0});Ze(r,Rr,r);const l=Ze(r,Dr,Dw,{[to]:!0}),a=Ze(r,Ia,Rw,{[Fa]:!0}),u=Ze(t,Dr,jr,{[Fp]:!0});Ze(u,Rr,l),Ze(u,Dr,u),Ze(l,Rr,l),Ze(l,Dr,l);const f=Ze(t,Ia,Qp,{[Xp]:!0});Ze(f,Dr),Ze(f,Rr,a),Ze(f,Ia,f),Ze(a,Rr,a),Ze(a,Dr),Ze(a,Ia,a);const d=X(t,pp,Jm,{[fp]:!0}),h=X(t,U1,em,{[fp]:!0}),m=Ze(t,hp,em,{[fp]:!0});X(t,mp,m),X(h,pp,d),X(h,mp,m),Ze(h,hp,m),X(m,U1),X(m,pp),Ze(m,hp,m),X(m,mp,m);const y=Ze(t,dp,Lw,{[Aw]:!0});X(y,"#"),Ze(y,dp,y),X(y,lj,y);const v=X(y,aj);X(v,"#"),Ze(v,dp,y);const b=[[Dr,u],[Rr,l]],x=[[Dr,null],[Ia,f],[Rr,a]];for(let E=0;E<Qu.length;E++)pi(t,Qu[E],Zp,jr,b);for(let E=0;E<Zu.length;E++)pi(t,Zu[E],Wp,Qp,x);cs(Zp,{tld:!0,ascii:!0},e),cs(Wp,{utld:!0,alpha:!0},e),pi(t,"file",oc,jr,b),pi(t,"mailto",oc,jr,b),pi(t,"http",Sl,jr,b),pi(t,"https",Sl,jr,b),pi(t,"ftp",Sl,jr,b),pi(t,"ftps",Sl,jr,b),cs(oc,{scheme:!0,ascii:!0},e),cs(Sl,{slashscheme:!0,ascii:!0},e),n=n.sort((E,T)=>E[0]>T[0]?1:-1);for(let E=0;E<n.length;E++){const T=n[E][0],j=n[E][1]?{[nj]:!0}:{[rj]:!0};T.indexOf("-")>=0?j[Jp]=!0:Dr.test(T)?Rr.test(T)?j[to]=!0:j[Fp]=!0:j[Gp]=!0,_1(t,T,T,j)}return _1(t,"localhost",xo,{ascii:!0}),t.jd=new Jt(Zc),{start:t,tokens:Bl({groups:e},zw)}}function Bw(n,e){const t=uj(e.replace(/[A-Z]/g,f=>f.toLowerCase())),r=t.length,l=[];let a=0,u=0;for(;u<r;){let f=n,d=null,h=0,m=null,y=-1,v=-1;for(;u<r&&(d=f.go(t[u]));)f=d,f.accepts()?(y=0,v=0,m=f):y>=0&&(y+=t[u].length,v++),h+=t[u].length,a+=t[u].length,u++;a-=y,u-=v,h-=y,l.push({t:m.t,v:e.slice(a-h,a),s:a-h,e:a})}return l}function uj(n){const e=[],t=n.length;let r=0;for(;r<t;){let l=n.charCodeAt(r),a,u=l<55296||l>56319||r+1===t||(a=n.charCodeAt(r+1))<56320||a>57343?n[r]:n.slice(r,r+2);e.push(u),r+=u.length}return e}function pi(n,e,t,r,l){let a;const u=e.length;for(let f=0;f<u-1;f++){const d=e[f];n.j[d]?a=n.j[d]:(a=new Jt(r),a.jr=l.slice(),n.j[d]=a),n=a}return a=new Jt(t),a.jr=l.slice(),n.j[e[u-1]]=a,a}function V1(n){const e=[],t=[];let r=0,l="0123456789";for(;r<n.length;){let a=0;for(;l.indexOf(n[r+a])>=0;)a++;if(a>0){e.push(t.join(""));for(let u=parseInt(n.substring(r,r+a),10);u>0;u--)t.pop();r+=a}else t.push(n[r]),r++}return e}const So={defaultProtocol:"http",events:null,format:q1,formatHref:q1,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function tg(n,e=null){let t=Bl({},So);n&&(t=Bl(t,n instanceof tg?n.o:n));const r=t.ignoreTags,l=[];for(let a=0;a<r.length;a++)l.push(r[a].toUpperCase());this.o=t,e&&(this.defaultRender=e),this.ignoreTags=l}tg.prototype={o:So,ignoreTags:[],defaultRender(n){return n},check(n){return this.get("validate",n.toString(),n)},get(n,e,t){const r=e!=null;let l=this.o[n];return l&&(typeof l=="object"?(l=t.t in l?l[t.t]:So[n],typeof l=="function"&&r&&(l=l(e,t))):typeof l=="function"&&r&&(l=l(e,t.t,t)),l)},getObj(n,e,t){let r=this.o[n];return typeof r=="function"&&e!=null&&(r=r(e,t.t,t)),r},render(n){const e=n.render(this);return(this.get("render",null,n)||this.defaultRender)(e,n.t,n)}};function q1(n){return n}function Hw(n,e){this.t="token",this.v=n,this.tk=e}Hw.prototype={isLink:!1,toString(){return this.v},toHref(n){return this.toString()},toFormattedString(n){const e=this.toString(),t=n.get("truncate",e,this),r=n.get("format",e,this);return t&&r.length>t?r.substring(0,t)+"":r},toFormattedHref(n){return n.get("formatHref",this.toHref(n.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(n=So.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(n),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(n){return{type:this.t,value:this.toFormattedString(n),isLink:this.isLink,href:this.toFormattedHref(n),start:this.startIndex(),end:this.endIndex()}},validate(n){return n.get("validate",this.toString(),this)},render(n){const e=this,t=this.toHref(n.get("defaultProtocol")),r=n.get("formatHref",t,this),l=n.get("tagName",t,e),a=this.toFormattedString(n),u={},f=n.get("className",t,e),d=n.get("target",t,e),h=n.get("rel",t,e),m=n.getObj("attributes",t,e),y=n.getObj("events",t,e);return u.href=r,f&&(u.class=f),d&&(u.target=d),h&&(u.rel=h),m&&Bl(u,m),{tagName:l,attributes:u,content:a,eventListeners:y}}};function yf(n,e){class t extends Hw{constructor(l,a){super(l,a),this.t=n}}for(const r in e)t.prototype[r]=e[r];return t.t=n,t}const P1=yf("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),I1=yf("text"),cj=yf("nl"),Wu=yf("url",{isLink:!0,toHref(n=So.defaultProtocol){return this.hasProtocol()?this.v:`${n}://${this.v}`},hasProtocol(){const n=this.tk;return n.length>=2&&n[0].t!==xo&&n[1].t===xi}}),Mn=n=>new Jt(n);function fj({groups:n}){const e=n.domain.concat([Vc,Pc,vi,Ic,$c,Yc,Kc,Gc,Nn,Xm,io,Fc,Xc,Jc,ir,Zc,lo,Qc]),t=[qc,xi,Qm,rr,Zm,io,so,Wm,eg,Ac,Dc,no,ro,Mc,Cc,Oc,Nc,Rc,jc,Lc,zc,Bc,Hc,_c,Uc],r=[Vc,qc,Pc,Ic,$c,Yc,Kc,Gc,Nn,no,ro,io,Fc,Xc,Jc,so,ir,Zc,lo,Qc],l=Mn(),a=X(l,lo);Se(a,r,a),Se(a,n.domain,a);const u=Mn(),f=Mn(),d=Mn();Se(l,n.domain,u),Se(l,n.scheme,f),Se(l,n.slashscheme,d),Se(u,r,a),Se(u,n.domain,u);const h=X(u,vi);X(a,vi,h),X(f,vi,h),X(d,vi,h);const m=X(a,rr);Se(m,r,a),Se(m,n.domain,a);const y=Mn();Se(h,n.domain,y),Se(y,n.domain,y);const v=X(y,rr);Se(v,n.domain,y);const b=Mn(P1);Se(v,n.tld,b),Se(v,n.utld,b),X(h,xo,b);const x=X(y,Nn);X(x,Nn,x),Se(x,n.domain,y),Se(b,n.domain,y),X(b,rr,v),X(b,Nn,x);const E=X(b,xi);Se(E,n.numeric,P1);const T=X(u,Nn),C=X(u,rr);X(T,Nn,T),Se(T,n.domain,u),Se(C,r,a),Se(C,n.domain,u);const j=Mn(Wu);Se(C,n.tld,j),Se(C,n.utld,j),Se(j,n.domain,u),Se(j,r,a),X(j,rr,C),X(j,Nn,T),X(j,vi,h);const L=X(j,xi),M=Mn(Wu);Se(L,n.numeric,M);const _=Mn(Wu),q=Mn();Se(_,e,_),Se(_,t,q),Se(q,e,_),Se(q,t,q),X(j,ir,_),X(M,ir,_);const Q=X(f,xi),se=X(d,xi),J=X(se,ir),ce=X(J,ir);Se(f,n.domain,u),X(f,rr,C),X(f,Nn,T),Se(d,n.domain,u),X(d,rr,C),X(d,Nn,T),Se(Q,n.domain,_),X(Q,ir,_),X(Q,so,_),Se(ce,n.domain,_),Se(ce,e,_),X(ce,ir,_);const xe=[[no,ro],[Cc,Mc],[Oc,Nc],[Ac,Dc],[Rc,jc],[Lc,zc],[Bc,Hc],[_c,Uc]];for(let me=0;me<xe.length;me++){const[De,Ye]=xe[me],Oe=X(_,De);X(q,De,Oe),X(Oe,Ye,_);const V=Mn(Wu);Se(Oe,e,V);const F=Mn();Se(Oe,t),Se(V,e,V),Se(V,t,F),Se(F,e,V),Se(F,t,F),X(V,Ye,_),X(F,Ye,_)}return X(l,xo,j),X(l,Jm,cj),{start:l,tokens:zw}}function dj(n,e,t){let r=t.length,l=0,a=[],u=[];for(;l<r;){let f=n,d=null,h=null,m=0,y=null,v=-1;for(;l<r&&!(d=f.go(t[l].t));)u.push(t[l++]);for(;l<r&&(h=d||f.go(t[l].t));)d=null,f=h,f.accepts()?(v=0,y=f):v>=0&&v++,l++,m++;if(v<0)l-=m,l<r&&(u.push(t[l]),l++);else{u.length>0&&(a.push(gp(I1,e,u)),u=[]),l-=v,m-=v;const b=y.t,x=t.slice(l-m,l);a.push(gp(b,e,x))}}return u.length>0&&a.push(gp(I1,e,u)),a}function gp(n,e,t){const r=t[0].s,l=t[t.length-1].e,a=e.slice(r,l);return new n(a,t)}const hj=typeof console<"u"&&console&&console.warn||(()=>{}),pj="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",Ke={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function mj(){return Jt.groups={},Ke.scanner=null,Ke.parser=null,Ke.tokenQueue=[],Ke.pluginQueue=[],Ke.customSchemes=[],Ke.initialized=!1,Ke}function $1(n,e=!1){if(Ke.initialized&&hj(`linkifyjs: already initialized - will not register custom scheme "${n}" ${pj}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(n))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);Ke.customSchemes.push([n,e])}function gj(){Ke.scanner=oj(Ke.customSchemes);for(let n=0;n<Ke.tokenQueue.length;n++)Ke.tokenQueue[n][1]({scanner:Ke.scanner});Ke.parser=fj(Ke.scanner.tokens);for(let n=0;n<Ke.pluginQueue.length;n++)Ke.pluginQueue[n][1]({scanner:Ke.scanner,parser:Ke.parser});return Ke.initialized=!0,Ke}function ng(n){return Ke.initialized||gj(),dj(Ke.parser.start,n,Bw(Ke.scanner.start,n))}ng.scan=Bw;function _w(n,e=null,t=null){if(e&&typeof e=="object"){if(t)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);t=e,e=null}const r=new tg(t),l=ng(n),a=[];for(let u=0;u<l.length;u++){const f=l[u];f.isLink&&(!e||f.t===e)&&r.check(f)&&a.push(f.toFormattedObject(r))}return a}function yj(n){return n.length===1?n[0].isLink:n.length===3&&n[1].isLink?["()","[]"].includes(n[0].value+n[2].value):!1}function vj(n){return new St({key:new tn("autolink"),appendTransaction:(e,t,r)=>{const l=e.some(h=>h.docChanged)&&!t.doc.eq(r.doc),a=e.some(h=>h.getMeta("preventAutolink"));if(!l||a)return;const{tr:u}=r,f=yD(t.doc,[...e]);if(TD(f).forEach(({newRange:h})=>{const m=bD(r.doc,h,b=>b.isTextblock);let y,v;if(m.length>1?(y=m[0],v=r.doc.textBetween(y.pos,y.pos+y.node.nodeSize,void 0," ")):m.length&&r.doc.textBetween(h.from,h.to," "," ").endsWith(" ")&&(y=m[0],v=r.doc.textBetween(y.pos,h.to,void 0," ")),y&&v){const b=v.split(" ").filter(C=>C!=="");if(b.length<=0)return!1;const x=b[b.length-1],E=y.pos+v.lastIndexOf(x);if(!x)return!1;const T=ng(x).map(C=>C.toObject(n.defaultProtocol));if(!yj(T))return!1;T.filter(C=>C.isLink).map(C=>({...C,from:E+C.start+1,to:E+C.end+1})).filter(C=>r.schema.marks.code?!r.doc.rangeHasMark(C.from,C.to,r.schema.marks.code):!0).filter(C=>n.validate(C.value)).filter(C=>n.shouldAutoLink(C.value)).forEach(C=>{Bm(C.from,C.to,r.doc).some(j=>j.mark.type===n.type)||u.addMark(C.from,C.to,n.type.create({href:C.href}))})}}),!!u.steps.length)return u}})}function bj(n){return new St({key:new tn("handleClickLink"),props:{handleClick:(e,t,r)=>{var l,a;if(r.button!==0||!e.editable)return!1;let u=r.target;const f=[];for(;u.nodeName!=="DIV";)f.push(u),u=u.parentNode;if(!f.find(v=>v.nodeName==="A"))return!1;const d=JS(e.state,n.type.name),h=r.target,m=(l=h==null?void 0:h.href)!==null&&l!==void 0?l:d.href,y=(a=h==null?void 0:h.target)!==null&&a!==void 0?a:d.target;return h&&m?(window.open(m,y),!0):!1}}})}function xj(n){return new St({key:new tn("handlePasteLink"),props:{handlePaste:(e,t,r)=>{const{state:l}=e,{selection:a}=l,{empty:u}=a;if(u)return!1;let f="";r.content.forEach(h=>{f+=h.textContent});const d=_w(f,{defaultProtocol:n.defaultProtocol}).find(h=>h.isLink&&h.value===f);return!f||!d?!1:n.editor.commands.setMark(n.type,{href:d.href})}}})}const Sj=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g;function rs(n,e){const t=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(r=>{const l=typeof r=="string"?r:r.scheme;l&&t.push(l)}),!n||n.replace(Sj,"").match(new RegExp(`^(?:(?:${t.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}const Uw=cr.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(n=>{if(typeof n=="string"){$1(n);return}$1(n.scheme,n.optionalSlashes)})},onDestroy(){mj()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(n,e)=>!!rs(n,e.protocols),validate:n=>!!n,shouldAutoLink:n=>!!n}},addAttributes(){return{href:{default:null,parseHTML(n){return n.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:n=>{const e=n.getAttribute("href");return!e||!this.options.isAllowedUri(e,{defaultValidate:t=>!!rs(t,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:n}){return this.options.isAllowedUri(n.href,{defaultValidate:e=>!!rs(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",ut(this.options.HTMLAttributes,n),0]:["a",ut(this.options.HTMLAttributes,{...n,href:""}),0]},addCommands(){return{setLink:n=>({chain:e})=>{const{href:t}=n;return this.options.isAllowedUri(t,{defaultValidate:r=>!!rs(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().setMark(this.name,n).setMeta("preventAutolink",!0).run():!1},toggleLink:n=>({chain:e})=>{const{href:t}=n;return this.options.isAllowedUri(t,{defaultValidate:r=>!!rs(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().toggleMark(this.name,n,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run():!1},unsetLink:()=>({chain:n})=>n().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[Ss({find:n=>{const e=[];if(n){const{protocols:t,defaultProtocol:r}=this.options,l=_w(n).filter(a=>a.isLink&&this.options.isAllowedUri(a.value,{defaultValidate:u=>!!rs(u,t),protocols:t,defaultProtocol:r}));l.length&&l.forEach(a=>e.push({text:a.value,data:{href:a.href},index:a.start}))}return e},type:this.type,getAttributes:n=>{var e;return{href:(e=n.data)===null||e===void 0?void 0:e.href}}})]},addProseMirrorPlugins(){const n=[],{protocols:e,defaultProtocol:t}=this.options;return this.options.autolink&&n.push(vj({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:r=>this.options.isAllowedUri(r,{defaultValidate:l=>!!rs(l,e),protocols:e,defaultProtocol:t}),shouldAutoLink:this.options.shouldAutoLink})),this.options.openOnClick===!0&&n.push(bj({type:this.type})),this.options.linkOnPaste&&n.push(xj({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type})),n}}),Vw=cr.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:n=>n.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:n}){return["u",ut(this.options.HTMLAttributes,n),0]},addCommands(){return{setUnderline:()=>({commands:n})=>n.setMark(this.name),toggleUnderline:()=>({commands:n})=>n.toggleMark(this.name),unsetUnderline:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),qw=({onUpdate:n,initialContent:e})=>{const[t,r]=D.useState(!1),l=Sw({extensions:[Ow.configure({heading:!1,bulletList:{HTMLAttributes:{class:"list-disc pl-4"}},orderedList:{HTMLAttributes:{class:"list-decimal pl-4"}}}),Ew.configure({levels:[1,2],HTMLAttributes:{class:"heading-node"}}),Nw.configure({HTMLAttributes:{class:"max-w-full h-auto rounded-lg"},allowBase64:!0}),Uw.configure({openOnClick:!1,HTMLAttributes:{class:"text-violet-400 hover:text-violet-300 underline"}}),Vw],content:e||"<p>Start writing your blog post...</p>",editorProps:{attributes:{class:"prose prose-invert prose-sm sm:prose lg:prose-lg xl:prose-2xl mx-auto focus:outline-none min-h-[300px] p-5 border border-gray-700 rounded-lg focus:border-violet-500 focus:ring-2 focus:ring-violet-500/20 bg-gray-800 text-gray-100"}},onUpdate:({editor:h})=>{const m=h.getHTML();n==null||n(m)}});if(D.useEffect(()=>{l&&e&&l.commands.setContent(e)},[l,e]),!l)return null;const a=h=>{const m=h.target.files[0];if(!m)return;if(!m.type.startsWith("image/")){alert("Please upload an image file");return}r(!0);const y=new FileReader;y.onload=v=>{const b=v.target.result;l.chain().focus().setImage({src:b}).run(),r(!1)},y.onerror=()=>{alert("Error reading file"),r(!1)},y.readAsDataURL(m)},u=()=>{const h=document.createElement("input");h.type="file",h.accept="image/*",h.onchange=a,h.click()},f=()=>{var m;if(l.isActive("link")){l.chain().focus().unsetLink().run();return}const h=((m=l.state.selection.content().content.firstChild)==null?void 0:m.textContent)||"";if(h){const y=`https://example.com/${h.toLowerCase().replace(/\s+/g,"-")}`;l.chain().focus().setLink({href:y}).run()}},d=h=>{l.chain().focus().toggleHeading({level:h}).run()};return w.jsxs("div",{className:"max-w-4xl mx-auto",children:[l&&w.jsxs(Z3,{editor:l,tippyOptions:{duration:100},className:"flex items-center gap-1 bg-gray-800 rounded-lg shadow-lg border border-gray-700 p-1",children:[w.jsx("button",{onClick:()=>l.chain().focus().toggleBold().run(),className:`p-2 rounded hover:bg-gray-700 text-gray-200 ${l.isActive("bold")?"bg-gray-700 text-violet-400":""}`,title:"Bold",children:w.jsx(XC,{className:"h-4 w-4"})}),w.jsx("button",{onClick:()=>l.chain().focus().toggleItalic().run(),className:`p-2 rounded hover:bg-gray-700 text-gray-200 ${l.isActive("italic")?"bg-gray-700 text-violet-400":""}`,title:"Italic",children:w.jsx(uM,{className:"h-4 w-4"})}),w.jsx("button",{onClick:()=>l.chain().focus().toggleUnderline().run(),className:`p-2 rounded hover:bg-gray-700 text-gray-200 ${l.isActive("underline")?"bg-gray-700 text-violet-400":""}`,title:"Underline",children:w.jsx(zM,{className:"h-4 w-4"})}),w.jsx("button",{onClick:()=>d(1),className:`p-2 rounded hover:bg-gray-700 text-gray-200 ${l.isActive("heading",{level:1})?"bg-gray-700 text-violet-400":""}`,title:"Heading 1",children:w.jsx(iM,{className:"h-4 w-4"})}),w.jsx("button",{onClick:()=>d(2),className:`p-2 rounded hover:bg-gray-700 text-gray-200 ${l.isActive("heading",{level:2})?"bg-gray-700 text-violet-400":""}`,title:"Heading 2",children:w.jsx(lM,{className:"h-4 w-4"})}),w.jsx("button",{onClick:f,className:`p-2 rounded hover:bg-gray-700 text-gray-200 ${l.isActive("link")?"bg-gray-700 text-violet-400":""}`,title:"Add Link",children:w.jsx(hM,{className:"h-4 w-4"})}),w.jsx("button",{onClick:()=>l.chain().focus().toggleBulletList().run(),className:`p-2 rounded hover:bg-gray-700 text-gray-200 ${l.isActive("bulletList")?"bg-gray-700 text-violet-400":""}`,title:"Bullet List",children:w.jsx(yM,{className:"h-4 w-4"})}),w.jsx("button",{onClick:()=>l.chain().focus().toggleOrderedList().run(),className:`p-2 rounded hover:bg-gray-700 text-gray-200 ${l.isActive("orderedList")?"bg-gray-700 text-violet-400":""}`,title:"Numbered List",children:w.jsx(mM,{className:"h-4 w-4"})}),w.jsx("button",{onClick:u,disabled:t,className:`p-2 rounded hover:bg-gray-700 text-gray-200 ${t?"opacity-50 cursor-not-allowed":""}`,title:"Add Image",children:w.jsx(cx,{className:"h-4 w-4"})})]}),w.jsx(bw,{editor:l})]})},wj=()=>{const[n,e]=D.useState(""),[t,r]=D.useState(""),[l,a]=D.useState(null),[u,f]=D.useState(null),[d,h]=D.useState(!1),[m,y]=D.useState(""),[v,b]=D.useState(!1),x=dr();D.useEffect(()=>{localStorage.getItem("authToken")||x("/login")},[x]);const E=L=>{const M=L.target.files[0];if(M){a(M);const _=new FileReader;_.onloadend=()=>{f(_.result)},_.readAsDataURL(M)}},T=()=>{a(null),f(null)},C=()=>{e(""),r(""),a(null),f(null),b(!1),y("")},j=async()=>{if(!n.trim()){y("Please enter a title");return}if(!t||t==="<p>Start writing your blog post...</p>"){y("Please enter some content");return}try{h(!0),y(""),await JM({title:n,description:t,image:l}),b(!0)}catch(L){L.error==="Authentication required. Please login first."?x("/login"):y(L.error||"Failed to create post")}finally{h(!1)}};return v?w.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:w.jsx("div",{className:"bg-gray-800 p-8 rounded-lg shadow-lg max-w-md w-full",children:w.jsxs("div",{className:"flex flex-col items-center text-center",children:[w.jsx(eM,{className:"h-16 w-16 text-green-500 mb-4"}),w.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Post Created Successfully!"}),w.jsx("p",{className:"text-gray-400 mb-6",children:"Your blog post has been published."}),w.jsxs("div",{className:"flex flex-col space-y-4 w-full",children:[w.jsxs("button",{onClick:()=>x("/explore"),className:"flex items-center justify-center px-6 py-3 bg-violet-600 text-white rounded-lg hover:bg-violet-700 transition-colors",children:[w.jsx(ux,{className:"h-5 w-5 mr-2"}),"Explore Blog"]}),w.jsxs("button",{onClick:C,className:"flex items-center justify-center px-6 py-3 bg-gray-700 text-white rounded-lg hover:bg-gray-600 transition-colors",children:[w.jsx(cm,{className:"h-5 w-5 mr-2"}),"Write Another Post"]})]})]})})}):w.jsx("div",{className:"min-h-screen bg-gray-900",children:w.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[w.jsx("div",{className:"flex items-center mb-8",children:w.jsxs("button",{onClick:()=>x(-1),className:"flex items-center text-gray-400 hover:text-gray-200",children:[w.jsx(YC,{className:"h-5 w-5 mr-2"}),"Back"]})}),w.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-sm",children:[w.jsx("div",{className:"p-6 border-b border-gray-700",children:w.jsx("input",{type:"text",value:n,onChange:L=>e(L.target.value),placeholder:"Enter your post title...",className:"w-full text-3xl font-bold text-gray-100 placeholder-gray-500 bg-transparent focus:outline-none"})}),w.jsxs("div",{className:"p-6 border-b border-gray-700",children:[w.jsxs("label",{className:"flex items-center space-x-2 text-gray-400 hover:text-gray-200 cursor-pointer",children:[w.jsx(cx,{className:"h-5 w-5"}),w.jsx("span",{children:"Upload Cover Image"}),w.jsx("input",{type:"file",accept:"image/*",onChange:E,className:"hidden"})]}),u&&w.jsxs("div",{className:"mt-4 relative",children:[w.jsx("img",{src:u,alt:"Preview",className:"max-h-64 rounded-lg object-cover"}),w.jsx("button",{onClick:T,className:"absolute top-2 right-2 p-1 bg-red-500 text-white rounded-full hover:bg-red-600",children:w.jsx(Sp,{className:"h-4 w-4"})})]})]}),w.jsx("div",{className:"p-6",children:w.jsx(qw,{onUpdate:r})})]}),m&&w.jsx("div",{className:"mt-4 text-red-500 text-sm",children:m}),w.jsx("div",{className:"mt-6 flex justify-end",children:w.jsxs("button",{onClick:j,disabled:d,className:`flex items-center px-6 py-3 bg-violet-600 text-white rounded-lg transition-colors ${d?"opacity-50 cursor-not-allowed":"hover:bg-violet-700"}`,children:[w.jsx(OM,{className:"h-5 w-5 mr-2"}),d?"Publishing...":"Publish"]})})]})})},vf="http://localhost:5005",Ej=async(n,e)=>{try{const{token:t}=xt(),r=await fetch(`${vf}/comments`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},credentials:"include",body:JSON.stringify({postId:n,comment:e})});if(!r.ok){const l=await r.json();throw new Error(l.error||"Failed to create comment")}return await r.json()}catch(t){throw t.message||{error:"Failed to create comment"}}},kj=async(n,e)=>{try{const{token:t}=xt(),r=await fetch(`${vf}/comments/${n}`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},credentials:"include",body:JSON.stringify({comment:e})});if(!r.ok){const l=await r.json();throw new Error(l.error||"Failed to update comment")}return await r.json()}catch(t){throw t.message||{error:"Failed to update comment"}}},Tj=async n=>{try{const{token:e}=xt(),t=await fetch(`${vf}/comments/${n}`,{method:"DELETE",headers:{Authorization:`Bearer ${e}`},credentials:"include"});if(!t.ok){const r=await t.json();throw new Error(r.error||"Failed to delete comment")}return!0}catch(e){throw e.message||{error:"Failed to delete comment"}}},Pw=async n=>{try{const{token:e}=xt(),t=await fetch(`${vf}/comments/${n}`,{headers:{Authorization:`Bearer ${e}`},credentials:"include"}),r=await t.json();if(t.status===404)return[];if(!t.ok)throw new Error(r.error||"Failed to fetch comments");return r}catch(e){throw e.message||{error:"Failed to fetch comments"}}},Iw=({post:n})=>{const e=Sw({extensions:[Ow,Nw,Uw,Vw],content:n&&(n.content||n.description)||"",editable:!1});if(D.useEffect(()=>{e&&n&&e.commands.setContent(n.content||n.description||"")},[n,e]),!n)return null;const t=n.image_url||n.image||"https://images.unsplash.com/photo-1499750310107-5fef28a66643?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8YmxvZ3xlbnwwfHwwfHx8MA%3D%3D",r=n.fname&&n.lname?`${n.fname} ${n.lname}`:n.author||"Unknown Author",l=n.created_at?new Date(n.created_at).toLocaleDateString():"";return w.jsxs(w.Fragment,{children:[w.jsxs("div",{className:"flex items-center gap-4 mb-6 text-gray-400 text-sm",children:[w.jsxs("span",{children:["By ",r]}),l&&w.jsxs("span",{children:[" ",l]})]}),w.jsx("img",{src:t,alt:n.title,className:"w-full max-h-96 object-cover rounded-lg mb-8"}),e&&w.jsx("div",{className:"prose prose-invert max-w-none",children:w.jsx(bw,{editor:e})})]})},$w=({postId:n,comments:e,user:t})=>{const[r,l]=D.useState(e),[a,u]=D.useState(""),[f,d]=D.useState(!1),[h,m]=D.useState(""),[y,v]=D.useState(null),[b,x]=D.useState(""),E=async M=>{if(M.preventDefault(),!!a.trim()){d(!0),m("");try{const _=await Ej(n,a);l(q=>[...q,_]),u("")}catch(_){m(_.message||"Failed to post comment")}finally{d(!1)}}},T=async M=>{try{const _=await kj(M,b);l(q=>q.map(Q=>Q.id===M?_:Q)),v(null),x("")}catch(_){m(_.message||"Failed to update comment")}},C=async M=>{if(window.confirm("Are you sure you want to delete this comment?"))try{await Tj(M),l(_=>_.filter(q=>q.id!==M))}catch(_){m(_.message||"Failed to delete comment")}},j=M=>{v(M.id),x(M.comment)},L=()=>{v(null),x("")};return w.jsxs("div",{className:"mt-12",children:[w.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Comments"}),w.jsxs("form",{onSubmit:E,className:"mb-8",children:[w.jsx("textarea",{value:a,onChange:M=>u(M.target.value),placeholder:"Write a comment...",className:"w-full p-3 rounded-lg bg-gray-800 border border-gray-700 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-violet-600 focus:border-transparent",rows:"3"}),h&&w.jsx("p",{className:"text-red-400 text-sm mt-2",children:h}),w.jsx("button",{type:"submit",disabled:f||!a.trim(),className:"mt-2 px-4 py-2 bg-violet-600 text-white rounded-lg hover:bg-violet-700 focus:outline-none focus:ring-2 focus:ring-violet-600 focus:ring-offset-2 focus:ring-offset-gray-900 disabled:opacity-50 disabled:cursor-not-allowed",children:f?w.jsxs("span",{className:"flex items-center gap-2",children:[w.jsx(Cl,{className:"h-4 w-4 animate-spin"}),"Posting..."]}):"Post Comment"})]}),r.length>0?w.jsx("ul",{className:"space-y-4",children:r.map(M=>w.jsx("li",{className:"bg-gray-800 rounded-lg p-4",children:y===M.id?w.jsxs("div",{className:"space-y-2",children:[w.jsx("textarea",{value:b,onChange:_=>x(_.target.value),className:"w-full p-2 rounded-lg bg-gray-700 border border-gray-600 text-white",rows:"3"}),w.jsxs("div",{className:"flex gap-2",children:[w.jsx("button",{onClick:()=>T(M.id),className:"px-3 py-1 bg-violet-600 text-white rounded hover:bg-violet-700",children:w.jsx(ZC,{className:"h-4 w-4"})}),w.jsx("button",{onClick:L,className:"px-3 py-1 bg-gray-600 text-white rounded hover:bg-gray-700",children:w.jsx(Sp,{className:"h-4 w-4"})})]})]}):w.jsxs(w.Fragment,{children:[w.jsx("div",{className:"text-gray-200",children:M.comment}),w.jsxs("div",{className:"flex items-center justify-between mt-2",children:[w.jsx("div",{className:"text-sm text-gray-400",children:M.created_at&&w.jsx("span",{children:new Date(M.created_at).toLocaleDateString()})}),t&&t.id===M.user_id&&w.jsxs("div",{className:"flex gap-2",children:[w.jsx("button",{onClick:()=>j(M),className:"p-1 text-gray-400 hover:text-violet-400",children:w.jsx(fx,{className:"h-4 w-4"})}),t.role==="admin"&&w.jsx("button",{onClick:()=>C(M.id),className:"p-1 text-gray-400 hover:text-red-400",children:w.jsx(Sp,{className:"h-4 w-4"})})]})]})]})},M.id))}):w.jsx("div",{className:"text-gray-400",children:"No comments yet. Be the first to comment!"})]})},Cj=()=>{const{id:n}=W1(),[e,t]=D.useState(null),[r,l]=D.useState(!0),[a,u]=D.useState(""),[f,d]=D.useState([]),{user:h}=xt();return D.useEffect(()=>{(async()=>{l(!0),u("");try{const y=await px(n);t(y);const v=await Pw(n);d(v)}catch(y){u(y.message||"Failed to fetch post")}finally{l(!1)}})()},[n]),r?w.jsx("div",{className:"min-h-screen bg-gray-900 text-white flex items-center justify-center",children:"Loading..."}):a?w.jsx("div",{className:"min-h-screen bg-gray-900 text-red-400 flex items-center justify-center",children:a}):e?w.jsxs("div",{className:"min-h-screen bg-gray-900 text-white",children:[w.jsx(Ai,{}),w.jsxs("div",{className:"max-w-3xl mx-auto py-10 px-4 pt-24",children:[w.jsx("div",{className:"flex justify-between items-start mb-4",children:w.jsx("h1",{className:"text-3xl font-bold",children:e.title})}),w.jsx(Iw,{post:e}),w.jsx($w,{postId:n,comments:f,user:h})]})]}):null},Mj=()=>{const{id:n}=W1(),e=dr(),[t,r]=D.useState(null),[l,a]=D.useState(!0),[u,f]=D.useState(""),[d,h]=D.useState([]),[m,y]=D.useState(!1),[v,b]=D.useState({title:"",description:""}),{user:x}=xt();D.useEffect(()=>{(async()=>{a(!0),f("");try{const M=await px(n);r(M);const _=await Pw(n);h(_)}catch(M){f(M.message||"Failed to fetch post")}finally{a(!1)}})()},[n]);const E=async()=>{if(window.confirm("Are you sure you want to delete this post?"))try{await WM(n),e("/dashboard/posts")}catch(L){alert(L.message||"Failed to delete post")}},T=()=>{b({title:t.title,description:t.content||t.description||""}),y(!0)},C=async()=>{try{const L=await e2(n,v);r(L),y(!1),b({title:"",description:""})}catch(L){alert(L.message||"Failed to update post")}},j=()=>{y(!1),b({title:"",description:""})};return l?w.jsx("div",{className:"min-h-screen bg-gray-900 text-white flex items-center justify-center",children:"Loading..."}):u?w.jsx("div",{className:"min-h-screen bg-gray-900 text-red-400 flex items-center justify-center",children:u}):t?w.jsxs("div",{className:"min-h-screen bg-gray-900 text-white",children:[w.jsx(Ai,{}),w.jsx("div",{className:"max-w-3xl mx-auto py-10 px-4 pt-24",children:m?w.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm",children:[w.jsx("input",{type:"text",value:v.title,onChange:L=>b({...v,title:L.target.value}),className:"w-full mb-4 px-3 py-2 border border-gray-300 dark:border-gray-700 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white text-2xl font-bold",placeholder:"Post title"}),w.jsx("div",{className:"mb-4",children:w.jsx(qw,{onUpdate:L=>b(M=>({...M,description:L})),initialContent:v.description})}),w.jsxs("div",{className:"flex justify-end gap-2",children:[w.jsx("button",{onClick:j,className:"px-4 py-2 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:"Cancel"}),w.jsx("button",{onClick:C,className:"px-4 py-2 bg-violet-600 text-white rounded-lg hover:bg-violet-700 transition-colors",children:"Save Changes"})]})]}):w.jsxs(w.Fragment,{children:[w.jsxs("div",{className:"flex justify-between items-start mb-4",children:[w.jsx("h1",{className:"text-3xl font-bold",children:t.title}),w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsxs("button",{onClick:T,className:"flex items-center gap-1 bg-violet-500 text-white rounded-full px-3 py-1 text-sm hover:bg-violet-600 transition shadow-sm",title:"Edit Post",children:[w.jsx(fx,{className:"h-4 w-4"}),"Edit"]}),w.jsxs("button",{onClick:E,className:"flex items-center gap-1 bg-red-500 text-white rounded-full px-3 py-1 text-sm hover:bg-red-600 transition shadow-sm",title:"Delete Post",children:[w.jsx(DM,{className:"h-4 w-4"}),"Delete"]})]})]}),w.jsx(Iw,{post:t}),w.jsx($w,{postId:n,comments:d,user:x})]})})]}):null};function Oj(){return w.jsxs(rC,{children:[w.jsx(On,{path:"/",element:w.jsx(s2,{})}),w.jsx(On,{path:"/login",element:w.jsx(GM,{})}),w.jsx(On,{path:"/register",element:w.jsx(FM,{})}),w.jsx(On,{path:"/explore",element:w.jsx(n2,{})}),w.jsx(On,{path:"/create",element:w.jsx(wj,{})}),w.jsxs(On,{path:"/dashboard",element:w.jsx(ib,{children:w.jsx(XM,{})}),children:[w.jsx(On,{index:!0,element:w.jsx(nx,{to:"/dashboard/posts",replace:!0})}),w.jsx(On,{path:"posts",element:w.jsx(t2,{})})]}),w.jsx(On,{path:"/admin",element:w.jsx(l2,{})}),w.jsx(On,{path:"/view/:id",element:w.jsx(Cj,{})}),w.jsx(On,{path:"/post/:id",element:w.jsx(ib,{children:w.jsx(Mj,{})})})]})}cT.createRoot(document.getElementById("root")).render(w.jsx(Ct.StrictMode,{children:w.jsx(MC,{children:w.jsx(Oj,{})})}));
